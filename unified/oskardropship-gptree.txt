# Project Directory Structure:
.
├── config/
│   ├── requirements/
│   ├── settings/
│   │   ├── __init__.py
│   │   ├── base.py
│   │   ├── local.py
│   │   └── production.py
│   ├── __init__.py
│   ├── urls.py
│   └── wsgi.py
├── oscardropship/
│   ├── custom_oscar/
│   │   ├── catalogue/
│   │   │   ├── migrations/
│   │   │   │   ├── 0001_initial.py
│   │   │   │   ├── 0002_auto_20150217_1221.py
│   │   │   │   ├── 0003_data_migration_slugs.py
│   │   │   │   ├── 0004_auto_20150217_1710.py
│   │   │   │   ├── 0005_auto_20150604_1450.py
│   │   │   │   ├── 0006_auto_20150807_1725.py
│   │   │   │   ├── 0007_auto_20151207_1440.py
│   │   │   │   ├── 0008_auto_20160304_1652.py
│   │   │   │   ├── 0009_slugfield_noop.py
│   │   │   │   ├── 0010_auto_20170420_0439.py
│   │   │   │   ├── 0011_auto_20170422_1355.py
│   │   │   │   ├── 0012_auto_20170609_1902.py
│   │   │   │   ├── 0013_auto_20170821_1548.py
│   │   │   │   ├── 0014_auto_20181115_1953.py
│   │   │   │   ├── 0015_product_is_public.py
│   │   │   │   ├── 0016_auto_20190327_0757.py
│   │   │   │   ├── 0017_auto_20190816_0938.py
│   │   │   │   ├── 0018_auto_20191220_0920.py
│   │   │   │   └── __init__.py
│   │   │   ├── reviews/
│   │   │   │   ├── migrations/
│   │   │   │   │   ├── 0001_initial.py
│   │   │   │   │   ├── 0002_update_email_length.py
│   │   │   │   │   ├── 0003_auto_20160802_1358.py
│   │   │   │   │   ├── 0004_auto_20170429_0941.py
│   │   │   │   │   └── __init__.py
│   │   │   │   ├── __init__.py
│   │   │   │   ├── admin.py
│   │   │   │   ├── apps.py
│   │   │   │   ├── models.py
│   │   │   │   └── views.py
│   │   │   ├── __init__.py
│   │   │   ├── abstract_models.py
│   │   │   ├── admin.py
│   │   │   ├── apps.py
│   │   │   ├── models.py
│   │   │   ├── search_handlers.py
│   │   │   └── views.py
│   │   ├── checkout/
│   │   │   ├── __init__.py
│   │   │   ├── apps.py
│   │   │   ├── models.py
│   │   │   ├── paypal_client.py
│   │   │   └── views.py
│   │   ├── order/
│   │   │   ├── migrations/
│   │   │   │   ├── 0001_initial.py
│   │   │   │   ├── 0002_auto_20141007_2032.py
│   │   │   │   ├── 0003_auto_20150113_1629.py
│   │   │   │   ├── 0004_auto_20160111_1108.py
│   │   │   │   ├── 0005_update_email_length.py
│   │   │   │   ├── 0006_orderstatuschange.py
│   │   │   │   ├── 0007_auto_20181115_1953.py
│   │   │   │   ├── 0008_auto_20190301_1035.py
│   │   │   │   ├── 0009_surcharge.py
│   │   │   │   └── __init__.py
│   │   │   ├── __init__.py
│   │   │   ├── abstract_models.py
│   │   │   ├── admin.py
│   │   │   ├── apps.py
│   │   │   └── models.py
│   │   ├── partner/
│   │   │   ├── migrations/
│   │   │   │   ├── 0001_initial.py
│   │   │   │   ├── 0002_auto_20141007_2032.py
│   │   │   │   ├── 0003_auto_20150604_1450.py
│   │   │   │   ├── 0004_auto_20160107_1755.py
│   │   │   │   ├── 0005_auto_20181115_1953.py
│   │   │   │   └── __init__.py
│   │   │   ├── __init__.py
│   │   │   ├── admin.py
│   │   │   ├── apps.py
│   │   │   ├── models.py
│   │   │   └── strategy.py
│   │   ├── payment/
│   │   │   ├── migrations/
│   │   │   │   ├── 0001_initial.py
│   │   │   │   ├── 0002_auto_20141007_2032.py
│   │   │   │   ├── 0003_auto_20160323_1520.py
│   │   │   │   ├── 0004_auto_20181115_1953.py
│   │   │   │   ├── 0005_paypalorder.py
│   │   │   │   ├── 0006_auto_20200826_1740.py
│   │   │   │   └── __init__.py
│   │   │   ├── __init__.py
│   │   │   ├── abstract_models.py
│   │   │   ├── admin.py
│   │   │   ├── apps.py
│   │   │   ├── forms.py
│   │   │   └── models.py
│   │   ├── __init__.py
│   │   └── config.py
│   ├── multisite/
│   │   ├── migrations/
│   │   │   ├── 0001_initial.py
│   │   │   ├── 0002_newslettersetting.py
│   │   │   ├── 0003_auto_20200827_1719.py
│   │   │   ├── 0004_footerlinks_footerlinksrelatedlink.py
│   │   │   ├── 0005_auto_20200828_0445.py
│   │   │   ├── 0006_footersettings_about.py
│   │   │   ├── 0007_auto_20200828_0753.py
│   │   │   ├── 0008_organisation_site.py
│   │   │   ├── 0009_footerlinksauthorityitem.py
│   │   │   ├── 0010_auto_20200828_1034.py
│   │   │   ├── 0011_organisation_pinterest_url.py
│   │   │   ├── 0012_organisation_instagram_url.py
│   │   │   ├── 0013_organisation_about_page.py
│   │   │   ├── 0014_organisation_contact_page.py
│   │   │   └── __init__.py
│   │   ├── __init__.py
│   │   ├── abstracts.py
│   │   ├── admin.py
│   │   ├── apps.py
│   │   ├── models.py
│   │   ├── tests.py
│   │   └── views.py
│   ├── system/
│   │   ├── migrations/
│   │   │   ├── 0001_initial.py
│   │   │   └── __init__.py
│   │   ├── templatetags/
│   │   │   ├── __init__.py
│   │   │   └── json_messages.py
│   │   ├── __init__.py
│   │   ├── admin.py
│   │   ├── apps.py
│   │   ├── models.py
│   │   ├── tests.py
│   │   └── views.py
│   ├── templates/
│   │   ├── newsletter/
│   │   │   ├── message/
│   │   │   │   ├── message.html
│   │   │   │   ├── subscribe.html
│   │   │   │   ├── unsubscribe.html
│   │   │   │   └── update.html
│   │   │   ├── common.html
│   │   │   ├── newsletter_detail.html
│   │   │   ├── newsletter_list.html
│   │   │   ├── submission_archive.html
│   │   │   ├── subscription_activate.html
│   │   │   ├── subscription_subscribe.html
│   │   │   ├── subscription_subscribe_activated.html
│   │   │   ├── subscription_subscribe_email_sent.html
│   │   │   ├── subscription_subscribe_user.html
│   │   │   ├── subscription_unsubscribe.html
│   │   │   ├── subscription_unsubscribe_activated.html
│   │   │   ├── subscription_unsubscribe_email_sent.html
│   │   │   ├── subscription_unsubscribe_user.html
│   │   │   ├── subscription_update.html
│   │   │   ├── subscription_update_activated.html
│   │   │   └── subscription_update_email_sent.html
│   │   ├── oscar/
│   │   │   ├── basket/
│   │   │   │   ├── messages/
│   │   │   │   │   ├── addition.html
│   │   │   │   │   ├── line_restored.html
│   │   │   │   │   ├── line_saved.html
│   │   │   │   │   ├── new_total.html
│   │   │   │   │   ├── offer_gained.html
│   │   │   │   │   └── offer_lost.html
│   │   │   │   ├── partials/
│   │   │   │   │   ├── basket_content.html
│   │   │   │   │   ├── basket_quick.html
│   │   │   │   │   └── basket_totals.html
│   │   │   │   └── basket.html
│   │   │   ├── catalogue/
│   │   │   │   ├── partials/
│   │   │   │   │   ├── add_to_basket_form.html
│   │   │   │   │   ├── add_to_basket_form_compact.html
│   │   │   │   │   ├── add_to_wishlist.html
│   │   │   │   │   ├── gallery.html
│   │   │   │   │   ├── product.html
│   │   │   │   │   ├── review.html
│   │   │   │   │   └── stock_record.html
│   │   │   │   ├── reviews/
│   │   │   │   │   ├── partials/
│   │   │   │   │   │   └── review_stars.html
│   │   │   │   │   ├── review_detail.html
│   │   │   │   │   ├── review_form.html
│   │   │   │   │   ├── review_list.html
│   │   │   │   │   └── review_product.html
│   │   │   │   ├── browse.html
│   │   │   │   ├── category.html
│   │   │   │   └── detail.html
│   │   │   ├── checkout/
│   │   │   │   ├── checkout.html
│   │   │   │   ├── gateway.html
│   │   │   │   ├── layout.html
│   │   │   │   ├── nav.html
│   │   │   │   ├── payment_details.html
│   │   │   │   ├── preview.html
│   │   │   │   ├── shipping_address.html
│   │   │   │   ├── shipping_methods.html
│   │   │   │   ├── thank_you.html
│   │   │   │   ├── user_address_delete.html
│   │   │   │   └── user_address_form.html
│   │   │   ├── communication/
│   │   │   │   ├── email/
│   │   │   │   │   ├── email_detail.html
│   │   │   │   │   └── email_list.html
│   │   │   │   ├── emails/
│   │   │   │   │   ├── base.html
│   │   │   │   │   ├── commtype_email_changed_body.html
│   │   │   │   │   ├── commtype_order_placed_body.html
│   │   │   │   │   ├── commtype_password_changed_body.html
│   │   │   │   │   ├── commtype_password_reset_body.html
│   │   │   │   │   ├── commtype_product_alert_body.html
│   │   │   │   │   ├── commtype_product_alert_confirmation_body.html
│   │   │   │   │   └── commtype_registration_body.html
│   │   │   │   └── notifications/
│   │   │   │       ├── detail.html
│   │   │   │       └── list.html
│   │   │   ├── customer/
│   │   │   │   ├── address/
│   │   │   │   │   ├── address_delete.html
│   │   │   │   │   ├── address_form.html
│   │   │   │   │   └── address_list.html
│   │   │   │   ├── alerts/
│   │   │   │   │   ├── alert_list.html
│   │   │   │   │   ├── form.html
│   │   │   │   │   ├── message.html
│   │   │   │   │   └── message_subject.html
│   │   │   │   ├── history/
│   │   │   │   │   └── recently_viewed_products.html
│   │   │   │   ├── order/
│   │   │   │   │   ├── order_detail.html
│   │   │   │   │   └── order_list.html
│   │   │   │   ├── partials/
│   │   │   │   │   ├── nav_account.html
│   │   │   │   │   └── standard_tabs.html
│   │   │   │   ├── profile/
│   │   │   │   │   ├── change_password_form.html
│   │   │   │   │   ├── profile.html
│   │   │   │   │   ├── profile_delete.html
│   │   │   │   │   └── profile_form.html
│   │   │   │   ├── wishlists/
│   │   │   │   │   ├── wishlists_delete.html
│   │   │   │   │   ├── wishlists_delete_product.html
│   │   │   │   │   ├── wishlists_detail.html
│   │   │   │   │   ├── wishlists_form.html
│   │   │   │   │   └── wishlists_list.html
│   │   │   │   ├── anon_order.html
│   │   │   │   ├── baseaccountpage.html
│   │   │   │   ├── login_registration.html
│   │   │   │   └── registration.html
│   │   │   ├── dashboard/
│   │   │   │   ├── catalogue/
│   │   │   │   │   ├── messages/
│   │   │   │   │   │   └── product_saved.html
│   │   │   │   │   ├── attribute_option_group_delete.html
│   │   │   │   │   ├── attribute_option_group_form.html
│   │   │   │   │   ├── attribute_option_group_list.html
│   │   │   │   │   ├── attribute_option_group_row_actions.html
│   │   │   │   │   ├── attribute_option_group_row_name.html
│   │   │   │   │   ├── attribute_option_group_row_option_summary.html
│   │   │   │   │   ├── category_delete.html
│   │   │   │   │   ├── category_form.html
│   │   │   │   │   ├── category_list.html
│   │   │   │   │   ├── category_row_actions.html
│   │   │   │   │   ├── option_delete.html
│   │   │   │   │   ├── option_form.html
│   │   │   │   │   ├── option_list.html
│   │   │   │   │   ├── option_row_actions.html
│   │   │   │   │   ├── option_row_name.html
│   │   │   │   │   ├── product_class_delete.html
│   │   │   │   │   ├── product_class_form.html
│   │   │   │   │   ├── product_class_list.html
│   │   │   │   │   ├── product_delete.html
│   │   │   │   │   ├── product_list.html
│   │   │   │   │   ├── product_row_actions.html
│   │   │   │   │   ├── product_row_image.html
│   │   │   │   │   ├── product_row_stockrecords.html
│   │   │   │   │   ├── product_row_title.html
│   │   │   │   │   ├── product_row_variants.html
│   │   │   │   │   ├── product_update.html
│   │   │   │   │   └── stockalert_list.html
│   │   │   │   ├── comms/
│   │   │   │   │   ├── detail.html
│   │   │   │   │   └── list.html
│   │   │   │   ├── offers/
│   │   │   │   │   ├── benefit_form.html
│   │   │   │   │   ├── condition_form.html
│   │   │   │   │   ├── metadata_form.html
│   │   │   │   │   ├── offer_delete.html
│   │   │   │   │   ├── offer_detail.html
│   │   │   │   │   ├── offer_list.html
│   │   │   │   │   ├── progress.html
│   │   │   │   │   ├── restrictions_form.html
│   │   │   │   │   ├── step_form.html
│   │   │   │   │   └── summary.html
│   │   │   │   ├── orders/
│   │   │   │   │   ├── partials/
│   │   │   │   │   │   └── bulk_edit_form.html
│   │   │   │   │   ├── line_detail.html
│   │   │   │   │   ├── order_detail.html
│   │   │   │   │   ├── order_list.html
│   │   │   │   │   ├── shippingaddress_form.html
│   │   │   │   │   └── statistics.html
│   │   │   │   ├── pages/
│   │   │   │   │   ├── messages/
│   │   │   │   │   │   └── saved.html
│   │   │   │   │   ├── delete.html
│   │   │   │   │   ├── index.html
│   │   │   │   │   └── update.html
│   │   │   │   ├── partials/
│   │   │   │   │   ├── alert_messages.html
│   │   │   │   │   ├── form.html
│   │   │   │   │   ├── form_field.html
│   │   │   │   │   ├── form_fields.html
│   │   │   │   │   ├── form_fields_inline.html
│   │   │   │   │   ├── pagination.html
│   │   │   │   │   ├── product_images.html
│   │   │   │   │   └── stock_info.html
│   │   │   │   ├── partners/
│   │   │   │   │   ├── messages/
│   │   │   │   │   │   └── user_unlinked.html
│   │   │   │   │   ├── partner_delete.html
│   │   │   │   │   ├── partner_form.html
│   │   │   │   │   ├── partner_list.html
│   │   │   │   │   ├── partner_manage.html
│   │   │   │   │   ├── partner_user_form.html
│   │   │   │   │   ├── partner_user_list.html
│   │   │   │   │   └── partner_user_select.html
│   │   │   │   ├── ranges/
│   │   │   │   │   ├── messages/
│   │   │   │   │   │   ├── range_products_saved.html
│   │   │   │   │   │   └── range_saved.html
│   │   │   │   │   ├── range_delete.html
│   │   │   │   │   ├── range_form.html
│   │   │   │   │   ├── range_list.html
│   │   │   │   │   └── range_product_list.html
│   │   │   │   ├── reports/
│   │   │   │   │   ├── partials/
│   │   │   │   │   │   ├── offer_report.html
│   │   │   │   │   │   ├── open_basket_report.html
│   │   │   │   │   │   ├── order_report.html
│   │   │   │   │   │   ├── product_report.html
│   │   │   │   │   │   ├── submitted_basket_report.html
│   │   │   │   │   │   ├── user_report.html
│   │   │   │   │   │   └── voucher_report.html
│   │   │   │   │   └── index.html
│   │   │   │   ├── reviews/
│   │   │   │   │   ├── review_delete.html
│   │   │   │   │   ├── review_list.html
│   │   │   │   │   └── review_update.html
│   │   │   │   ├── shipping/
│   │   │   │   │   ├── messages/
│   │   │   │   │   │   ├── band_created.html
│   │   │   │   │   │   ├── band_deleted.html
│   │   │   │   │   │   ├── band_updated.html
│   │   │   │   │   │   ├── method_created.html
│   │   │   │   │   │   ├── method_deleted.html
│   │   │   │   │   │   └── method_updated.html
│   │   │   │   │   ├── weight_band_delete.html
│   │   │   │   │   ├── weight_band_form.html
│   │   │   │   │   ├── weight_based_delete.html
│   │   │   │   │   ├── weight_based_detail.html
│   │   │   │   │   ├── weight_based_form.html
│   │   │   │   │   └── weight_based_list.html
│   │   │   │   ├── users/
│   │   │   │   │   ├── alerts/
│   │   │   │   │   │   ├── partials/
│   │   │   │   │   │   │   └── alert.html
│   │   │   │   │   │   ├── delete.html
│   │   │   │   │   │   ├── list.html
│   │   │   │   │   │   └── update.html
│   │   │   │   │   ├── detail.html
│   │   │   │   │   ├── index.html
│   │   │   │   │   ├── table.html
│   │   │   │   │   ├── user_row_actions.html
│   │   │   │   │   └── user_row_checkbox.html
│   │   │   │   ├── vouchers/
│   │   │   │   │   ├── voucher_delete.html
│   │   │   │   │   ├── voucher_detail.html
│   │   │   │   │   ├── voucher_form.html
│   │   │   │   │   ├── voucher_list.html
│   │   │   │   │   ├── voucher_set_detail.html
│   │   │   │   │   ├── voucher_set_form.html
│   │   │   │   │   └── voucher_set_list.html
│   │   │   │   ├── widgets/
│   │   │   │   │   ├── popup_response.html
│   │   │   │   │   ├── related_multiple_widget_wrapper.html
│   │   │   │   │   └── related_widget_wrapper.html
│   │   │   │   ├── base.html
│   │   │   │   ├── index.html
│   │   │   │   ├── layout.html
│   │   │   │   ├── login.html
│   │   │   │   └── table.html
│   │   │   ├── forms/
│   │   │   │   └── widgets/
│   │   │   │       ├── date_time_picker.html
│   │   │   │       └── image_input_widget.html
│   │   │   ├── offer/
│   │   │   │   ├── detail.html
│   │   │   │   ├── list.html
│   │   │   │   └── range.html
│   │   │   ├── order/
│   │   │   │   └── partials/
│   │   │   │       └── basket_totals.html
│   │   │   ├── partials/
│   │   │   │   ├── alert_messages.html
│   │   │   │   ├── brand.html
│   │   │   │   ├── extrascripts.html
│   │   │   │   ├── footer.html
│   │   │   │   ├── footer_checkout.html
│   │   │   │   ├── form.html
│   │   │   │   ├── form_field.html
│   │   │   │   ├── form_fields.html
│   │   │   │   ├── form_fields_inline.html
│   │   │   │   ├── google_analytics.html
│   │   │   │   ├── google_analytics_transaction.html
│   │   │   │   ├── mini_basket.html
│   │   │   │   ├── nav_accounts.html
│   │   │   │   ├── nav_checkout.html
│   │   │   │   ├── nav_primary.html
│   │   │   │   ├── pagination.html
│   │   │   │   └── search.html
│   │   │   ├── registration/
│   │   │   │   ├── password_reset_complete.html
│   │   │   │   ├── password_reset_confirm.html
│   │   │   │   ├── password_reset_done.html
│   │   │   │   └── password_reset_form.html
│   │   │   ├── search/
│   │   │   │   ├── indexes/
│   │   │   │   │   └── product/
│   │   │   │   ├── partials/
│   │   │   │   │   ├── facet.html
│   │   │   │   │   └── pagination.html
│   │   │   │   └── results.html
│   │   │   ├── 403.html
│   │   │   ├── 404.html
│   │   │   ├── 500.html
│   │   │   ├── base.html
│   │   │   ├── error.html
│   │   │   ├── layout.html
│   │   │   ├── layout_2_col.html
│   │   │   ├── layout_3_col.html
│   │   │   └── login_forbidden.html
│   │   └── uikit/
│   │       ├── catalogue/
│   │       │   ├── partials/
│   │       │   │   └── stock_record.html
│   │       │   └── reviews/
│   │       │       └── partials/
│   │       │           └── review_stars.html
│   │       ├── checkout/
│   │       │   ├── payment_details.html
│   │       │   └── preview.html
│   │       ├── partials/
│   │       │   ├── alert_messages.html
│   │       │   ├── breadcrumbs.html
│   │       │   ├── footer.html
│   │       │   ├── home_banner.html
│   │       │   ├── information_bar.html
│   │       │   ├── nav_accounts.html
│   │       │   ├── nav_checkout.html
│   │       │   ├── nav_primary.html
│   │       │   ├── navbar.html
│   │       │   ├── navbar_accounts.html
│   │       │   ├── navbar_primary.html
│   │       │   ├── pagination.html
│   │       │   ├── search.html
│   │       │   └── social_media_links.html
│   │       ├── wagtail/
│   │       │   ├── blocks/
│   │       │   │   └── banner.html
│   │       │   └── partials/
│   │       │       └── product_small.html
│   │       ├── base.html
│   │       ├── home.html
│   │       ├── layout.html
│   │       └── layout_2_col.html
│   ├── wagtail_pages/
│   │   ├── migrations/
│   │   │   ├── 0001_initial.py
│   │   │   ├── 0002_homepagecategory.py
│   │   │   ├── 0003_homepage_banner.py
│   │   │   ├── 0004_homepagespecialproduct.py
│   │   │   ├── 0005_auto_20200827_1200.py
│   │   │   ├── 0006_homepage_about.py
│   │   │   ├── 0007_homepageblogpost.py
│   │   │   └── __init__.py
│   │   ├── __init__.py
│   │   ├── admin.py
│   │   ├── apps.py
│   │   ├── blocks.py
│   │   ├── models.py
│   │   ├── schemas.py
│   │   ├── tests.py
│   │   └── views.py
│   ├── __init__.py
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
├── LICENSE
└── manage.py

# BEGIN FILE CONTENTS

# File: config/settings/__init__.py




# File: config/settings/base.py

  1 | """
  2 | Django settings for oscardropship project.
  3 | 
  4 | Generated by 'django-admin startproject' using Django 2.2.12.
  5 | 
  6 | For more information on this file, see
  7 | https://docs.djangoproject.com/en/2.2/topics/settings/
  8 | 
  9 | For the full list of settings and their values, see
 10 | https://docs.djangoproject.com/en/2.2/ref/settings/
 11 | """
 12 | 
 13 | import os
 14 | import secrets
 15 | 
 16 | from django.utils.translation import ugettext_lazy as _
 17 | 
 18 | from oscar.defaults import *
 19 | 
 20 | # Build paths inside the project like this: os.path.join(BASE_DIR, ...)
 21 | BASE_DIR = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
 22 | APPS_DIR = os.path.join("oscardropship")
 23 | 
 24 | # Quick-start development settings - unsuitable for production
 25 | # See https://docs.djangoproject.com/en/2.2/howto/deployment/checklist/
 26 | 
 27 | # SECURITY WARNING: keep the secret key used in production secret!
 28 | SECRET_KEY = os.environ.setdefault('DJANGO_SECRET_KEY', '')
 29 | 
 30 | # SECURITY WARNING: don't run with debug turned on in production!
 31 | DEBUG = True
 32 | 
 33 | ALLOWED_HOSTS = []
 34 | AUTH_USER_MODEL = 'system.User'
 35 | 
 36 | ADMINS = os.environ.setdefault("ADMINS", '[["Hanz", "hctura.official@gmail.com"]]')
 37 | # convert admins (in json) to object
 38 | try:
 39 |     ADMINS = json.loads(ADMINS)
 40 |     ADMINS = [tuple(admin) for admin in ADMINS]
 41 | except Exception as e:
 42 |     ADMINS = []
 43 | 
 44 | RANDOM_ADMIN_URL = '{}/'.format(secrets.token_urlsafe(6))
 45 | DJANGO_ADMIN_URL = os.environ.setdefault(
 46 |     'DJANGO_ADMIN_URL', RANDOM_ADMIN_URL)
 47 | DEFAULT_FROM_EMAIL = os.environ.setdefault(
 48 |     'DEFAULT_FROM_EMAIL', 'webmaster@oscardropship.com')
 49 | SERVER_EMAIL = os.environ.setdefault(
 50 |     'SERVER_EMAIL', 'server@@oscardropship.com')
 51 | 
 52 | 
 53 | # Application definition
 54 | 
 55 | INSTALLED_APPS = [
 56 |     'django.contrib.admin',
 57 |     'django.contrib.auth',
 58 |     'django.contrib.contenttypes',
 59 |     'django.contrib.sessions',
 60 |     'django.contrib.messages',
 61 |     'django.contrib.staticfiles',
 62 | 
 63 |     'system.apps.SystemConfig',
 64 | 
 65 |     'django.contrib.sites',
 66 |     'django.contrib.flatpages',
 67 | 
 68 |     'custom_oscar.config.CustomShop',
 69 |     'oscar.apps.analytics.apps.AnalyticsConfig',
 70 |     # 'oscar.apps.checkout.apps.CheckoutConfig',
 71 |     'oscardropship.custom_oscar.checkout.apps.CheckoutConfig',
 72 |     'oscar.apps.address.apps.AddressConfig',
 73 |     'oscar.apps.shipping.apps.ShippingConfig',
 74 |     # 'oscar.apps.catalogue.apps.CatalogueConfig',
 75 |     # 'oscar.apps.catalogue.reviews.apps.CatalogueReviewsConfig',
 76 |     'oscardropship.custom_oscar.catalogue.apps.CatalogueConfig',
 77 |     'oscardropship.custom_oscar.catalogue.reviews.apps.CatalogueReviewsConfig',
 78 |     'oscar.apps.communication.apps.CommunicationConfig',
 79 |     # 'oscar.apps.partner.apps.PartnerConfig',
 80 |     'custom_oscar.partner.apps.PartnerConfig',
 81 |     'oscar.apps.basket.apps.BasketConfig',
 82 |     # 'oscar.apps.payment.apps.PaymentConfig',
 83 |     'oscardropship.custom_oscar.payment.apps.PaymentConfig',
 84 |     'oscar.apps.offer.apps.OfferConfig',
 85 |     # 'oscar.apps.order.apps.OrderConfig',
 86 |     'custom_oscar.order.apps.OrderConfig',
 87 |     'oscar.apps.customer.apps.CustomerConfig',
 88 |     'oscar.apps.search.apps.SearchConfig',
 89 |     'oscar.apps.voucher.apps.VoucherConfig',
 90 |     'oscar.apps.wishlists.apps.WishlistsConfig',
 91 |     'oscar.apps.dashboard.apps.DashboardConfig',
 92 |     'oscar.apps.dashboard.reports.apps.ReportsDashboardConfig',
 93 |     'oscar.apps.dashboard.users.apps.UsersDashboardConfig',
 94 |     'oscar.apps.dashboard.orders.apps.OrdersDashboardConfig',
 95 |     'oscar.apps.dashboard.catalogue.apps.CatalogueDashboardConfig',
 96 |     'oscar.apps.dashboard.offers.apps.OffersDashboardConfig',
 97 |     'oscar.apps.dashboard.partners.apps.PartnersDashboardConfig',
 98 |     'oscar.apps.dashboard.pages.apps.PagesDashboardConfig',
 99 |     'oscar.apps.dashboard.ranges.apps.RangesDashboardConfig',
100 |     'oscar.apps.dashboard.reviews.apps.ReviewsDashboardConfig',
101 |     'oscar.apps.dashboard.vouchers.apps.VouchersDashboardConfig',
102 |     'oscar.apps.dashboard.communications.apps.CommunicationsDashboardConfig',
103 |     'oscar.apps.dashboard.shipping.apps.ShippingDashboardConfig',
104 | 
105 |     # 3rd-party apps that oscar depends on
106 |     'widget_tweaks',
107 |     'haystack',
108 |     'treebeard',
109 |     'django_tables2',
110 |     'oscar_accounts.apps.AccountsConfig',
111 |     'oscar_accounts.dashboard.apps.AccountsDashboardConfig',
112 | 
113 |     # must haves
114 |     'django_extensions',
115 |     'easy_thumbnails',
116 |     'sorl.thumbnail',
117 | 
118 |     # wagtail
119 |     'wagtail.contrib.forms',
120 |     'wagtail.contrib.redirects',
121 |     'wagtail.embeds',
122 |     'wagtail.sites',
123 |     'wagtail.users',
124 |     'wagtail.snippets',
125 |     'wagtail.documents',
126 |     'wagtail.images',
127 |     'wagtail.search',
128 |     'wagtail.admin',
129 |     'wagtail.core',
130 |     'wagtail.contrib.sitemaps',
131 |     'wagtail.contrib.routable_page',
132 |     'wagtail.contrib.settings',
133 | 
134 |     'modelcluster',
135 |     'taggit',
136 | 
137 |     # puput
138 |     'django_social_share',
139 |     'puput',
140 |     'colorful',
141 | 
142 |     # other third parties
143 |     'tinymce',
144 |     'newsletter',
145 |     'colorfield',
146 | 
147 |     # project
148 |     'wagtail_pages',
149 |     'multisite',
150 | ]
151 | 
152 | MIDDLEWARE = [
153 |     'django.middleware.security.SecurityMiddleware',
154 |     'django.contrib.sessions.middleware.SessionMiddleware',
155 |     'django.middleware.common.CommonMiddleware',
156 |     'django.middleware.csrf.CsrfViewMiddleware',
157 |     'django.contrib.auth.middleware.AuthenticationMiddleware',
158 |     'django.contrib.messages.middleware.MessageMiddleware',
159 |     'django.middleware.clickjacking.XFrameOptionsMiddleware',
160 | 
161 |     'oscar.apps.basket.middleware.BasketMiddleware',
162 |     'django.contrib.flatpages.middleware.FlatpageFallbackMiddleware',
163 | 
164 |     'wagtail.contrib.redirects.middleware.RedirectMiddleware',
165 | ]
166 | 
167 | ROOT_URLCONF = 'config.urls'
168 | 
169 | TEMPLATES = [
170 |     {
171 |         'BACKEND': 'django.template.backends.django.DjangoTemplates',
172 |         'DIRS': [
173 |             os.path.join(APPS_DIR, 'templates'),
174 |         ],
175 |         'APP_DIRS': True,
176 |         'OPTIONS': {
177 |             'context_processors': [
178 |                 'django.template.context_processors.debug',
179 |                 'django.template.context_processors.request',
180 |                 'django.contrib.auth.context_processors.auth',
181 |                 'django.contrib.messages.context_processors.messages',
182 | 
183 |                 'oscar.apps.search.context_processors.search_form',
184 |                 'oscar.apps.checkout.context_processors.checkout',
185 |                 'oscar.apps.communication.notifications.context_processors.notifications',
186 |                 'oscar.core.context_processors.metadata',
187 | 
188 |                 'wagtail.contrib.settings.context_processors.settings',
189 |             ],
190 |         },
191 |     },
192 | ]
193 | 
194 | WSGI_APPLICATION = 'config.wsgi.application'
195 | 
196 | 
197 | # Database
198 | # https://docs.djangoproject.com/en/2.2/ref/settings/#databases
199 | 
200 | DATABASES = {
201 |     'default': {
202 |         'ENGINE': 'django.db.backends.postgresql_psycopg2',
203 |         'NAME': os.environ.setdefault('OSCARDROPSHIP_DATABASE_NAME', ''),
204 |         'USER': os.environ.setdefault('OSCARDROPSHIP_DATABASE_USER', ''),
205 |         'PASSWORD': os.environ.setdefault('OSCARDROPSHIP_DATABASE_PASSWORD', ''),
206 |         'HOST': os.environ.setdefault('OSCARDROPSHIP_DATABASE_HOST', ''),
207 |         'PORT': os.environ.setdefault('OSCARDROPSHIP_DATABASE_PORT', ''),
208 |         'ATOMIC_REQUESTS': True,
209 |     }
210 | }
211 | 
212 | 
213 | # Password validation
214 | # https://docs.djangoproject.com/en/2.2/ref/settings/#auth-password-validators
215 | 
216 | AUTH_PASSWORD_VALIDATORS = [
217 |     {
218 |         'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
219 |     },
220 |     {
221 |         'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
222 |     },
223 |     {
224 |         'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
225 |     },
226 |     {
227 |         'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
228 |     },
229 | ]
230 | 
231 | AUTHENTICATION_BACKENDS = (
232 |     'oscar.apps.customer.auth_backends.EmailBackend',
233 |     'django.contrib.auth.backends.ModelBackend',
234 | )
235 | 
236 | # Internationalization
237 | # https://docs.djangoproject.com/en/2.2/topics/i18n/
238 | 
239 | LANGUAGE_CODE = 'en'
240 | 
241 | TIME_ZONE = 'UTC'
242 | 
243 | USE_I18N = False
244 | 
245 | USE_L10N = True
246 | 
247 | USE_TZ = True
248 | 
249 | SITE_ID = 1
250 | 
251 | 
252 | # Static files (CSS, JavaScript, Images)
253 | # https://docs.djangoproject.com/en/2.2/howto/static-files/
254 | 
255 | STATIC_URL = '/static/'
256 | STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')
257 | 
258 | STATICFILES_FINDERS = [
259 |     'django.contrib.staticfiles.finders.FileSystemFinder',
260 |     'django.contrib.staticfiles.finders.AppDirectoriesFinder',
261 | ]
262 | 
263 | STATICFILES_DIRS = [
264 |     os.path.join(BASE_DIR, 'static'),
265 | ]
266 | STATICFILES_STORAGE = 'django.contrib.staticfiles.storage.ManifestStaticFilesStorage'
267 | 
268 | MEDIA_ROOT = os.path.join(BASE_DIR, 'media')
269 | MEDIA_URL = '/media/'
270 | 
271 | GOOGLE_ANALYTICS_PROPERTY_ID = os.environ.setdefault('GOOGLE_ANALYTICS_PROPERTY_ID', '')
272 | 
273 | ENVIRONMENT_FLOAT = True
274 | ENVIRONMENT_NAME = "Production server"
275 | ENVIRONMENT_COLOR = "#E74C3C"
276 | 
277 | # other django oscar settings
278 | HAYSTACK_CONNECTIONS = {
279 |     'default': {
280 |         'ENGINE': 'haystack.backends.simple_backend.SimpleEngine',
281 |     },
282 | }
283 | 
284 | OSCAR_SHOP_NAME = "My Novelty Shop"
285 | OSCAR_INITIAL_ORDER_STATUS = 'Pending'
286 | OSCAR_INITIAL_LINE_STATUS = 'Pending'
287 | OSCAR_ORDER_STATUS_PIPELINE = {
288 |     'Pending': (
289 |         'Being processed',
290 |         'Cancelled',
291 |     ),
292 |     'Being processed': (
293 |         'Shipped',
294 |         'Cancelled',
295 |     ),
296 |     'Shipped': (
297 |         'Received',
298 |         'Cancelled',
299 |     ),
300 |     'Received': (),
301 |     'Cancelled': (),
302 | }
303 | OSCAR_ORDER_STATUS_CASCADE = {
304 |     'Being processed': 'Being processed',
305 |     'Shipped': 'Shipped',
306 |     'Received': 'Received',
307 |     'Cancelled': 'Cancelled',
308 | }
309 | OSCAR_LINE_STATUS_PIPELINE = {
310 |     'Pending': (
311 |         'Being processed',
312 |         'Cancelled',
313 |     ),
314 |     'Being processed': (
315 |         'Shipped',
316 |         'Cancelled',
317 |     ),
318 |     'Shipped': (
319 |         'Received',
320 |         'Cancelled',
321 |     ),
322 |     'Received': (),
323 |     'Cancelled': (),
324 | }
325 | OSCAR_ALLOW_ANON_CHECKOUT = True
326 | OSCAR_FROM_EMAIL = os.environ.setdefault("OSCAR_FROM_EMAIL", "oscar@example.com")
327 | OSCAR_DEFAULT_CURRENCY = "USD"
328 | OSCAR_USE_LESS = False
329 | OSCAR_HOMEPAGE = reverse_lazy('wagtail_serve', args=[''])
330 | 
331 | # paypal
332 | PAYPAL_SANDBOX_MODE = False
333 | PAYPAL_CALLBACK_HTTPS = True
334 | PAYPAL_API_ACCOUNT = os.environ.setdefault('PAYPAL_API_ACCOUNT', '')
335 | PAYPAL_API_CLIENT_ID = os.environ.setdefault('PAYPAL_API_CLIENT_ID', '')
336 | PAYPAL_API_SECRET = os.environ.setdefault('PAYPAL_API_SECRET', '')
337 | PAYPAL_CURRENCY = PAYPAL_PAYFLOW_CURRENCY = 'USD'
338 | PAYPAL_PAYFLOW_DASHBOARD_FORMS = True
339 | 
340 | # oscar-accounts
341 | OSCAR_DASHBOARD_NAVIGATION.append(
342 |     {
343 |         'label': 'Accounts',
344 |         'icon': 'icon-globe',
345 |         'children': [
346 |             {
347 |                 'label': 'Accounts',
348 |                 'url_name': 'accounts_dashboard:accounts-list',
349 |             },
350 |             {
351 |                 'label': 'Transfers',
352 |                 'url_name': 'accounts_dashboard:transfers-list',
353 |             },
354 |             {
355 |                 'label': 'Deferred income report',
356 |                 'url_name': 'accounts_dashboard:report-deferred-income',
357 |             },
358 |             {
359 |                 'label': 'Profit/loss report',
360 |                 'url_name': 'accounts_dashboard:report-profit-loss',
361 |             },
362 |         ]
363 |     })
364 | 
365 | # wagtail
366 | WAGTAIL_SITE_NAME = 'My Example Site'
367 | 
368 | # puput
369 | PUPUT_AS_PLUGIN = True
370 | 
371 | # django-newesletter
372 | NEWSLETTER_CONFIRM_EMAIL = False
373 | NEWSLETTER_RICHTEXT_WIDGET = "tinymce.widgets.TinyMCE"
374 | # Amount of seconds to wait between each email. Here 100ms is used.
375 | NEWSLETTER_EMAIL_DELAY = 0.1
376 | 
377 | # Amount of seconds to wait between each batch. Here one minute is used.
378 | NEWSLETTER_BATCH_DELAY = 60
379 | 
380 | # Number of emails in one batch
381 | NEWSLETTER_BATCH_SIZE = 100


# File: config/settings/local.py

 1 | from .base import *
 2 | 
 3 | # SECURITY WARNING: don't run with debug turned on in production!
 4 | DEBUG = True
 5 | 
 6 | # SECURITY WARNING: define the correct hosts in production!
 7 | ALLOWED_HOSTS = ['*']
 8 | 
 9 | EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'
10 | 
11 | INTERNAL_IPS = ['127.0.0.1']
12 | 
13 | INSTALLED_APPS += ['debug_toolbar', ]
14 | MIDDLEWARE += ['debug_toolbar.middleware.DebugToolbarMiddleware', ]
15 | COMPRESS_ENABLED = True
16 | 
17 | DJANGO_ADMIN_URL = 'xadmin/'
18 | WAGTAIL_CMS_URL = 'xcms/'
19 | 
20 | ENVIRONMENT_NAME = "Development server"
21 | ENVIRONMENT_COLOR = "#5DADE2"
22 | 
23 | PAYPAL_SANDBOX_MODE = True
24 | PAYPAL_CALLBACK_HTTPS = False


# File: config/settings/production.py

 1 | from .base import *
 2 | 
 3 | DEBUG = False
 4 | 
 5 | ALLOWED_HOSTS = os.environ.setdefault('ALLOWED_HOST', '')
 6 | ALLOWED_HOSTS = ALLOWED_HOSTS.split(',')
 7 | 
 8 | INSTALLED_APPS += ['anymail']
 9 | 
10 | CSRF_COOKIE_SECURE = True
11 | SESSION_COOKIE_SECURE = True
12 | 
13 | DATABASES = {
14 |     'default': {
15 |         'ENGINE': 'django.db.backends.postgresql_psycopg2',
16 |         'NAME': os.environ.setdefault('DATABASE_NAME', ''),
17 |         'USER': os.environ.setdefault('DATABASE_USER', ''),
18 |         'PASSWORD': os.environ.setdefault('DATABASE_PASSWORD', ''),
19 |         'HOST': os.environ.setdefault('DATABASE_HOST', ''),
20 |         'PORT': os.environ.setdefault('DATABASE_PORT', ''),
21 |         'ATOMIC_REQUESTS': True,
22 |     }
23 | }
24 | 
25 | MEDIA_ROOT = os.environ.setdefault('MEDIA_ROOT', os.path.join(BASE_DIR, 'media'))
26 | MEDIA_URL = os.environ.setdefault('MEDIA_URL', '/media/')
27 | 
28 | COMPRESS_OFFLINE = False
29 | 
30 | # EMAIL CONFIGURATION
31 | # ----------------------------------------------------------------------------
32 | 
33 | MAILGUN_API_KEY = os.environ.setdefault(
34 |     "MAILGUN_API_KEY", "")
35 | MAILGUN_API_BASE_URL = os.environ.setdefault(
36 |     "MAILGUN_API_BASE_URL", "")
37 | 
38 | ANYMAIL = {
39 |     "MAILGUN_API_KEY": MAILGUN_API_KEY,
40 |     "MAILGUN_SENDER_DOMAIN": MAILGUN_API_BASE_URL
41 | }
42 | EMAIL_BACKEND = "anymail.backends.mailgun.EmailBackend"
43 | 
44 | OSCAR_URL_SCHEMA = "https"


# File: config/__init__.py




# File: config/urls.py

 1 | """oscardropship URL Configuration
 2 | 
 3 | The `urlpatterns` list routes URLs to views. For more information please see:
 4 |     https://docs.djangoproject.com/en/2.2/topics/http/urls/
 5 | Examples:
 6 | Function views
 7 |     1. Add an import:  from my_app import views
 8 |     2. Add a URL to urlpatterns:  path('', views.home, name='home')
 9 | Class-based views
10 |     1. Add an import:  from other_app.views import Home
11 |     2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')
12 | Including another URLconf
13 |     1. Import the include() function: from django.urls import include, path
14 |     2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))
15 | """
16 | from django.apps import apps
17 | from django.conf import settings
18 | from django.contrib import admin
19 | from django.urls import path, include
20 | 
21 | from puput import urls as puput_urls
22 | from wagtail.admin import urls as wagtailadmin_urls
23 | from wagtail.core import urls as wagtail_urls
24 | 
25 | 
26 | urlpatterns = [
27 |     path(settings.DJANGO_ADMIN_URL, admin.site.urls),
28 |     path('newsletter/', include('newsletter.urls')),
29 |     path('shop/dashboard/accounts/', apps.get_app_config('accounts_dashboard').urls),
30 |     path('shop/', include(apps.get_app_config('oscar').urls[0])),
31 |     path('tinymce/', include('tinymce.urls')),
32 | 
33 |     path(settings.WAGTAIL_CMS_URL, include(wagtailadmin_urls)),
34 | 
35 |     path('', include(puput_urls)),
36 |     path('', include(wagtail_urls)),
37 | ]
38 | 
39 | 
40 | if settings.DEBUG:
41 |     import debug_toolbar
42 | 
43 |     from django.conf.urls.static import static
44 |     from django.contrib.staticfiles.urls import staticfiles_urlpatterns
45 | 
46 |     # Serve static and media files from development server
47 |     urlpatterns += staticfiles_urlpatterns()
48 |     urlpatterns += static(
49 |         settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
50 |     urlpatterns = [
51 |         path('__debug__/', include(debug_toolbar.urls)),
52 | 
53 |         # For django versions before 2.0:
54 |         # url(r'^__debug__/', include(debug_toolbar.urls)),
55 | 
56 |     ] + urlpatterns


# File: config/wsgi.py

 1 | """
 2 | WSGI config for oscardropship project.
 3 | 
 4 | It exposes the WSGI callable as a module-level variable named ``application``.
 5 | 
 6 | For more information on this file, see
 7 | https://docs.djangoproject.com/en/2.2/howto/deployment/wsgi/
 8 | """
 9 | 
10 | import os
11 | 
12 | from django.core.wsgi import get_wsgi_application
13 | 
14 | os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'oscardropship.settings')
15 | 
16 | application = get_wsgi_application()


# File: oscardropship/custom_oscar/catalogue/reviews/__init__.py

1 | default_app_config = 'oscardropship.custom_oscar.catalogue.reviews.apps.CatalogueReviewsConfig'


# File: oscardropship/custom_oscar/catalogue/reviews/admin.py

1 | from oscar.apps.catalogue.reviews.admin import *  # noqa


# File: oscardropship/custom_oscar/catalogue/reviews/apps.py

 1 | import oscar.apps.catalogue.reviews.apps as apps
 2 | 
 3 | get_class = apps.get_class
 4 | 
 5 | 
 6 | class CatalogueReviewsConfig(apps.CatalogueReviewsConfig):
 7 |     name = 'oscardropship.custom_oscar.catalogue.reviews'
 8 | 
 9 |     def ready(self):
10 |         self.detail_view = get_class('reviews.views', 'ProductReviewDetail')
11 |         self.create_view = get_class('reviews.views', 'CreateProductReview')
12 |         self.vote_view = get_class('reviews.views', 'AddVoteView')
13 |         self.list_view = get_class('reviews.views', 'ProductReviewList')


# File: oscardropship/custom_oscar/catalogue/reviews/models.py

1 | from oscar.apps.catalogue.reviews.models import *  # noqa isort:skip


# File: oscardropship/custom_oscar/catalogue/reviews/views.py

1 | from oscar.apps.catalogue.reviews.views import *


# File: oscardropship/custom_oscar/catalogue/__init__.py

1 | default_app_config = 'oscardropship.custom_oscar.catalogue.apps.CatalogueConfig'


# File: oscardropship/custom_oscar/catalogue/abstract_models.py

 1 | from oscar.apps.catalogue.abstract_models import (
 2 |     AbstractCategory as BaseAbstractCategory,
 3 |     AbstractProduct as BaseAbstractProduct,
 4 |     _,
 5 |     reverse)
 6 | 
 7 | 
 8 | class AbstractCategory(BaseAbstractCategory):
 9 |     _slug_separator = '/'
10 | 
11 |     class Meta:
12 |         abstract = True
13 |         app_label = 'catalogue'
14 |         ordering = ['path']
15 |         verbose_name = _('Category')
16 |         verbose_name_plural = _('Categories')
17 | 
18 |     def _get_absolute_url(self, parent_slug=None):
19 |         """
20 |         Our URL scheme means we have to look up the category's ancestors. As
21 |         that is a bit more expensive, we cache the generated URL. That is
22 |         safe even for a stale cache, as the default implementation of
23 |         ProductCategoryView does the lookup via primary key anyway. But if
24 |         you change that logic, you'll have to reconsider the caching
25 |         approach.
26 |         """
27 |         return reverse('catalogue:category', kwargs={
28 |             'category_slug': self.slug, 'pk': self.pk
29 |         })
30 | 
31 | 
32 | class AbstractProduct(BaseAbstractProduct):
33 | 
34 |     class Meta:
35 |         abstract = True
36 |         app_label = 'catalogue'
37 |         ordering = ['-date_created']
38 |         verbose_name = _('Product')
39 |         verbose_name_plural = _('Products')
40 | 
41 |     def get_all_images(self):
42 |         if self.is_child and not self.images.exists() and self.parent_id is not None:
43 |             return self.parent.images.all()
44 |         return self.images.all()


# File: oscardropship/custom_oscar/catalogue/admin.py

1 | from oscar.apps.catalogue.admin import *  # noqa


# File: oscardropship/custom_oscar/catalogue/apps.py

 1 | import oscar.apps.catalogue.apps as apps
 2 | 
 3 | from django.urls import path
 4 | 
 5 | url = apps.url
 6 | 
 7 | 
 8 | class CatalogueOnlyConfig(apps.CatalogueOnlyConfig):
 9 |     name = 'oscardropship.custom_oscar.catalogue'
10 | 
11 |     def get_urls(self):
12 |         urls = super().get_urls()
13 |         urls += [
14 |             url(r'^$', self.catalogue_view.as_view(), name='index'),
15 |             url(
16 |                 r'^(?P<product_slug>[\w-]*)_(?P<pk>\d+)/$',
17 |                 self.detail_view.as_view(),
18 |                 name='detail'
19 |             ),
20 |             path(
21 |                 'collections/<slug:category_slug>_<int:pk>/',
22 |                 self.category_view.as_view(),
23 |                 name='category'
24 |             ),
25 |             # url(
26 |             #     r'^collections/(?P<category_slug>[\w-]+(/[\w-]+)*)_(?P<pk>\d+)/$',
27 |             #     self.category_view.as_view(),
28 |             #     name='category'
29 |             # ),
30 |             url(r'^ranges/(?P<slug>[\w-]+)/$',
31 |                 self.range_view.as_view(), name='range'),
32 |         ]
33 |         return self.post_process_urls(urls)
34 | 
35 | 
36 | class CatalogueReviewsOnlyConfig(apps.CatalogueReviewsOnlyConfig):
37 |     name = 'oscardropship.custom_oscar.catalogue'
38 | 
39 | 
40 | class CatalogueConfig(CatalogueOnlyConfig, CatalogueReviewsOnlyConfig):
41 |     pass


# File: oscardropship/custom_oscar/catalogue/models.py

 1 | from .abstract_models import AbstractCategory, AbstractProduct
 2 | 
 3 | 
 4 | class Category(AbstractCategory):
 5 |     pass
 6 | 
 7 | 
 8 | class Product(AbstractProduct):
 9 |     pass
10 | 
11 | 
12 | from oscar.apps.catalogue.models import *  # noqa isort:skip


# File: oscardropship/custom_oscar/catalogue/search_handlers.py

  1 | from django.conf import settings
  2 | from django.utils.module_loading import import_string
  3 | from django.views.generic.list import MultipleObjectMixin
  4 | 
  5 | from oscar.core.loading import get_class, get_model
  6 | 
  7 | BrowseCategoryForm = get_class('search.forms', 'BrowseCategoryForm')
  8 | SearchHandler = get_class('search.search_handlers', 'SearchHandler')
  9 | is_solr_supported = get_class('search.features', 'is_solr_supported')
 10 | is_elasticsearch_supported = get_class('search.features', 'is_elasticsearch_supported')
 11 | Product = get_model('catalogue', 'Product')
 12 | 
 13 | 
 14 | def get_product_search_handler_class():
 15 |     """
 16 |     Determine the search handler to use.
 17 | 
 18 |     Currently only Solr is supported as a search backend, so it falls
 19 |     back to rudimentary category browsing if that isn't enabled.
 20 |     """
 21 |     # Use get_class to ensure overridability
 22 |     if settings.OSCAR_PRODUCT_SEARCH_HANDLER is not None:
 23 |         return import_string(settings.OSCAR_PRODUCT_SEARCH_HANDLER)
 24 |     if is_solr_supported():
 25 |         return get_class('catalogue.search_handlers', 'SolrProductSearchHandler')
 26 |     elif is_elasticsearch_supported():
 27 |         return get_class(
 28 |             'catalogue.search_handlers', 'ESProductSearchHandler',
 29 |         )
 30 |     else:
 31 |         return get_class(
 32 |             'catalogue.search_handlers', 'SimpleProductSearchHandler')
 33 | 
 34 | 
 35 | class SolrProductSearchHandler(SearchHandler):
 36 |     """
 37 |     Search handler specialised for searching products.  Comes with optional
 38 |     category filtering. To be used with a Solr search backend.
 39 |     """
 40 |     form_class = BrowseCategoryForm
 41 |     model_whitelist = [Product]
 42 |     paginate_by = settings.OSCAR_PRODUCTS_PER_PAGE
 43 | 
 44 |     def __init__(self, request_data, full_path, categories=None):
 45 |         self.categories = categories
 46 |         super().__init__(request_data, full_path)
 47 | 
 48 |     def get_search_queryset(self):
 49 |         sqs = super().get_search_queryset()
 50 |         if self.categories:
 51 |             # We use 'narrow' API to ensure Solr's 'fq' filtering is used as
 52 |             # opposed to filtering using 'q'.
 53 |             pattern = ' OR '.join([
 54 |                 '"%s"' % sqs.query.clean(c.full_name) for c in self.categories])
 55 |             sqs = sqs.narrow('category_exact:(%s)' % pattern)
 56 |         return sqs
 57 | 
 58 | 
 59 | class ESProductSearchHandler(SearchHandler):
 60 |     """
 61 |     Search handler specialised for searching products.  Comes with optional
 62 |     category filtering. To be used with an ElasticSearch search backend.
 63 |     """
 64 |     form_class = BrowseCategoryForm
 65 |     model_whitelist = [Product]
 66 |     paginate_by = settings.OSCAR_PRODUCTS_PER_PAGE
 67 | 
 68 |     def __init__(self, request_data, full_path, categories=None):
 69 |         self.categories = categories
 70 |         super().__init__(request_data, full_path)
 71 | 
 72 |     def get_search_queryset(self):
 73 |         sqs = super().get_search_queryset()
 74 |         if self.categories:
 75 |             for category in self.categories:
 76 |                 sqs = sqs.filter_or(category=category.full_name)
 77 |         return sqs
 78 | 
 79 | 
 80 | class SimpleProductSearchHandler(MultipleObjectMixin):
 81 |     """
 82 |     A basic implementation of the full-featured SearchHandler that has no
 83 |     faceting support, but doesn't require a Haystack backend. It only
 84 |     supports category browsing.
 85 | 
 86 |     Note that is meant as a replacement search handler and not as a view
 87 |     mixin; the mixin just does most of what we need it to do.
 88 |     """
 89 |     paginate_by = settings.OSCAR_PRODUCTS_PER_PAGE
 90 | 
 91 |     def __init__(self, request_data, full_path, categories=None):
 92 |         self.categories = categories
 93 |         self.kwargs = {'page': request_data.get('page', 1)}
 94 |         self.object_list = self.get_queryset()
 95 | 
 96 |     def get_queryset(self):
 97 |         qs = Product.objects.browsable().base_queryset()
 98 |         qs = qs.prefetch_related('categories')
 99 |         if self.categories:
100 |             qs = qs.filter(categories__in=self.categories).distinct()
101 |         return qs
102 | 
103 |     def get_search_context_data(self, context_object_name):
104 |         # Set the context_object_name instance property as it's needed
105 |         # internally by MultipleObjectMixin
106 |         self.context_object_name = context_object_name
107 |         context = self.get_context_data(object_list=self.object_list)
108 |         context[context_object_name] = context['page_obj'].object_list
109 |         return context


# File: oscardropship/custom_oscar/catalogue/views.py

  1 | from urllib.parse import quote
  2 | 
  3 | from django.contrib import messages
  4 | from django.core.paginator import InvalidPage
  5 | from django.http import Http404, HttpResponsePermanentRedirect
  6 | from django.shortcuts import get_object_or_404, redirect
  7 | from django.utils.translation import gettext_lazy as _
  8 | from django.views.generic import DetailView, TemplateView
  9 | 
 10 | from oscar.apps.catalogue.signals import product_viewed
 11 | from oscar.core.loading import get_class, get_model
 12 | 
 13 | Product = get_model('catalogue', 'product')
 14 | Category = get_model('catalogue', 'category')
 15 | ProductAlert = get_model('customer', 'ProductAlert')
 16 | ProductAlertForm = get_class('customer.forms', 'ProductAlertForm')
 17 | get_product_search_handler_class = get_class(
 18 |     'catalogue.search_handlers', 'get_product_search_handler_class')
 19 | 
 20 | 
 21 | class ProductDetailView(DetailView):
 22 |     context_object_name = 'product'
 23 |     model = Product
 24 |     view_signal = product_viewed
 25 |     template_folder = "catalogue"
 26 | 
 27 |     # Whether to redirect to the URL with the right path
 28 |     enforce_paths = True
 29 | 
 30 |     # Whether to redirect child products to their parent's URL. If it's disabled,
 31 |     # we display variant product details on the separate page. Otherwise, details
 32 |     # displayed on parent product page.
 33 |     enforce_parent = False
 34 | 
 35 |     def get(self, request, **kwargs):
 36 |         """
 37 |         Ensures that the correct URL is used before rendering a response
 38 |         """
 39 |         queryset = self.model.objects.select_related(
 40 |             'parent__product_class',
 41 |             'product_class',
 42 |         )
 43 |         queryset = queryset.prefetch_related(
 44 |             'attribute_values__attribute',
 45 |             'reviews',
 46 |             'primary_recommendations__recommendation__images',
 47 |         )
 48 |         self.object = product = self.get_object(queryset=queryset)
 49 | 
 50 |         redirect = self.redirect_if_necessary(request.path, product)
 51 |         if redirect is not None:
 52 |             return redirect
 53 | 
 54 |         # Do allow staff members so they can test layout etc.
 55 |         if not self.is_viewable(product, request):
 56 |             raise Http404()
 57 | 
 58 |         response = super().get(request, **kwargs)
 59 |         self.send_signal(request, response, product)
 60 |         return response
 61 | 
 62 |     def is_viewable(self, product, request):
 63 |         return product.is_public or request.user.is_staff
 64 | 
 65 |     def get_object(self, queryset=None):
 66 |         # Check if self.object is already set to prevent unnecessary DB calls
 67 |         if hasattr(self, 'object'):
 68 |             return self.object
 69 |         else:
 70 |             return super().get_object(queryset)
 71 | 
 72 |     def redirect_if_necessary(self, current_path, product):
 73 |         if self.enforce_parent and product.is_child:
 74 |             return HttpResponsePermanentRedirect(
 75 |                 product.parent.get_absolute_url())
 76 | 
 77 |         if self.enforce_paths:
 78 |             expected_path = product.get_absolute_url()
 79 |             if expected_path != quote(current_path):
 80 |                 return HttpResponsePermanentRedirect(expected_path)
 81 | 
 82 |     def get_context_data(self, **kwargs):
 83 |         ctx = super().get_context_data(**kwargs)
 84 |         ctx['alert_form'] = self.get_alert_form()
 85 |         ctx['has_active_alert'] = self.get_alert_status()
 86 |         return ctx
 87 | 
 88 |     def get_alert_status(self):
 89 |         # Check if this user already have an alert for this product
 90 |         has_alert = False
 91 |         if self.request.user.is_authenticated:
 92 |             alerts = ProductAlert.objects.filter(
 93 |                 product=self.object, user=self.request.user,
 94 |                 status=ProductAlert.ACTIVE)
 95 |             has_alert = alerts.exists()
 96 |         return has_alert
 97 | 
 98 |     def get_alert_form(self):
 99 |         return ProductAlertForm(
100 |             user=self.request.user, product=self.object)
101 | 
102 |     def send_signal(self, request, response, product):
103 |         self.view_signal.send(
104 |             sender=self, product=product, user=request.user, request=request,
105 |             response=response)
106 | 
107 |     def get_template_names(self):
108 |         """
109 |         Return a list of possible templates.
110 | 
111 |         If an overriding class sets a template name, we use that. Otherwise,
112 |         we try 2 options before defaulting to :file:`catalogue/detail.html`:
113 | 
114 |             1. :file:`detail-for-upc-{upc}.html`
115 |             2. :file:`detail-for-class-{classname}.html`
116 | 
117 |         This allows alternative templates to be provided for a per-product
118 |         and a per-item-class basis.
119 |         """
120 |         if self.template_name:
121 |             return [self.template_name]
122 | 
123 |         return [
124 |             'oscar/%s/detail-for-upc-%s.html' % (
125 |                 self.template_folder, self.object.upc),
126 |             'oscar/%s/detail-for-class-%s.html' % (
127 |                 self.template_folder, self.object.get_product_class().slug),
128 |             'oscar/%s/detail.html' % self.template_folder]
129 | 
130 | 
131 | class CatalogueView(TemplateView):
132 |     """
133 |     Browse all products in the catalogue
134 |     """
135 |     context_object_name = "products"
136 |     template_name = 'oscar/catalogue/browse.html'
137 | 
138 |     def get(self, request, *args, **kwargs):
139 |         try:
140 |             self.search_handler = self.get_search_handler(
141 |                 self.request.GET, request.get_full_path(), [])
142 |         except InvalidPage:
143 |             # Redirect to page one.
144 |             messages.error(request, _('The given page number was invalid.'))
145 |             return redirect('catalogue:index')
146 |         return super().get(request, *args, **kwargs)
147 | 
148 |     def get_search_handler(self, *args, **kwargs):
149 |         return get_product_search_handler_class()(*args, **kwargs)
150 | 
151 |     def get_context_data(self, **kwargs):
152 |         ctx = {}
153 |         ctx['summary'] = _("Collections")
154 |         search_context = self.search_handler.get_search_context_data(
155 |             self.context_object_name)
156 |         ctx.update(search_context)
157 |         return ctx
158 | 
159 | 
160 | class ProductCategoryView(TemplateView):
161 |     """
162 |     Browse products in a given category
163 |     """
164 |     context_object_name = "products"
165 |     template_name = 'oscar/catalogue/category.html'
166 |     enforce_paths = True
167 | 
168 |     def get(self, request, *args, **kwargs):
169 |         # Fetch the category; return 404 or redirect as needed
170 |         self.category = self.get_category()
171 | 
172 |         # Allow staff members so they can test layout etc.
173 |         if not self.is_viewable(self.category, request):
174 |             raise Http404()
175 | 
176 |         potential_redirect = self.redirect_if_necessary(
177 |             request.path, self.category)
178 |         if potential_redirect is not None:
179 |             return potential_redirect
180 | 
181 |         try:
182 |             self.search_handler = self.get_search_handler(
183 |                 request.GET, request.get_full_path(), self.get_categories())
184 |         except InvalidPage:
185 |             messages.error(request, _('The given page number was invalid.'))
186 |             return redirect(self.category.get_absolute_url())
187 | 
188 |         return super().get(request, *args, **kwargs)
189 | 
190 |     def is_viewable(self, category, request):
191 |         return category.is_public or request.user.is_staff
192 | 
193 |     def get_category(self):
194 |         category = get_object_or_404(Category, pk=self.kwargs['pk'])
195 |         return category
196 | 
197 |     def redirect_if_necessary(self, current_path, category):
198 |         if self.enforce_paths:
199 |             # Categories are fetched by primary key to allow slug changes.
200 |             # If the slug has changed, issue a redirect.
201 |             expected_path = category.get_absolute_url()
202 |             if expected_path != quote(current_path):
203 |                 return HttpResponsePermanentRedirect(expected_path)
204 | 
205 |     def get_search_handler(self, *args, **kwargs):
206 |         return get_product_search_handler_class()(*args, **kwargs)
207 | 
208 |     def get_categories(self):
209 |         """
210 |         Return a list of the current category and its ancestors
211 |         """
212 |         return self.category.get_descendants_and_self()
213 | 
214 |     def get_context_data(self, **kwargs):
215 |         context = super().get_context_data(**kwargs)
216 |         context['category'] = self.category
217 |         search_context = self.search_handler.get_search_context_data(
218 |             self.context_object_name)
219 |         context.update(search_context)
220 |         return context


# File: oscardropship/custom_oscar/checkout/__init__.py

1 | default_app_config = 'oscardropship.custom_oscar.checkout.apps.CheckoutConfig'


# File: oscardropship/custom_oscar/checkout/apps.py

1 | import oscar.apps.checkout.apps as apps
2 | 
3 | 
4 | class CheckoutConfig(apps.CheckoutConfig):
5 |     name = 'oscardropship.custom_oscar.checkout'


# File: oscardropship/custom_oscar/checkout/models.py

1 | from oscar.apps.checkout.models import *  # noqa isort:skip


# File: oscardropship/custom_oscar/checkout/paypal_client.py

  1 | import sys
  2 | 
  3 | from django.conf import settings
  4 | 
  5 | from paypalcheckoutsdk.core import PayPalHttpClient, SandboxEnvironment
  6 | from paypalcheckoutsdk.orders import OrdersCreateRequest
  7 | 
  8 | 
  9 | class PayPalClient:
 10 |     def __init__(self):
 11 |         super().__init__()
 12 |         self.client_id = settings.PAYPAL_API_CLIENT_ID
 13 |         self.client_secret = settings.PAYPAL_API_SECRET
 14 | 
 15 |         """Set up and return PayPal Python SDK environment with PayPal access credentials.
 16 |            This sample uses SandboxEnvironment. In production, use LiveEnvironment."""
 17 | 
 18 |         self.environment = SandboxEnvironment(
 19 |             client_id=self.client_id, client_secret=self.client_secret)
 20 | 
 21 |         """ Returns PayPal HTTP client instance with environment that has access
 22 |             credentials context. Use this instance to invoke PayPal APIs, provided the
 23 |             credentials have access. """
 24 |         self.client = PayPalHttpClient(self.environment)
 25 | 
 26 |     def object_to_json(self, json_data):
 27 |         """
 28 |         Function to print all json data in an organized readable manner
 29 |         """
 30 |         result = {}
 31 |         if sys.version_info[0] < 3:
 32 |             itr = json_data.__dict__.iteritems()
 33 |         else:
 34 |             itr = json_data.__dict__.items()
 35 |         for key, value in itr:
 36 |             # Skip internal attributes.
 37 |             if key.startswith("__"):
 38 |                 continue
 39 |             result[key] = self.array_to_json_array(value) if isinstance(value, list) else\
 40 |                 self.object_to_json(value) if not self.is_primittive(value) else\
 41 |                 value
 42 |         return result
 43 | 
 44 |     def array_to_json_array(self, json_array):
 45 |         result = []
 46 |         if isinstance(json_array, list):
 47 |             for item in json_array:
 48 |                 result.append(self.object_to_json(item) if not self.is_primittive(item)
 49 |                               else self.array_to_json_array(item) if isinstance(item, list) else item)
 50 |         return result
 51 | 
 52 |     def is_primittive(self, data):
 53 |         return isinstance(data, str) or isinstance(data, unicode) or isinstance(data, int)
 54 | 
 55 | 
 56 | class CreateOrder(PayPalClient):
 57 | 
 58 |     # 2. Set up your server to receive a call from the client
 59 |     """ This is the sample function to create an order. It uses the
 60 |       JSON body returned by buildRequestBody() to create an order."""
 61 | 
 62 |     def create_order(self, debug=False):
 63 |         request = OrdersCreateRequest()
 64 |         request.prefer('return=representation')
 65 |         # 3. Call PayPal to set up a transaction
 66 |         request.request_body(self.build_request_body())
 67 |         response = self.client.execute(request)
 68 |         if debug:
 69 |             print 'Status Code: ', response.status_code
 70 |             print 'Status: ', response.result.status
 71 |             print 'Order ID: ', response.result.id
 72 |             print 'Intent: ', response.result.intent
 73 |             print 'Links:'
 74 |             for link in response.result.links:
 75 |                 print('\t{}: {}\tCall Type: {}'.format(
 76 |                     link.rel, link.href, link.method))
 77 |             print 'Total Amount: {} {}'.format(response.result.purchase_units[0].amount.currency_code,
 78 |                                                response.result.purchase_units[0].amount.value)
 79 | 
 80 |         return response
 81 | 
 82 |         """Setting up the JSON request body for creating the order. Set the intent in the
 83 |     request body to "CAPTURE" for capture intent flow."""
 84 |     @staticmethod
 85 |     def build_request_body():
 86 |         """Method to create body with CAPTURE intent"""
 87 |         return \
 88 |             {
 89 |                 "intent": "CAPTURE",
 90 |                 "application_context": {
 91 |                     "brand_name": "django oscar",
 92 |                     "landing_page": "BILLING",
 93 |                     "shipping_preference": "SET_PROVIDED_ADDRESS",
 94 |                     "user_action": "CONTINUE"
 95 |                 },
 96 |                 "purchase_units": [
 97 |                     {
 98 |                         "reference_id": "PUHF",
 99 |                         "description": "Sporting Goods",
100 | 
101 |                         "custom_id": "CUST-HighFashions",
102 |                         "soft_descriptor": "HighFashions",
103 |                         "amount": {
104 |                             "currency_code": "USD",
105 |                             "value": "230.00",
106 |                             "breakdown": {
107 |                                 "item_total": {
108 |                                     "currency_code": "USD",
109 |                                     "value": "180.00"
110 |                                 },
111 |                                 "shipping": {
112 |                                     "currency_code": "USD",
113 |                                     "value": "30.00"
114 |                                 },
115 |                                 "handling": {
116 |                                     "currency_code": "USD",
117 |                                     "value": "10.00"
118 |                                 },
119 |                                 "tax_total": {
120 |                                     "currency_code": "USD",
121 |                                     "value": "20.00"
122 |                                 },
123 |                                 "shipping_discount": {
124 |                                     "currency_code": "USD",
125 |                                     "value": "10"
126 |                                 }
127 |                             }
128 |                         },
129 |                         "items": [
130 |                             {
131 |                                 "name": "T-Shirt",
132 |                                 "description": "Green XL",
133 |                                 "sku": "sku01",
134 |                                 "unit_amount": {
135 |                                     "currency_code": "USD",
136 |                                     "value": "90.00"
137 |                                 },
138 |                                 "tax": {
139 |                                     "currency_code": "USD",
140 |                                     "value": "10.00"
141 |                                 },
142 |                                 "quantity": "1",
143 |                                 "category": "PHYSICAL_GOODS"
144 |                             },
145 |                             {
146 |                                 "name": "Shoes",
147 |                                 "description": "Running, Size 10.5",
148 |                                 "sku": "sku02",
149 |                                 "unit_amount": {
150 |                                     "currency_code": "USD",
151 |                                     "value": "45.00"
152 |                                 },
153 |                                 "tax": {
154 |                                     "currency_code": "USD",
155 |                                     "value": "5.00"
156 |                                 },
157 |                                 "quantity": "2",
158 |                                 "category": "PHYSICAL_GOODS"
159 |                             }
160 |                         ],
161 |                         "shipping": {
162 |                             "method": "United States Postal Service",
163 |                             "address": {
164 |                                 "name": {
165 |                                     "full_name": "John",
166 |                                     "surname": "Doe"
167 |                                 },
168 |                                 "address_line_1": "123 Townsend St",
169 |                                 "address_line_2": "Floor 6",
170 |                                 "admin_area_2": "San Francisco",
171 |                                 "admin_area_1": "CA",
172 |                                 "postal_code": "94107",
173 |                                 "country_code": "US"
174 |                             }
175 |                         }
176 |                     }
177 |                 ]
178 |             }
179 | 
180 | 
181 | """This is the driver function that invokes the createOrder function to create
182 |    a sample order."""
183 | if __name__ == "__main__":
184 |     CreateOrder().create_order(debug=True)


# File: oscardropship/custom_oscar/checkout/views.py

 1 | from django.conf import settings
 2 | from django.contrib import messages
 3 | from django.http import HttpResponseRedirect
 4 | from django.urls import reverse
 5 | 
 6 | from oscar.apps.checkout import views
 7 | from oscar.apps.payment import forms, models
 8 | from paypal.payflow import facade
 9 | 
10 | from custom_oscar.payment.forms import PaypalOrderModelForm
11 | 
12 | 
13 | class PaymentDetailsView(views.PaymentDetailsView):
14 |     """
15 |     An example view that shows how to integrate BOTH Paypal Express
16 |     (see get_context_data method)and Payppal Flow (the other methods).
17 |     Naturally, you will only want to use one of the two.
18 |     """
19 |     template_name = 'uikit/checkout/payment_details.html'
20 |     template_name_preview = 'uikit/checkout/preview.html'
21 |     preview = True
22 | 
23 |     def get_context_data(self, **kwargs):
24 |         """
25 |         Add data for Paypal Express flow.
26 |         """
27 |         # Override method so the bankcard and billing address forms can be
28 |         # added to the context.
29 |         ctx = super(PaymentDetailsView, self).get_context_data(**kwargs)
30 |         ctx['bankcard_form'] = kwargs.get(
31 |             'bankcard_form', forms.BankcardForm())
32 |         ctx['billing_address_form'] = kwargs.get(
33 |             'billing_address_form', forms.BillingAddressForm())
34 |         ctx['PAYPAL_CLIENT_ID'] = settings.PAYPAL_API_CLIENT_ID
35 |         return ctx
36 | 
37 |     def post(self, request, *args, **kwargs):
38 |         # Override so we can validate the bankcard/billingaddress submission.
39 |         # If it is valid, we render the preview screen with the forms hidden
40 |         # within it.  When the preview is submitted, we pick up the 'action'
41 |         # parameters and actually place the order.
42 |         if request.POST.get('action', '') == 'place_order':
43 |             return self.do_place_order(request)
44 | 
45 |         # Render preview with bankcard and billing address details hidden
46 |         return self.render_preview(request)
47 | 
48 |     def do_place_order(self, request):
49 |         # Helper method to check that the hidden forms wasn't tinkered
50 |         # with.
51 |         paypal_order_form = PaypalOrderModelForm(request.POST)
52 |         if not paypal_order_form.is_valid():
53 |             messages.error(request, "Invalid submission")
54 |             return HttpResponseRedirect(reverse('checkout:payment-details'))
55 |         else:
56 |             paypal_order_form.save()
57 | 
58 |         # Attempt to submit the order, passing the bankcard object so that it
59 |         # gets passed back to the 'handle_payment' method below.
60 |         submission = self.build_submission()
61 |         submission['payment_kwargs']['paypal_order'] = paypal_order_form.cleaned_data
62 |         return self.submit(**submission)
63 | 
64 |     def handle_payment(self, order_number, total, **kwargs):
65 |         """
66 |         Make submission to PayPal
67 |         """
68 |         # Using authorization here (two-stage model).  You could use sale to
69 |         # perform the auth and capture in one step.  The choice is dependent
70 |         # on your business model.
71 |         # facade.authorize(
72 |         #     order_number, total.incl_tax,
73 |         #     kwargs['bankcard'], kwargs['billing_address'])
74 | 
75 |         # Record payment source and event
76 |         source_type, is_created = models.SourceType.objects.get_or_create(
77 |             name='PayPal')
78 |         source = source_type.sources.model(
79 |             source_type=source_type,
80 |             amount_allocated=total.incl_tax, currency=total.currency)
81 |         self.add_payment_source(source)
82 |         self.add_payment_event('Authorised', total.incl_tax)


# File: oscardropship/custom_oscar/order/__init__.py

1 | default_app_config = 'oscardropship.custom_oscar.order.apps.OrderConfig'


# File: oscardropship/custom_oscar/order/abstract_models.py

 1 | from oscar.apps.order.abstract_models import *
 2 | 
 3 | BaseAbstractOrderNote = AbstractOrderNote
 4 | 
 5 | 
 6 | class AbstractOrderNote(BaseAbstractOrderNote):
 7 |     class Meta:
 8 |         abstract = True
 9 |         app_label = 'order'
10 |         verbose_name = _("Order Note")
11 |         verbose_name_plural = _("Order Notes")
12 | 
13 |     def __str__(self):
14 |         return "'%s' (%s)" % (self.message[0:50], self.x_user)
15 | 
16 |     @property
17 |     def x_user(self):
18 |         try:
19 |             return self.user
20 |         except TypeError:
21 |             return 'None'


# File: oscardropship/custom_oscar/order/admin.py

1 | from oscar.apps.order.admin import *  # noqa


# File: oscardropship/custom_oscar/order/apps.py

1 | import oscar.apps.order.apps as apps
2 | 
3 | 
4 | class OrderConfig(apps.OrderConfig):
5 |     name = 'custom_oscar.order'


# File: oscardropship/custom_oscar/order/models.py

1 | from oscar.apps.order.models import *  # noqa isort:skip


# File: oscardropship/custom_oscar/partner/__init__.py

1 | default_app_config = 'oscardropship.custom_oscar.partner.apps.PartnerConfig'


# File: oscardropship/custom_oscar/partner/admin.py

1 | from oscar.apps.partner.admin import *  # noqa


# File: oscardropship/custom_oscar/partner/apps.py

1 | import oscar.apps.partner.apps as apps
2 | 
3 | 
4 | class PartnerConfig(apps.PartnerConfig):
5 |     name = 'oscardropship.custom_oscar.partner'


# File: oscardropship/custom_oscar/partner/models.py

1 | from oscar.apps.partner.models import *  # noqa isort:skip


# File: oscardropship/custom_oscar/partner/strategy.py

  1 | from collections import namedtuple
  2 | from decimal import Decimal as D
  3 | 
  4 | from oscar.core.loading import get_class
  5 | 
  6 | Unavailable = get_class('partner.availability', 'Unavailable')
  7 | Available = get_class('partner.availability', 'Available')
  8 | StockRequiredAvailability = get_class('partner.availability', 'StockRequired')
  9 | UnavailablePrice = get_class('partner.prices', 'Unavailable')
 10 | FixedPrice = get_class('partner.prices', 'FixedPrice')
 11 | TaxInclusiveFixedPrice = get_class('partner.prices', 'TaxInclusiveFixedPrice')
 12 | 
 13 | # A container for policies
 14 | PurchaseInfo = namedtuple(
 15 |     'PurchaseInfo', ['price', 'availability', 'stockrecord'])
 16 | 
 17 | 
 18 | class Selector(object):
 19 |     """
 20 |     Responsible for returning the appropriate strategy class for a given
 21 |     user/session.
 22 | 
 23 |     This can be called in three ways:
 24 | 
 25 |     #) Passing a request and user. This is for determining
 26 |        prices/availability for a normal user browsing the site.
 27 | 
 28 |     #) Passing just the user. This is for offline processes that don't
 29 |        have a request instance but do know which user to determine prices for.
 30 | 
 31 |     #) Passing nothing. This is for offline processes that don't
 32 |        correspond to a specific user, e.g., determining a price to store in
 33 |        a search index.
 34 | 
 35 |     """
 36 | 
 37 |     def strategy(self, request=None, user=None, **kwargs):
 38 |         """
 39 |         Return an instantiated strategy instance
 40 |         """
 41 |         # Default to the backwards-compatible strategy of picking the first
 42 |         # stockrecord but charging zero tax.
 43 |         return Default(request)
 44 | 
 45 | 
 46 | class Base(object):
 47 |     """
 48 |     The base strategy class
 49 | 
 50 |     Given a product, strategies are responsible for returning a
 51 |     ``PurchaseInfo`` instance which contains:
 52 | 
 53 |     - The appropriate stockrecord for this customer
 54 |     - A pricing policy instance
 55 |     - An availability policy instance
 56 |     """
 57 | 
 58 |     def __init__(self, request=None):
 59 |         self.request = request
 60 |         self.user = None
 61 |         if request and request.user.is_authenticated:
 62 |             self.user = request.user
 63 | 
 64 |     def fetch_for_product(self, product, stockrecord=None):
 65 |         """
 66 |         Given a product, return a ``PurchaseInfo`` instance.
 67 | 
 68 |         The ``PurchaseInfo`` class is a named tuple with attributes:
 69 | 
 70 |         - ``price``: a pricing policy object.
 71 |         - ``availability``: an availability policy object.
 72 |         - ``stockrecord``: the stockrecord that is being used
 73 | 
 74 |         If a stockrecord is passed, return the appropriate ``PurchaseInfo``
 75 |         instance for that product and stockrecord is returned.
 76 |         """
 77 |         raise NotImplementedError(
 78 |             "A strategy class must define a fetch_for_product method "
 79 |             "for returning the availability and pricing "
 80 |             "information."
 81 |         )
 82 | 
 83 |     def fetch_for_parent(self, product):
 84 |         """
 85 |         Given a parent product, fetch a ``StockInfo`` instance
 86 |         """
 87 |         raise NotImplementedError(
 88 |             "A strategy class must define a fetch_for_parent method "
 89 |             "for returning the availability and pricing "
 90 |             "information."
 91 |         )
 92 | 
 93 |     def fetch_for_line(self, line, stockrecord=None):
 94 |         """
 95 |         Given a basket line instance, fetch a ``PurchaseInfo`` instance.
 96 | 
 97 |         This method is provided to allow purchase info to be determined using a
 98 |         basket line's attributes.  For instance, "bundle" products often use
 99 |         basket line attributes to store SKUs of contained products.  For such
100 |         products, we need to look at the availability of each contained product
101 |         to determine overall availability.
102 |         """
103 |         # Default to ignoring any basket line options as we don't know what to
104 |         # do with them within Oscar - that's up to your project to implement.
105 |         return self.fetch_for_product(line.product)
106 | 
107 | 
108 | class Structured(Base):
109 |     """
110 |     A strategy class which provides separate, overridable methods for
111 |     determining the 3 things that a ``PurchaseInfo`` instance requires:
112 | 
113 |     #) A stockrecord
114 |     #) A pricing policy
115 |     #) An availability policy
116 |     """
117 | 
118 |     def fetch_for_product(self, product, stockrecord=None):
119 |         """
120 |         Return the appropriate ``PurchaseInfo`` instance.
121 | 
122 |         This method is not intended to be overridden.
123 |         """
124 |         if stockrecord is None:
125 |             stockrecord = self.select_stockrecord(product)
126 |         return PurchaseInfo(
127 |             price=self.pricing_policy(product, stockrecord),
128 |             availability=self.availability_policy(product, stockrecord),
129 |             stockrecord=stockrecord)
130 | 
131 |     def fetch_for_parent(self, product):
132 |         # Select children and associated stockrecords
133 |         children_stock = self.select_children_stockrecords(product)
134 |         return PurchaseInfo(
135 |             price=self.parent_pricing_policy(product, children_stock),
136 |             availability=self.parent_availability_policy(
137 |                 product, children_stock),
138 |             stockrecord=None)
139 | 
140 |     def select_stockrecord(self, product):
141 |         """
142 |         Select the appropriate stockrecord
143 |         """
144 |         raise NotImplementedError(
145 |             "A structured strategy class must define a "
146 |             "'select_stockrecord' method")
147 | 
148 |     def select_children_stockrecords(self, product):
149 |         """
150 |         Select appropriate stock record for all children of a product
151 |         """
152 |         records = []
153 |         children = product.children.prefetch_related('stockrecords').public()
154 |         for child in children:
155 |             # Use tuples of (child product, stockrecord)
156 |             records.append((child, self.select_stockrecord(child)))
157 |         return records
158 | 
159 |     def pricing_policy(self, product, stockrecord):
160 |         """
161 |         Return the appropriate pricing policy
162 |         """
163 |         raise NotImplementedError(
164 |             "A structured strategy class must define a "
165 |             "'pricing_policy' method")
166 | 
167 |     def parent_pricing_policy(self, product, children_stock):
168 |         raise NotImplementedError(
169 |             "A structured strategy class must define a "
170 |             "'parent_pricing_policy' method")
171 | 
172 |     def availability_policy(self, product, stockrecord):
173 |         """
174 |         Return the appropriate availability policy
175 |         """
176 |         raise NotImplementedError(
177 |             "A structured strategy class must define a "
178 |             "'availability_policy' method")
179 | 
180 |     def parent_availability_policy(self, product, children_stock):
181 |         raise NotImplementedError(
182 |             "A structured strategy class must define a "
183 |             "'parent_availability_policy' method")
184 | 
185 | 
186 | # Mixins - these can be used to construct the appropriate strategy class
187 | 
188 | 
189 | class UseFirstStockRecord(object):
190 |     """
191 |     Stockrecord selection mixin for use with the ``Structured`` base strategy.
192 |     This mixin picks the first (normally only) stockrecord to fulfil a product.
193 | 
194 |     This is backwards compatible with Oscar<0.6 where only one stockrecord per
195 |     product was permitted.
196 |     """
197 | 
198 |     def select_stockrecord(self, product):
199 |         try:
200 |             return product.stockrecords.all()[0]
201 |         except IndexError:
202 |             return None
203 | 
204 | 
205 | class StockRequired(object):
206 |     """
207 |     Availability policy mixin for use with the ``Structured`` base strategy.
208 |     This mixin ensures that a product can only be bought if it has stock
209 |     available (if stock is being tracked).
210 |     """
211 | 
212 |     def availability_policy(self, product, stockrecord):
213 |         if not stockrecord:
214 |             return Unavailable()
215 |         if not product.get_product_class().track_stock:
216 |             return Available()
217 |         else:
218 |             return StockRequiredAvailability(
219 |                 stockrecord.net_stock_level)
220 | 
221 |     def parent_availability_policy(self, product, children_stock):
222 |         # A parent product is available if one of its children is
223 |         for child, stockrecord in children_stock:
224 |             policy = self.availability_policy(child, stockrecord)
225 |             if policy.is_available_to_buy:
226 |                 return Available()
227 |         return Unavailable()
228 | 
229 | 
230 | class NoTax(object):
231 |     """
232 |     Pricing policy mixin for use with the ``Structured`` base strategy.
233 |     This mixin specifies zero tax and uses the ``price_excl_tax`` from the
234 |     stockrecord.
235 |     """
236 | 
237 |     def pricing_policy(self, product, stockrecord):
238 |         # Check stockrecord has the appropriate data
239 |         if not stockrecord or stockrecord.price_excl_tax is None:
240 |             return UnavailablePrice()
241 |         return FixedPrice(
242 |             currency=stockrecord.price_currency,
243 |             excl_tax=stockrecord.price_excl_tax,
244 |             tax=D('0.00'))
245 | 
246 |     def parent_pricing_policy(self, product, children_stock):
247 |         stockrecords = [x[1] for x in children_stock if x[1] is not None]
248 |         if not stockrecords:
249 |             return UnavailablePrice()
250 |         # We take price from first record
251 |         stockrecord = stockrecords[0]
252 |         return FixedPrice(
253 |             currency=stockrecord.price_currency,
254 |             excl_tax=stockrecord.price_excl_tax,
255 |             tax=D('0.00'))
256 | 
257 | 
258 | class FixedRateTax(object):
259 |     """
260 |     Pricing policy mixin for use with the ``Structured`` base strategy.  This
261 |     mixin applies a fixed rate tax to the base price from the product's
262 |     stockrecord.  The price_incl_tax is quantized to two decimal places.
263 |     Rounding behaviour is Decimal's default
264 |     """
265 |     rate = D('0')  # Subclass and specify the correct rate
266 |     exponent = D('0.01')  # Default to two decimal places
267 | 
268 |     def pricing_policy(self, product, stockrecord):
269 |         if not stockrecord or stockrecord.price_excl_tax is None:
270 |             return UnavailablePrice()
271 |         rate = self.get_rate(product, stockrecord)
272 |         exponent = self.get_exponent(stockrecord)
273 |         tax = (stockrecord.price_excl_tax * rate).quantize(exponent)
274 |         return TaxInclusiveFixedPrice(
275 |             currency=stockrecord.price_currency,
276 |             excl_tax=stockrecord.price_excl_tax,
277 |             tax=tax)
278 | 
279 |     def parent_pricing_policy(self, product, children_stock):
280 |         stockrecords = [x[1] for x in children_stock if x[1] is not None]
281 |         if not stockrecords:
282 |             return UnavailablePrice()
283 | 
284 |         # We take price from first record
285 |         stockrecord = stockrecords[0]
286 |         rate = self.get_rate(product, stockrecord)
287 |         exponent = self.get_exponent(stockrecord)
288 |         tax = (stockrecord.price_excl_tax * rate).quantize(exponent)
289 | 
290 |         return FixedPrice(
291 |             currency=stockrecord.price_currency,
292 |             excl_tax=stockrecord.price_excl_tax,
293 |             tax=tax)
294 | 
295 |     def get_rate(self, product, stockrecord):
296 |         """
297 |         This method serves as hook to be able to plug in support for varying tax rates
298 |         based on the product.
299 | 
300 |         TODO: Needs tests.
301 |         """
302 |         return self.rate
303 | 
304 |     def get_exponent(self, stockrecord):
305 |         """
306 |         This method serves as hook to be able to plug in support for a varying exponent
307 |         based on the currency.
308 | 
309 |         TODO: Needs tests.
310 |         """
311 |         return self.exponent
312 | 
313 | 
314 | class DeferredTax(object):
315 |     """
316 |     Pricing policy mixin for use with the ``Structured`` base strategy.
317 |     This mixin does not specify the product tax and is suitable to territories
318 |     where tax isn't known until late in the checkout process.
319 |     """
320 | 
321 |     def pricing_policy(self, product, stockrecord):
322 |         if not stockrecord or stockrecord.price_excl_tax is None:
323 |             return UnavailablePrice()
324 |         return FixedPrice(
325 |             currency=stockrecord.price_currency,
326 |             excl_tax=stockrecord.price_excl_tax)
327 | 
328 |     def parent_pricing_policy(self, product, children_stock):
329 |         stockrecords = [x[1] for x in children_stock if x[1] is not None]
330 |         if not stockrecords:
331 |             return UnavailablePrice()
332 | 
333 |         # We take price from first record
334 |         stockrecord = stockrecords[0]
335 | 
336 |         return FixedPrice(
337 |             currency=stockrecord.price_currency,
338 |             excl_tax=stockrecord.price_excl_tax)
339 | 
340 | 
341 | # Example strategy composed of above mixins.  For real projects, it's likely
342 | # you'll want to use a different pricing mixin as you'll probably want to
343 | # charge tax!
344 | 
345 | 
346 | class Default(UseFirstStockRecord, StockRequired, NoTax, Structured):
347 |     """
348 |     Default stock/price strategy that uses the first found stockrecord for a
349 |     product, ensures that stock is available (unless the product class
350 |     indicates that we don't need to track stock) and charges zero tax.
351 |     """
352 | 
353 | 
354 | class UK(UseFirstStockRecord, StockRequired, FixedRateTax, Structured):
355 |     """
356 |     Sample strategy for the UK that:
357 | 
358 |     - uses the first stockrecord for each product (effectively assuming
359 |         there is only one).
360 |     - requires that a product has stock available to be bought
361 |     - applies a fixed rate of tax on all products
362 | 
363 |     This is just a sample strategy used for internal development.  It is not
364 |     recommended to be used in production, especially as the tax rate is
365 |     hard-coded.
366 |     """
367 |     # Use UK VAT rate (as of December 2013)
368 |     rate = D('0.20')
369 | 
370 | 
371 | class US(UseFirstStockRecord, StockRequired, DeferredTax, Structured):
372 |     """
373 |     Sample strategy for the US.
374 | 
375 |     - uses the first stockrecord for each product (effectively assuming
376 |       there is only one).
377 |     - requires that a product has stock available to be bought
378 |     - doesn't apply a tax to product prices (normally this will be done
379 |       after the shipping address is entered).
380 | 
381 |     This is just a sample one used for internal development.  It is not
382 |     recommended to be used in production.
383 |     """


# File: oscardropship/custom_oscar/payment/__init__.py

1 | default_app_config = 'oscardropship.custom_oscar.payment.apps.PaymentConfig'


# File: oscardropship/custom_oscar/payment/abstract_models.py

1 | from oscar.apps.payment.abstract_models import *


# File: oscardropship/custom_oscar/payment/admin.py

1 | from oscar.apps.payment.admin import *  # noqa
2 | 
3 | PaypalOrder = get_model('payment', 'PaypalOrder')
4 | 
5 | admin.site.register(PaypalOrder)


# File: oscardropship/custom_oscar/payment/apps.py

1 | import oscar.apps.payment.apps as apps
2 | 
3 | 
4 | class PaymentConfig(apps.PaymentConfig):
5 |     # name = 'oscardropship.custom_oscar.payment'
6 |     name = 'custom_oscar.payment'


# File: oscardropship/custom_oscar/payment/forms.py

 1 | from oscar.apps.payment.forms import *
 2 | from django import forms
 3 | 
 4 | from .models import PaypalOrder
 5 | 
 6 | 
 7 | class PaypalOrderModelForm(forms.ModelForm):
 8 |     class Meta:
 9 |         model = PaypalOrder
10 |         fields = ('details', 'order_id')
11 | 
12 |     def __init__(self, *args, **kwargs):
13 |         super().__init__(*args, **kwargs)
14 |         self.fields['details'].required = True
15 |         self.fields['order_id'].required = True


# File: oscardropship/custom_oscar/payment/models.py

 1 | from django.db import models
 2 | 
 3 | from oscar.apps.payment.models import *  # noqa isort:skip
 4 | 
 5 | from django_extensions.db.models import TimeStampedModel
 6 | 
 7 | 
 8 | class PaypalOrder(TimeStampedModel):
 9 |     details = models.TextField(blank=False)
10 |     order_id = models.CharField(
11 |         max_length=255,
12 |         blank=False,
13 |         unique=True)
14 | 
15 |     class Meta:
16 |         app_label = 'payment'


# File: oscardropship/custom_oscar/__init__.py




# File: oscardropship/custom_oscar/config.py

 1 | from django.urls import path
 2 | from oscar.config import *
 3 | 
 4 | 
 5 | class CustomShop(Shop):
 6 | 
 7 |   def get_urls(self):
 8 |     from django.contrib.auth import views as auth_views
 9 | 
10 |     from oscar.views.decorators import login_forbidden
11 | 
12 |     urls = [
13 |         path('home/', RedirectView.as_view(url=settings.OSCAR_HOMEPAGE), name='home'),
14 |         url(r'^basket/', self.basket_app.urls),
15 |         url(r'^checkout/', self.checkout_app.urls),
16 |         url(r'^accounts/', self.customer_app.urls),
17 |         url(r'^search/', self.search_app.urls),
18 |         url(r'^dashboard/', self.dashboard_app.urls),
19 |         url(r'^offers/', self.offer_app.urls),
20 |         path('', self.catalogue_app.urls),
21 | 
22 |         # Password reset - as we're using Django's default view functions,
23 |         # we can't namespace these urls as that prevents
24 |         # the reverse function from working.
25 |         url(r'^password-reset/$',
26 |             login_forbidden(
27 |                 auth_views.PasswordResetView.as_view(
28 |                     form_class=self.password_reset_form,
29 |                     success_url=reverse_lazy('password-reset-done'),
30 |                     template_name='oscar/registration/password_reset_form.html'
31 |                 )
32 |             ),
33 |             name='password-reset'),
34 |         url(r'^password-reset/done/$',
35 |             login_forbidden(auth_views.PasswordResetDoneView.as_view(
36 |                 template_name='oscar/registration/password_reset_done.html'
37 |             )),
38 |             name='password-reset-done'),
39 |         url(r'^password-reset/confirm/(?P<uidb64>[0-9A-Za-z_\-]+)/(?P<token>.+)/$',
40 |             login_forbidden(
41 |                 auth_views.PasswordResetConfirmView.as_view(
42 |                     form_class=self.set_password_form,
43 |                     success_url=reverse_lazy('password-reset-complete'),
44 |                     template_name='oscar/registration/password_reset_confirm.html'
45 |                 )
46 |             ),
47 |             name='password-reset-confirm'),
48 |         url(r'^password-reset/complete/$',
49 |             login_forbidden(auth_views.PasswordResetCompleteView.as_view(
50 |                 template_name='oscar/registration/password_reset_complete.html'
51 |             )),
52 |             name='password-reset-complete'),
53 |     ]
54 |     return urls


# File: oscardropship/multisite/__init__.py




# File: oscardropship/multisite/abstracts.py

  1 | from django.db import models
  2 | 
  3 | from oscar.core.loading import get_model
  4 | from wagtail.admin.edit_handlers import (
  5 |     FieldPanel,
  6 |     PageChooserPanel,
  7 |     MultiFieldPanel,
  8 | )
  9 | 
 10 | Category = get_model('catalogue', 'Category')
 11 | 
 12 | 
 13 | class LinkFields(models.Model):
 14 |     link_external = models.URLField("External link", blank=True)
 15 |     link_page = models.ForeignKey(
 16 |         'wagtailcore.Page',
 17 |         on_delete="models.CASCADE",
 18 |         null=True,
 19 |         blank=True,
 20 |         related_name='+'
 21 |     )
 22 |     link_category = models.ForeignKey(
 23 |         Category,
 24 |         on_delete=models.CASCADE,
 25 |         null=True,
 26 |         blank=True,
 27 |         related_name='+'
 28 |     )
 29 | 
 30 |     @property
 31 |     def link(self):
 32 |         if self.link_page:
 33 |             return self.link_page.url
 34 |         elif self.link_category:
 35 |             return self.link_category.get_absolute_url()
 36 |         else:
 37 |             return self.link_external
 38 | 
 39 |     panels = [
 40 |         FieldPanel('link_external'),
 41 |         PageChooserPanel('link_page'),
 42 |         FieldPanel('link_category'),
 43 |     ]
 44 | 
 45 |     class Meta:
 46 |         abstract = True
 47 | 
 48 | 
 49 | class RelatedLink(LinkFields):
 50 |     title = models.CharField(max_length=255, help_text="Link title")
 51 | 
 52 |     panels = [
 53 |         FieldPanel('title'),
 54 |         MultiFieldPanel(LinkFields.panels, "Link"),
 55 |     ]
 56 | 
 57 |     class Meta:
 58 |         abstract = True
 59 | 
 60 | 
 61 | class AuthorityItem(models.Model):
 62 |     name = models.CharField(max_length=50, blank=True)
 63 |     link = models.URLField(blank=True)
 64 |     image_link = models.URLField(blank=True)
 65 |     height = models.CharField(max_length=10, blank=True)
 66 |     width = models.CharField(max_length=10, blank=True)
 67 | 
 68 |     panels = [
 69 |         FieldPanel('name'),
 70 |         FieldPanel('link'),
 71 |         FieldPanel('image_link'),
 72 |         FieldPanel('height'),
 73 |         FieldPanel('width'),
 74 |     ]
 75 | 
 76 |     class Meta:
 77 |         abstract = True
 78 | 
 79 |     def __str__(self):
 80 |         return self.name
 81 | 
 82 |     @property
 83 |     def image(self):
 84 |         return self.image_link
 85 | 
 86 | 
 87 | class SocialMediaAbstractModel(models.Model):
 88 |     twitter_handle = models.CharField(max_length=50, blank=True)
 89 |     facebook_username = models.CharField(max_length=50, blank=True)
 90 |     linkedin_url = models.URLField(blank=True)
 91 |     pinterest_url = models.URLField(blank=True)
 92 |     instagram_url = models.URLField(blank=True)
 93 | 
 94 |     class Meta:
 95 |         abstract = True
 96 | 
 97 |     panels = [
 98 |         FieldPanel('twitter_handle'),
 99 |         FieldPanel('facebook_username'),
100 |         FieldPanel('linkedin_url'),
101 |         FieldPanel('pinterest_url'),
102 |         FieldPanel('instagram_url'),
103 |     ]
104 | 
105 |     @property
106 |     def twitter_url(self):
107 |         if self.twitter_handle:
108 |             return 'https://twitter.com/' + self.twitter_handle
109 |         else:
110 |             return ''
111 | 
112 |     @property
113 |     def facebook_url(self):
114 |         if self.facebook_username:
115 |             return 'https://facebook.com/' + self.facebook_username
116 |         else:
117 |             return ''
118 | 
119 |     @property
120 |     def messenger_url(self):
121 |         if self.facebook_username:
122 |             return 'https://m.me/' + self.facebook_username
123 |         else:
124 |             return ''


# File: oscardropship/multisite/admin.py

1 | from django.contrib import admin
2 | 
3 | # Register your models here.


# File: oscardropship/multisite/apps.py

1 | from django.apps import AppConfig
2 | 
3 | 
4 | class MultisiteConfig(AppConfig):
5 |     name = 'multisite'


# File: oscardropship/multisite/models.py

  1 | from django.conf import settings
  2 | from django.db import models
  3 | 
  4 | from colorfield.fields import ColorField
  5 | from modelcluster.fields import ParentalKey
  6 | from modelcluster.models import ClusterableModel
  7 | from wagtail.admin.edit_handlers import (
  8 |     FieldPanel,
  9 |     InlinePanel,
 10 |     MultiFieldPanel,
 11 |     PageChooserPanel,
 12 | )
 13 | from wagtail.contrib.settings.models import BaseSetting, register_setting
 14 | from wagtail.core.models import Orderable, Page
 15 | from wagtail.images.edit_handlers import ImageChooserPanel
 16 | 
 17 | from .abstracts import RelatedLink, SocialMediaAbstractModel, AuthorityItem
 18 | from wagtail_pages.schemas import Organization, PostalAddress
 19 | 
 20 | 
 21 | @register_setting
 22 | class Organisation(SocialMediaAbstractModel, BaseSetting):
 23 |     """Details about this organisation"""
 24 |     name = models.CharField(max_length=100)
 25 |     description = models.TextField(blank=True)
 26 |     address_country = models.CharField(max_length=100, blank=True)
 27 |     address_city = models.CharField(max_length=100, blank=True)
 28 |     address_region = models.CharField(max_length=100, blank=True)
 29 |     address_postal_code = models.CharField(max_length=50, blank=True)
 30 |     address_street = models.CharField(max_length=100, blank=True)
 31 |     phone_number = models.CharField(max_length=20, blank=True)
 32 |     email = models.EmailField(blank=True)
 33 |     about_page = models.ForeignKey(
 34 |         Page,
 35 |         on_delete=models.PROTECT,
 36 |         blank=True,
 37 |         null=True
 38 |     )
 39 |     contact_page = models.ForeignKey(
 40 |         Page,
 41 |         on_delete=models.PROTECT,
 42 |         blank=True,
 43 |         null=True,
 44 |         related_name="contact_on_organisation_setting"
 45 |     )
 46 | 
 47 |     panels = SocialMediaAbstractModel.panels + [
 48 |         PageChooserPanel('about_page'),
 49 |         PageChooserPanel('contact_page'),
 50 |         FieldPanel('name'),
 51 |         FieldPanel('description'),
 52 |         FieldPanel('address_country'),
 53 |         FieldPanel('address_city'),
 54 |         FieldPanel('address_region'),
 55 |         FieldPanel('address_postal_code'),
 56 |         FieldPanel('address_street'),
 57 |         FieldPanel('phone_number'),
 58 |         FieldPanel('email'),
 59 |     ]
 60 | 
 61 |     @property
 62 |     def simple_address(self):
 63 |         if self.address_city:
 64 |             return '{}, {}, {}'.format(
 65 |                 self.address_city,
 66 |                 self.address_region,
 67 |                 self.address_country,
 68 |             )
 69 | 
 70 |         return ''
 71 | 
 72 |     @property
 73 |     def schema_address(self):
 74 |         address = PostalAddress(
 75 |             address_country=self.address_country,
 76 |             address_locality=self.address_city,
 77 |             address_region=self.address_region,
 78 |             postal_code=self.address_postal_code,
 79 |             street_address=self.address_street,
 80 |             name=self.name,
 81 |             description='address of {}'.format(self.name),
 82 |         )
 83 |         return address
 84 | 
 85 |     @property
 86 |     def schema(self):
 87 |         return Organization(
 88 |             self.schema_address,
 89 |             self.email,
 90 |             self.phone_number,
 91 |             [
 92 |                 self.twitter_url, self.facebook_url, self.linkedin_url
 93 |             ],
 94 |             self.name,
 95 |             self.description
 96 |         )
 97 | 
 98 | 
 99 | @register_setting
100 | class FooterSettings(BaseSetting, ClusterableModel):
101 |     """The FooterLinks model takes advantage of the RelatedLink model we
102 |     implemented above.
103 |     """
104 |     about = models.TextField(blank=True)
105 |     address = models.CharField(max_length=255, blank=True)
106 |     phone = models.CharField(max_length=255, blank=True)
107 |     email = models.EmailField(blank=True)
108 | 
109 |     panels = [
110 |         FieldPanel('about'),
111 |         InlinePanel('footer_links', label="Footer Links"),
112 |         InlinePanel('footer_authority_items', label="Authority Items"),
113 |     ]
114 | 
115 |     @property
116 |     def category_links(self):
117 |         return self.footer_links.filter(
118 |             link_category__isnull=False).select_related('link_category')
119 | 
120 |     @property
121 |     def non_category_links(self):
122 |         return self.footer_links.filter(link_category__isnull=True)
123 | 
124 | 
125 | class FooterLinksRelatedLink(Orderable, RelatedLink):
126 |     page = ParentalKey('FooterSettings', related_name='footer_links')
127 | 
128 | 
129 | class FooterLinksAuthorityItem(Orderable, AuthorityItem):
130 |     page = ParentalKey('FooterSettings', related_name='footer_authority_items')
131 | 
132 | 
133 | @register_setting
134 | class SeoSettings(BaseSetting):
135 |     google_analytics_id = models.CharField(
136 |         max_length=50,
137 |         default=settings.GOOGLE_ANALYTICS_PROPERTY_ID,
138 |         blank=True
139 |     )
140 |     robots_txt = models.FileField(
141 |         upload_to='seo/')
142 |     facebook_app_id = models.CharField(max_length=100, blank=True)
143 |     facebook_pixel_id = models.CharField(max_length=100, blank=True)
144 |     brand_name_in_title = models.CharField(max_length=50, blank=True)
145 |     append_brand_name_in_title = models.BooleanField(default=True)
146 | 
147 | 
148 | @register_setting
149 | class NewsletterSetting(BaseSetting):
150 |     default_newsletter = models.ForeignKey(
151 |         'newsletter.Newsletter',
152 |         on_delete=models.PROTECT,
153 |         null=True,
154 |         blank=True
155 |     )
156 | 
157 | 
158 | @register_setting
159 | class SiteBranding(BaseSetting):
160 |     """RE the SiteBranding model, you'll note that there's no
161 |     custom-validation on the
162 |     banner_colour field to check that a valid hex value has been
163 |     entered. This would
164 |     probably be better off as a select field with a set of predefined
165 |     colour choices.
166 |     """
167 |     site_logo = models.ForeignKey(
168 |         'wagtailimages.Image',
169 |         null=True,
170 |         blank=True,
171 |         on_delete=models.SET_NULL,
172 |         related_name='+',
173 |     )
174 |     fav_icon = models.ForeignKey(
175 |         'wagtailimages.Image',
176 |         null=True,
177 |         blank=True,
178 |         on_delete=models.SET_NULL,
179 |         related_name='+',
180 |     )
181 |     nav_icon = models.ForeignKey(
182 |         'wagtailimages.Image',
183 |         null=True,
184 |         blank=True,
185 |         on_delete=models.SET_NULL,
186 |         related_name='+',
187 |     )
188 |     primary_color = ColorField(default='#000000')
189 |     secondary_color = ColorField(default='#000000')
190 |     accent_color = ColorField(default='#000000')
191 |     accent_2_color = ColorField(default='#000000')
192 |     banner_colour = models.CharField(
193 |         max_length=6,
194 |         null=True,
195 |         blank=True,
196 |         help_text="Fill in a hex colour value"
197 |     )
198 |     css = models.FileField(
199 |         upload_to='css/sites/',
200 |         null=True,
201 |         blank=True)
202 | 
203 |     panels = [
204 |         MultiFieldPanel(
205 |             (
206 |                 ImageChooserPanel('site_logo'),
207 |                 ImageChooserPanel('fav_icon'),
208 |                 ImageChooserPanel('nav_icon'),
209 |             ),
210 |             'Site Logos'
211 |         ),
212 |         MultiFieldPanel(
213 |             (
214 |                 FieldPanel('primary_color'),
215 |                 FieldPanel('secondary_color'),
216 |                 FieldPanel('accent_color'),
217 |                 FieldPanel('accent_2_color'),
218 |             ),
219 |             'Color Palette',
220 |         ),
221 |         FieldPanel('css'),
222 |     ]
223 | 
224 | 
225 | @register_setting
226 | class SocialMediaSettings(BaseSetting):
227 |     """The SocialMediaSettings model provides site-specific social media links.
228 |     These could be easily expanded to include any number of social media
229 |     URLs / IDs.
230 |     """
231 |     facebook = models.URLField(
232 |         help_text='Your Facebook page URL',
233 |         null=True,
234 |         blank=True
235 |     )
236 |     twitter = models.CharField(
237 |         max_length=255,
238 |         help_text='Your Twitter username, without the @',
239 |         null=True,
240 |         blank=True
241 |     )


# File: oscardropship/multisite/tests.py

1 | from django.test import TestCase
2 | 
3 | # Create your tests here.


# File: oscardropship/multisite/views.py

1 | from django.shortcuts import render
2 | 
3 | # Create your views here.


# File: oscardropship/system/templatetags/__init__.py




# File: oscardropship/system/templatetags/json_messages.py

 1 | import json
 2 | 
 3 | from django import template
 4 | from django.contrib.messages import get_messages
 5 | 
 6 | register = template.Library()
 7 | 
 8 | 
 9 | @register.simple_tag
10 | def message_to_json(request):
11 |     storage = get_messages(request)
12 |     messages = []
13 |     for message in storage:
14 |         messages.append({
15 |             'message': str(message),
16 |             'tags': message.tags,
17 |             'level': message.level
18 |         })
19 |     return json.dumps(messages)


# File: oscardropship/system/__init__.py




# File: oscardropship/system/admin.py

1 | from django.contrib import admin
2 | from django.contrib.auth.admin import UserAdmin
3 | 
4 | from .models import User
5 | 
6 | # Register your models here.
7 | admin.site.register(User, UserAdmin)


# File: oscardropship/system/apps.py

1 | from django.apps import AppConfig
2 | 
3 | 
4 | class SystemConfig(AppConfig):
5 |     name = 'system'


# File: oscardropship/system/models.py

 1 | from django.contrib.auth.models import AbstractUser
 2 | 
 3 | 
 4 | class User(AbstractUser):
 5 | 
 6 |     def __str__(self):
 7 |         first_name = self.first_name
 8 |         last_name = self.last_name
 9 |         ret = '{} {}'.format(first_name, last_name) if first_name else self.username
10 | 
11 |         return ret


# File: oscardropship/system/tests.py

1 | from django.test import TestCase
2 | 
3 | # Create your tests here.


# File: oscardropship/system/views.py

1 | from django.shortcuts import render
2 | 
3 | # Create your views here.


# File: oscardropship/templates/newsletter/message/message.html

 1 | {% load thumbnail i18n %}<!DOCTYPE html>
 2 | 
 3 | <html>
 4 | <head>
 5 |     <meta charset="utf-8">
 6 | 	<title>{{ newsletter.title }}: {{ message.title }}</title>
 7 | </head>
 8 | <body>
 9 |     <h1>{{ newsletter.title }}</h1>
10 |     <h2>{{ message.title }}</h2>
11 |     {% for article in message.articles.all %}
12 |         <h3>{{ article.title }}</h3>
13 |         
14 |         {% thumbnail article.image "200x200" as image %}
15 |             <img src="http://{{ site.domain }}{{ image.url }}" width="{{ image.width }}" height="{{ image.height }}">
16 |         {% endthumbnail %}
17 | 
18 |         <div>{{ article.text|safe }}</div>
19 |         
20 |         {% if article.url %}
21 |             <div><a href="{{ article.url }}">{% trans "Read more" %}</a></div>
22 |         {% endif %}
23 |     {% endfor %}
24 |     
25 |     <ul>
26 |         {% if submission.publish %}
27 |         <li><a href="http://{{ site.domain }}{{ submission.get_absolute_url }}">{% trans "Read message online" %}</a></li>
28 |         {% endif %}
29 |         <li><a href="http://{{ site.domain }}{% url "newsletter_unsubscribe_request" newsletter.slug %}">{% trans "Unsubscribe" %}</a></li>
30 |     </ul>
31 | </body>
32 | </html>


# File: oscardropship/templates/newsletter/message/subscribe.html

 1 | {% load i18n %}<!DOCTYPE html>
 2 | 
 3 | <html>
 4 | <head>
 5 |     <meta charset="utf-8">
 6 |     <title>{% blocktrans with title=newsletter.title %}Subscription to {{ title }}{% endblocktrans %}
 7 | </title>
 8 | </head>
 9 | <body>
10 | {% blocktrans with name=subscription.name|default:_("Sir/Madam") title=newsletter.title domain=site.domain url=subscription.subscribe_activate_url %}Dear {{ name }},
11 | 
12 | you, or someone in your name requested a subscription to {{ title }}.
13 | 
14 | If you would like to confirm your subscription, please follow this activation link:
15 | http://{{ domain }}{{ url }}
16 | 
17 | Kind regards,{% endblocktrans %}
18 | {{ newsletter.sender }}
19 | </body>
20 | </html>


# File: oscardropship/templates/newsletter/message/unsubscribe.html

 1 | {% load i18n %}<!DOCTYPE html>
 2 | 
 3 | <html>
 4 | <head>
 5 |     <meta charset="utf-8">
 6 |     <title>{% blocktrans with title=newsletter.title %}Unsubscription from {{ title }}{% endblocktrans %}</title>
 7 | </head>
 8 | <body>
 9 | {% blocktrans with name=subscription.name|default:_("Sir/Madam") title=newsletter.title domain=site.domain url=subscription.unsubscribe_activate_url %}Dear {{ name }},
10 | 
11 | you, or someone in your name requested unsubscription from {{ title }}.
12 | 
13 | If you would like to confirm your unsubscription, please follow this activation link:
14 | http://{{ domain }}{{ url }}
15 | 
16 | Kind regards,{% endblocktrans %}
17 | {{ newsletter.sender }}
18 | </body>
19 | </html>


# File: oscardropship/templates/newsletter/message/update.html

 1 | {% load i18n %}<!DOCTYPE html>
 2 | 
 3 | <html>
 4 | <head>
 5 |     <meta charset="utf-8">
 6 |     <title>{% blocktrans with title=newsletter.title %}Update of subscription to {{ title }}{% endblocktrans %}</title>
 7 | </head>
 8 | <body>
 9 | {% blocktrans with name=subscription.name|default:_("Sir/Madam") title=newsletter.title domain=site.domain url=subscription.update_activate_url %}Dear {{ name }},
10 | 
11 | you, or someone in your name requested updating your personal information for {{ title }}.
12 | 
13 | To make changes to your information in our database, please follow this activation link:
14 | http://{{ domain }}{{ url }}
15 | 
16 | Kind regards,{% endblocktrans %}
17 | {{ newsletter.sender }}
18 | </body>
19 | </html>


# File: oscardropship/templates/newsletter/common.html

 1 | {% extends "uikit/layout.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter" %}{% endblock title %}
 6 | 
 7 | {% block extrahead %}
 8 |     {% block header %}
 9 |     {% endblock header %}
10 | {% endblock %}
11 | 
12 | {% block content_wrapper %}
13 |     <div class="uk-child-width-auto uk-flex-center" uk-grid>
14 |         <div>
15 | 			    {% block body %}{% endblock body %}
16 |         </div>
17 |     </div>
18 | {% endblock %}


# File: oscardropship/templates/newsletter/newsletter_detail.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter detail" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 | <table>
 9 |     <tr>
10 |         <th>{% trans "Newsletter" %} {{ object.title }}</th>
11 |     </tr>
12 |     <tr>
13 |         <td><a href="{% url "newsletter_subscribe_request" object.slug %}">{% trans "Subscribe" %}</a></td>
14 |     </tr>
15 |     {% if not user.is_authenticated %}
16 |     <tr>
17 |         <td><a href="{% url "newsletter_update_request" object.slug %}">{% trans "Update" %}</a></td>
18 |     </tr>
19 |     {% endif %}
20 |     <tr>
21 |         <td><a href="{% url "newsletter_unsubscribe_request" object.slug %}">{% trans "Unsubscribe" %}</a></td>
22 |     </tr>
23 |     <tr>
24 |         <td><a href="{% url "newsletter_archive" object.slug %}">{% trans "Archive" %}</a></td>
25 |     </tr>
26 |     <tr>
27 |         <td><a href="../">{% trans "Back to list" %}</a></td>
28 |     </tr>
29 | </table>
30 | {% endblock body %}


# File: oscardropship/templates/newsletter/newsletter_list.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter list" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 | {% if user.is_authenticated %}
 9 | <form method="POST" action="">
10 |   {% csrf_token %}
11 |   {{ formset.management_form }}
12 |   <table>
13 |     <tr>
14 |         <th>{% trans "Newsletter" %}</th>
15 |         {% if user %}
16 |         <th>{% trans "Subscribe" %}</th>
17 |         {% endif %}
18 |     </tr>
19 |     {% for form in formset.forms %}
20 |       <tr>
21 |         <td>{{ form.id }}{{ form.newsletter }}
22 | <a href="{% url "newsletter_detail" form.instance.newsletter.slug %}">{{ form.instance.newsletter.title }}</a></td>
23 |         <td>{{ form.subscribed }}</td>
24 |       </tr>
25 |     {% endfor %}
26 |   </table>
27 |   <p><input id="id_submit" name="submit" value="{% trans "Update subscriptions" %}" type="submit" /></p>
28 | </form>
29 | {% else %}
30 | <table>
31 |     <tr>
32 |         <th>{% trans "Newsletter" %}</th>
33 |     </tr>
34 |     {% for newsletter in object_list %}
35 |     <tr>
36 |         <td><a href="{% url "newsletter_detail" newsletter.slug %}">{{ newsletter.title }}</a></td>
37 |     </tr>
38 |     {% endfor %}
39 | </table>
40 | {% endif %}
41 | {% endblock body %}


# File: oscardropship/templates/newsletter/submission_archive.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter archive" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 | <table>
 9 |     <tr>
10 |         <th>{% trans "Newsletter archive" %} {{ newsletter.title }}</th>
11 |     </tr>
12 |     {% for submission in latest %}
13 |     <tr>
14 |         <td><a href="{{ submission.get_absolute_url }}">{{ submission }}</a></td>
15 |     </tr>
16 |     {% endfor %}
17 |     <tr>
18 |         <td><a href="../">{% trans "Back to list" %}</a></td>
19 |     </tr>
20 | </table>
21 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_activate.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter" %} {{ newsletter.title }} {{ action }} {% trans "activate" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 |     <h1>{% trans "Newsletter" %} {{ newsletter.title }} {{ action }} {% trans "activate" %}</h1>
 9 | 
10 |     <form enctype="multipart/form-data" method="post" action=".">
11 |         {% csrf_token %}
12 |         {{ form.as_p }}
13 |         <p><input id="id_submit" name="submit" value="{% trans "Activate" %}" type="submit" /></p>
14 |     </form>
15 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_subscribe.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter subscribe" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 |     <h1>{% trans "Newsletter subscribe" %} {{ newsletter.title }}</h1>
 9 | 
10 |     {% if error %}
11 |         <p>{% trans "Due to a technical error we were not able to submit your confirmation email. This could be because your email address is invalid." %}</p>
12 | 
13 |         {% comment %} Replace the the following dummy with a valid email address and remove this comment.
14 | 
15 |         <p>{% trans "If the error persists, please don't hesitate to contact us at the following email address:" %} <a href="mailto:info@foobar.com">info@foobar.com</a></p>
16 | 
17 |         {% endcomment %}
18 |     {% else %}
19 |         <form enctype="multipart/form-data" method="post" action=".">
20 |             {% csrf_token %}
21 |             {{ form.as_p }}
22 |             <p><input id="id_submit" name="submit" value="{% trans "Subscribe" %}" type="submit" /></p>
23 |         </form>
24 |     {% endif %}
25 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_subscribe_activated.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter" %} {{ newsletter.title }} {{ action }} {% trans "activate" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 |     <h1>{% trans "Newsletter" %} {{ newsletter.title }} {{ action }} {% trans "activate" %}</h1>
 9 | 
10 |     <p>{% trans "Your subscription has successfully been activated." %}</p>
11 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_subscribe_email_sent.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter subscribe" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 |     <h1>{% trans "Newsletter subscribe" %} {{ newsletter.title }}</h1>
 9 | 
10 |     <p>{% trans "Your subscription request was successfully received and an activation email has been sent to you. In that email you will find a link which you need to follow in order to activate your subscription." %}</p>
11 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_subscribe_user.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter subscribe" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 | <h1>{% trans "Newsletter subscribe" %} {{ newsletter.title }}</h1>
 9 | 
10 | <p>Welcome, {{ user }}!</p>
11 | 
12 | {% if messages %}
13 | <ul>
14 |     {% for message in messages %}
15 |     <li>{{ message }}</li>
16 |     {% endfor %}
17 | </ul>
18 | {% else %}
19 | {% trans "Do you want to subscribe to this newsletter?" %}
20 | <form enctype="multipart/form-data" method="post" action="{% url "newsletter_subscribe_confirm" newsletter.slug %}">
21 |     {% csrf_token %}
22 |     <p><input id="id_submit" name="submit" value="{% trans "Subscribe" %}" type="submit" /></p>
23 | </form>
24 | {% endif %}
25 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_unsubscribe.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter unsubscribe" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 |     <h1>{% trans "Newsletter unsubscribe" %} {{ newsletter.title }}</h1>
 9 | 
10 |     {% if error %}
11 |         <p>{% trans "Due to a technical error we were not able to submit your confirmation email. This could be because your email address is invalid." %}</p>
12 | 
13 |         {% comment %} Replace the the following dummy with a valid email address and remove this comment.
14 | 
15 |         <p>{% trans "If the error persists, please don't hesitate to contact us at the following email address:" %} <a href="mailto:info@foobar.com">info@foobar.com</a></p>
16 | 
17 |         {% endcomment %}
18 |     {% else %}
19 |         <form enctype="multipart/form-data" method="post" action=".">
20 |             {% csrf_token %}
21 |             {{ form.as_p }}
22 |             <p><input id="id_submit" name="submit" value="{% trans "Unsubscribe" %}" type="submit" /></p>
23 |         </form>
24 |     {% endif %}
25 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_unsubscribe_activated.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter" %} {{ newsletter.title }} {{ action }} {% trans "activate" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 |     <h1>{% trans "Newsletter" %} {{ newsletter.title }} {{ action }} {% trans "activate" %}</h1>
 9 | 
10 |     <p>{% trans "You have successfully been unsubscribed." %}</p>
11 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_unsubscribe_email_sent.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter unsubscribe" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 |     <h1>{% trans "Newsletter unsubscribe" %} {{ newsletter.title }}</h1>
 9 | 
10 |     <p>{% trans "Your unsubscription request has successfully been received. An email has been sent to you with a link you need to follow in order to confirm your unsubscription." %}</p>
11 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_unsubscribe_user.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter unsubscribe" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 | <h1>{% trans "Newsletter unsubscribe" %} {{ newsletter.title }}</h1>
 9 | 
10 | <p>Welcome, {{ user }}!</p>
11 | 
12 | {% if messages %}
13 | <ul>
14 |     {% for message in messages %}
15 |     <li>{{ message }}</li>
16 |     {% endfor %}
17 | </ul>
18 | {% else %}
19 | 
20 | {% trans "Do you want to unsubscribe from this newsletter?" %}
21 | <form enctype="multipart/form-data" method="post" action="{% url "newsletter_unsubscribe_confirm" newsletter.slug %}">
22 |     {% csrf_token %}
23 |     <p><input id="id_submit" name="submit" value="{% trans "Unsubscribe" %}" type="submit" /></p>
24 | </form>
25 | {% endif %}
26 | 
27 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_update.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter update" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 |     <h1>{% trans "Newsletter update" %} {{ newsletter.title }}</h1>
 9 | 
10 |     {% if error %}
11 |         <p>{% trans "Due to a technical error we were not able to submit your confirmation email. This could be because your email address is invalid." %}</p>
12 | 
13 |         {% comment %} Replace the the following dummy with a valid email address and remove this comment.
14 | 
15 |         <p>{% trans "If the error persists, please don't hesitate to contact us at the following email address:" %} <a href="mailto:info@foobar.com">info@foobar.com</a></p>
16 | 
17 |         {% endcomment %}
18 |     {% else %}
19 |         <form enctype="multipart/form-data" method="post" action=".">
20 |             {% csrf_token %}
21 |             {{ form.as_p }}
22 |             <p><input id="id_submit" name="submit" value="{% trans "Update subscription" %}" type="submit" /></p>
23 |         </form>
24 |     {% endif %}
25 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_update_activated.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter" %} {{ newsletter.title }} {{ action }} {% trans "activate" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 |     <h1>{% trans "Newsletter" %} {{ newsletter.title }} {{ action }} {% trans "activate" %}</h1>
 9 | 
10 |     <p>{% trans "Your subscription has successfully been updated." %}</p>
11 | {% endblock body %}


# File: oscardropship/templates/newsletter/subscription_update_email_sent.html

 1 | {% extends "newsletter/common.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}{% trans "Newsletter update" %}{% endblock title %}
 6 | 
 7 | {% block body %}
 8 |     <h1>{% trans "Newsletter update" %} {{ newsletter.title }}</h1>
 9 | 
10 |     <p>{% trans "Your update request was successfully received and an activation email has been sent to you. In that email you will find a link which you need to follow in order to update your subscription." %}</p>
11 | {% endblock body %}


# File: oscardropship/templates/oscar/basket/messages/addition.html

 1 | {% load i18n %}
 2 | 
 3 | {% if quantity == 1 %}
 4 |     {% blocktrans with title=product.get_title %}
 5 |     <strong>{{ title }}</strong> has been added to your basket.
 6 |     {% endblocktrans %}
 7 | {% else %}
 8 |     {% blocktrans with title=product.get_title quantity=quantity %}
 9 |     <strong>{{ quantity }}</strong> copies of <strong>{{ title }}</strong>
10 |     have been added to your basket.
11 |     {% endblocktrans %}
12 | {% endif %}


# File: oscardropship/templates/oscar/basket/messages/line_restored.html

1 | {% load i18n %}
2 | 
3 | {% blocktrans with title=line.product.get_title %}
4 | <strong>{{ title }}</strong> has been moved back to your basket.
5 | {% endblocktrans %}


# File: oscardropship/templates/oscar/basket/messages/line_saved.html

1 | {% load i18n %}
2 | 
3 | {% blocktrans with title=line.product.get_title %}
4 | <strong>{{ title }}</strong> has been saved for later
5 | {% endblocktrans %}


# File: oscardropship/templates/oscar/basket/messages/new_total.html

 1 | {% load i18n %}
 2 | {% load currency_filters %}
 3 | 
 4 | <p>
 5 |     {% if basket.is_empty %}
 6 |         {% trans "Your basket is now empty" %}
 7 |     {% else %}
 8 |         {% if basket.is_tax_known %}
 9 |             {% blocktrans with total=basket.total_incl_tax|currency:basket.currency %}
10 |             Your basket total is now <strong>{{ total }}</strong>
11 |             {% endblocktrans %}
12 |         {% else %}
13 |             {% blocktrans with total=basket.total_excl_tax|currency:basket.currency %}
14 |             Your basket total is now <strong>{{ total }}</strong>
15 |             {% endblocktrans %}
16 |         {% endif %}
17 |     {% endif %}
18 | </p>
19 | 
20 | {% if include_buttons %}
21 | <p>
22 |     <a href="{% url 'basket:summary' %}" class="btn btn-info">{% trans "View basket" %}</a>
23 |     <a href="{% url 'checkout:index' %}" class="btn btn-info">{% trans "Checkout now" %}</a>
24 | </p>
25 | {% endif %}


# File: oscardropship/templates/oscar/basket/messages/offer_gained.html

1 | {% load i18n %}
2 | 
3 | {% blocktrans with name=offer.name %}
4 | Your basket now qualifies for the 
5 | <strong>{{ name }}</strong> offer.
6 | {% endblocktrans %}


# File: oscardropship/templates/oscar/basket/messages/offer_lost.html

1 | {% load i18n %}
2 | 
3 | {% blocktrans with name=offer.name %}
4 | Your basket no longer qualifies for the
5 | <strong>{{ name }}</strong> offer.
6 | {% endblocktrans %}


# File: oscardropship/templates/oscar/basket/partials/basket_content.html

  1 | {% load i18n %}
  2 | {% load image_tags %}
  3 | {% load currency_filters %}
  4 | {% load purchase_info_tags %}
  5 | {% load widget_tweaks %}
  6 | 
  7 | {% if basket_warnings %}
  8 |     <h5>{% trans "Important messages about items in your basket" %}</h5>
  9 |     {% for warning in basket_warnings %}
 10 |         <div class="alert alert-warning">{{ warning }}</div>
 11 |     {% endfor %}
 12 | {% endif %}
 13 | 
 14 | {% if upsell_messages %}
 15 |     <div class="well">
 16 |         <h3>{% trans "You could be missing out on offers!" %}</h3>
 17 |         {% for upsell in upsell_messages %}
 18 |             {% blocktrans with message=upsell.message url=upsell.offer.get_absolute_url offer_name=upsell.offer.name %}
 19 |                 <div class="warning">{{ message }} to qualify for the <a href="{{ url }}">{{ offer_name }}</a> special offer</div>
 20 |             {% endblocktrans %}
 21 |         {% endfor %}
 22 |     </div>
 23 | {% endif %}
 24 | 
 25 | {% if not basket.is_empty %}
 26 |     {% block basket_form_headers %}
 27 |         <div class="basket-title hidden-xs">
 28 |             <div class="row">
 29 |                 <h2 class="col-sm-6 h3">{% trans "Items to buy now" %}</h2>
 30 |                 <p class="col-sm-3 h3">{% trans "Quantity" %}</p>
 31 |                 <p class="col-sm-1 h3 align-right">{% trans "Price" %}</p>
 32 |                 <p class="col-sm-2 h3 align-right">{% trans "Total" %}</p>
 33 |             </div>
 34 |         </div>
 35 |     {% endblock %}
 36 | 
 37 |     {% block basket_form_main %}
 38 |         <form method="post" class="basket_summary" id="basket_formset">
 39 |             {% csrf_token %}
 40 |             {{ formset.management_form }}
 41 | 
 42 |             {% for form in formset %}
 43 |                 {% with line=form.instance product=form.instance.product %}
 44 |                     {% purchase_info_for_line request line as session %}
 45 |                     <div class="basket-items">
 46 |                         <div class="row">
 47 |                             <div class="col-sm-2">
 48 |                                 {{ form.id }}
 49 |                                 {% with image=product.primary_image %}
 50 |                                     {% oscar_thumbnail image.original "100x100" upscale=False as thumb %}
 51 |                                     <a href="{{ product.get_absolute_url }}">
 52 |                                         <img class="thumbnail" src="{{ thumb.url }}" alt="{{ product.get_title }}"/>
 53 |                                     </a>
 54 |                                 {% endwith %}
 55 |                             </div>
 56 |                             <div class="col-sm-4">
 57 |                                 <h3><a href="{{ product.get_absolute_url }}">{{ line.description }}</a></h3>
 58 |                                 <p class="availability {{ session.availability.code }}">{{ session.availability.message }}</p>
 59 |                             </div>
 60 |                             <div class="col-sm-3">
 61 |                                 <div class="checkout-quantity">
 62 |                                     <div class="input-group  {% if form.errors %}error{% endif %}">
 63 |                                         {% render_field form.quantity class+="form-control" %}
 64 |                                     <span class="input-group-btn">
 65 |                                         <button class="btn btn-default" type="submit" data-loading-text="{% trans 'Updating...' %}">{% trans "Update" %}</button>
 66 |                                     </span>
 67 |                                     </div>
 68 |                                 </div>
 69 |                                     <div>
 70 |                                         <a href="#" data-id="{{ forloop.counter0 }}" data-behaviours="remove" class="inline">{% trans "Remove" %}</a>
 71 |                                         {% if user.is_authenticated %}
 72 |                                             | <a href="#" data-id="{{ forloop.counter0 }}" data-behaviours="save" class="inline">{% trans "Save for later" %}</a>
 73 |                                         {% endif %}
 74 |                                         <div style="display:none">
 75 |                                             {{ form.save_for_later }}
 76 |                                             {{ form.DELETE }}
 77 |                                         </div>
 78 |                                         {% for field_errors in form.errors.values %}
 79 |                                             {% for error in field_errors %}
 80 |                                                 <span class="error-block"><i class="icon-exclamation-sign"></i> {{ error }}</span>
 81 |                                             {% endfor %}
 82 | 
 83 |                                         {% endfor %}
 84 |                                     </div>
 85 | 
 86 |                             </div>
 87 |                             <div class="col-sm-1">
 88 |                                 {% if not line.unit_price_incl_tax and not line.unit_tax_excl_tax %}
 89 |                                     <p class="align-right">&mdash;</p>
 90 |                                 {% else %}
 91 |                                     <p class="price_color align-right">
 92 |                                         {% if line.is_tax_known %}
 93 |                                             {{ line.unit_price_incl_tax|currency:line.price_currency }}
 94 |                                         {% else %}
 95 |                                             {{ line.unit_price_excl_tax|currency:line.price_currency }}
 96 |                                         {% endif %}
 97 |                                     </p>
 98 |                                 {% endif %}
 99 |                             </div>
100 |                             <div class="col-sm-2">
101 |                                 {% if not line.line_price_incl_tax and not line_price_excl_tax %}
102 |                                     <p class="align-right">&mdash;</p>
103 |                                 {% else %}
104 |                                     <p class="price_color align-right">
105 |                                         {% if line.is_tax_known %}
106 |                                             {{ line.line_price_incl_tax|currency:line.price_currency }}
107 |                                         {% else %}
108 |                                             {{ line.line_price_excl_tax|currency:line.price_currency }}
109 |                                         {% endif %}
110 |                                     </p>
111 |                                 {% endif %}
112 |                             </div>
113 |                         </div>
114 |                     </div>
115 |                 {% endwith %}
116 |             {% endfor %}
117 |         </form>
118 |     {% endblock %}
119 | 
120 |     <div class="row">
121 |         {% block vouchers %}
122 |             {# Hide the entire section if a custom BasketView doesn't pass in a voucher form #}
123 |             {% if voucher_form %}
124 |                 <div class="col-sm-6">
125 |                     <div class="sub-header">
126 |                         <h2>{% trans "Voucher/promo code" %}</h2>
127 |                     </div>
128 |                     <p id="voucher_form_link"><a href="#voucher" class="btn btn-default btn-full">{% trans "I have a voucher code..." %}</a></p>
129 | 
130 |                     <div id="voucher_form_container" style="display:none">
131 |                         <form id="voucher_form" action="{% url 'basket:vouchers-add' %}" method="post">
132 |                             {% csrf_token %}
133 |                             {% include "oscar/partials/form_fields.html" with form=voucher_form %}
134 |                             <button type="submit" class="btn btn-info" data-loading-text="{% trans 'Adding...' %}">{% trans "Add voucher" %}</button>
135 |                             {% trans "or" %} <a href="#" id="voucher_form_cancel">{% trans "cancel" %}</a>
136 |                         </form>
137 |                     </div>
138 |                 </div>
139 |             {% endif %}
140 |         {% endblock vouchers %}
141 | 
142 |         {% block baskettotals %}
143 |             <div class="col-sm-6">
144 |                 <div class="sub-header">
145 |                     <h2>{% trans "Totals" %}</h2>
146 |                 </div>
147 |                 {% include 'oscar/basket/partials/basket_totals.html' with editable=1 %}
148 |             </div>
149 |         {% endblock baskettotals %}
150 |     </div>
151 | 
152 | 
153 |     {% block formactions %}
154 |         <div class="form-group clearfix">
155 |             <div class="row">
156 |                 <div class="col-sm-4 col-sm-offset-8">
157 |                     <a href="{% url 'checkout:index' %}" class="btn btn-lg btn-primary btn-block">{% trans "Proceed to checkout" %}</a>
158 |                 </div>
159 |             </div>
160 |         </div>
161 |     {% endblock formactions %}
162 | 
163 | {% else %}
164 |     {% block emptybasket %}
165 |         <p>
166 |             {% trans "Your basket is empty." %}
167 |             <a href="{{ homepage_url }}">{% trans "Continue shopping" %}</a>
168 |         </p>
169 |     {% endblock %}
170 | {% endif %}
171 | 
172 | {% block savedbasket %}
173 |     {% if user.is_authenticated and saved_formset %}
174 |         <div class="well">
175 |             <div class="sub-header">
176 |                 <h2>{% trans "Items to buy later" %}</h2>
177 |             </div>
178 |             <div class="row basket-title hidden-xs">
179 |                 <p class="col-sm-8 h4">{% trans "Items" %}</p>
180 |                 <p class="col-sm-2 h4 align-center">{% trans "Price" %}</p>
181 |                 <div class="col-sm-2">&nbsp;</div>
182 |             </div>
183 |             <form action="{% url 'basket:saved' %}" method="post" class="form-stacked later_summary" id="saved_basket_formset">
184 |                 {% csrf_token %}
185 |                 {{ saved_formset.management_form }}
186 |                 {% for form in saved_formset %}
187 |                     {% purchase_info_for_product request form.instance.product as session %}
188 |                     <div class="basket-items">
189 |                         <div class="row">
190 |                             <div class="col-sm-2">
191 |                                 {{ form.id }}
192 |                                 {% with image=form.instance.product.primary_image %}
193 |                                     {% oscar_thumbnail image.original "100x100" upscale=False as thumb %}
194 |                                     <a href="{{ form.instance.product.get_absolute_url }}">
195 |                                         <img class="thumbnail" src="{{ thumb.url }}" alt="{{ form.instance.product.get_title }}">
196 |                                     </a>
197 |                                 {% endwith %}
198 |                             </div>
199 |                             <div class="col-sm-6">
200 |                                 <h3><a href="{{ form.instance.product.get_absolute_url }}">{{ form.instance.description }}</a></h3>
201 |                                 <p class="availability {{ session.availability.code }}">{{ session.availability.message }}</p>
202 |                                 <a href="#" data-id="{{ forloop.counter0 }}" data-behaviours="remove">{% trans "Remove" %}</a>
203 |                                 <div style="display:none">
204 |                                     {{ form.move_to_basket }}
205 |                                     {{ form.DELETE }}
206 |                                 </div>
207 |                             </div>
208 |                             {% purchase_info_for_product request form.instance.product as saved %}
209 |                             <div class="col-sm-2 align-center">
210 |                                 <p class="price_color">
211 |                                     {% if saved.price.is_tax_known %}
212 |                                         {{ saved.price.incl_tax|currency:saved.price.currency }}
213 |                                     {% else %}
214 |                                         {{ saved.price.excl_tax|currency:saved.price.currency }}
215 |                                     {% endif %}
216 |                                 </p>
217 |                             </div>
218 |                             <div class="col-sm-2">
219 |                                 <a href="#" data-id="{{ forloop.counter0 }}" class="btn pull-right btn-block" data-behaviours="move">{% trans "Move to basket" %}</a>
220 |                             </div>
221 |                         </div>
222 |                     </div>
223 |                 {% endfor %}
224 |             </form>
225 |         </div>
226 |     {% endif %}
227 | {% endblock %}


# File: oscardropship/templates/oscar/basket/partials/basket_quick.html

 1 | {% load history_tags %}
 2 | {% load basket_tags %}
 3 | {% load currency_filters %}
 4 | {% load image_tags %}
 5 | {% load i18n %}
 6 | 
 7 | <ul class="basket-mini-item list-unstyled">
 8 |     {% if request.basket.num_lines %}
 9 |         {% for line in request.basket.all_lines %}
10 |             <li>
11 |                 <div class="row">
12 |                     <div class="col-sm-3">
13 |                         <div class="image_container">
14 |                             {% with image=line.product.primary_image %}
15 |                                 {% oscar_thumbnail image.original "100x100" upscale=False as thumb %}
16 |                                 <a href="{{ line.product.get_absolute_url }}">
17 |                                     <img class="thumbnail" src="{{ thumb.url }}" alt="{{ line.product.get_title }}">
18 |                                 </a>
19 |                             {% endwith %}
20 |                         </div>
21 |                     </div>
22 |                     <div class="col-sm-5">
23 |                         <p><strong><a href="{{ line.product.get_absolute_url }}">{{ line.description }}</a></strong></p>
24 |                     </div>
25 |                     <div class="col-sm-1 align-center"><strong>{% trans "Qty" %}</strong> {{ line.quantity }}</div>
26 |                     <div class="col-sm-3 price_color align-right">{{ line.unit_price_excl_tax|currency:request.basket.currency }}</div>
27 |                 </div>
28 |             </li>
29 |         {% endfor %}
30 |         <li class="form-group form-actions">
31 |             <p class="align-right">
32 |                 {% if request.basket.is_tax_known %}
33 |                     <small>{% trans "Total:" %} {{ request.basket.total_incl_tax|currency:request.basket.currency }}</small>
34 |                 {% else %}
35 |                     <small>{% trans "Total:" %} {{ request.basket.total_excl_tax|currency:request.basket.currency }}</small>
36 |                 {% endif %}
37 |             </p>
38 |             <a href="{% url 'basket:summary' %}" class="btn btn-info btn-sm">{% trans "View basket" %}</a>
39 |             <a href="{% url 'checkout:index' %}" class="btn btn-primary btn-sm pull-right"><i class="icon-shopping-cart"></i> {% trans "Checkout" %}</a>
40 |         </li>
41 |     {% else %}
42 |         <li><p>{% trans "Your basket is empty." %}</p></li>
43 |     {% endif %}
44 | </ul>


# File: oscardropship/templates/oscar/basket/partials/basket_totals.html

  1 | {% load i18n %}
  2 | {% load currency_filters %}
  3 | {% load shipping_tags %}
  4 | 
  5 | <div id="basket_totals">
  6 |     <table class="table table-condensed">
  7 |         <tbody>
  8 |             <tr>
  9 |                 <th colspan="2"><h3>{% trans "Basket" %}</h3></th>
 10 |             </tr>
 11 |             {% with offer_discounts=basket.offer_discounts voucher_discounts=basket.grouped_voucher_discounts %}
 12 |                 {% block discount_totals %}
 13 |                     {% if offer_discounts or voucher_discounts %}
 14 |                         {# Basket total will be discounted so we show a before and after version #}
 15 |                         <tr>
 16 |                             <td>{% trans "Basket total (before discounts)" %}</td>
 17 |                             <td class="align-right">
 18 |                                 {% if basket.is_tax_known and not show_tax_separately %}
 19 |                                     {{ basket.total_incl_tax_excl_discounts|currency:basket.currency }}
 20 |                                 {% else %}
 21 |                                     {{ basket.total_excl_tax_excl_discounts|currency:basket.currency }}
 22 |                                 {% endif %}
 23 |                             </td>
 24 |                         </tr>
 25 | 
 26 |                         {% for discount in offer_discounts %}
 27 |                             <tr>
 28 |                                 <td class="basket-discount"><span class="label label-success">{% trans "Discount" %}</span> {{ discount.name }}
 29 |                                     {% if discount.description %}
 30 |                                         <br/><small>{{ discount.description }}</small>
 31 |                                     {% endif %}
 32 |                                 </td>
 33 |                                 <td class="align-right">-{{ discount.discount|currency:basket.currency }}</td>
 34 |                             </tr>
 35 |                         {% endfor %}
 36 | 
 37 |                         {% if voucher_discounts %}
 38 |                             <tr>
 39 |                                 <th colspan="2"><h3>{% trans "Vouchers" %}</h3></th>
 40 |                             </tr>
 41 |                             {% for discount in voucher_discounts %}
 42 |                                 <tr>
 43 |                                     <td>
 44 |                                         {{ discount.voucher.name }} ({{ discount.voucher.code }})
 45 |                                         {% if editable %}
 46 |                                             <form action="{% url 'basket:vouchers-remove' pk=discount.voucher.id %}" method="POST">
 47 |                                                 {% csrf_token %}
 48 |                                                 <input type="submit" value="{% trans 'Remove' %}" class="btn btn-sm btn-danger" />
 49 |                                             </form>
 50 |                                         {% endif %}
 51 |                                     </td>
 52 |                                     <td class="align-right">-{{ discount.discount|currency:basket.currency }}</td>
 53 |                                 </tr>
 54 |                             {% endfor %}
 55 |                         {% endif %}
 56 |                     {% endif %}
 57 |                 {% endblock %}
 58 | 
 59 |                 {% block basket_total %}
 60 |                     {% if offer_discounts or voucher_discounts %}
 61 |                         <tr>
 62 |                             <th class="total">{% trans "Basket total (after discounts)" %}</th>
 63 |                             <th class="total align-right">
 64 |                                 {% if not show_tax_separately and basket.is_tax_known %}
 65 |                                     {{ basket.total_incl_tax|currency:basket.currency }}
 66 |                                 {% else %}
 67 |                                     {{ basket.total_excl_tax|currency:basket.currency }}
 68 |                                 {% endif %}
 69 |                             </th>
 70 |                         </tr>
 71 |                     {% else %}
 72 |                         {# No discounts to basket #}
 73 |                         <tr>
 74 |                             <th class="total">{% trans "Basket total" %}</th>
 75 |                             <th class="total align-right">
 76 |                                 {% if not show_tax_separately and basket.is_tax_known %}
 77 |                                     {{ basket.total_incl_tax|currency:basket.currency }}
 78 |                                 {% else %}
 79 |                                     {{ basket.total_excl_tax|currency:basket.currency }}
 80 |                                 {% endif %}
 81 |                             </th>
 82 |                         </tr>
 83 |                     {% endif %}
 84 |                 {% endblock %}
 85 |             {% endwith %}
 86 | 
 87 |             {% block shipping_totals %}
 88 |                 <tr>
 89 |                     <th>&nbsp;</th>
 90 |                     <td></td>
 91 |                 </tr>
 92 | 
 93 |                 <tr>
 94 |                     <th colspan="2">
 95 |                         <h3>{% trans "Shipping" %}</h3>
 96 |                         {% if shipping_methods|length > 1 and editable %}
 97 |                             <small>{% trans "Alternative shipping methods can be chosen during checkout" %}</small>
 98 |                         {% endif %}
 99 |                     </th>
100 |                 </tr>
101 |                 {% if not shipping_method.is_discounted %}
102 |                     <tr>
103 |                         <th class="total">
104 |                             {{ shipping_method.name }}
105 |                         </th>
106 |                         <th class="total align-right">
107 |                             {% if not show_tax_separately and shipping_charge.is_tax_known %}
108 |                                 {{ shipping_charge.incl_tax|currency:basket.currency }}
109 |                             {% else %}
110 |                                 {{ shipping_charge.excl_tax|currency:basket.currency }}
111 |                             {% endif %}
112 |                         </th>
113 |                     </tr>
114 |                 {% else %}
115 |                     {% shipping_charge_discount shipping_method basket as shipping_discount %}
116 |                     {% shipping_charge_excl_discount shipping_method basket as shipping_charge_excl_discount %}
117 |                     {# As shipping is discounted, we break it down into its original charge and a discount #}
118 |                     <tr>
119 |                         <th class="total">{% trans "Shipping method" %}</th>
120 |                         <td class="total align-right">{{ shipping_method.name }}</td>
121 |                     </tr>
122 |                     <tr>
123 |                         <td>{% trans "Shipping total (before discounts)" %}</td>
124 |                         <td class="align-right">
125 |                             {% if not show_tax_separately and shipping_charge_excl_discount.is_tax_known %}
126 |                                 {{ shipping_charge_excl_discount.incl_tax|currency:basket.currency }}
127 |                             {% else %}
128 |                                 {{ shipping_charge_excl_discount.excl_tax|currency:basket.currency }}
129 |                             {% endif %}
130 |                         </td>
131 |                     </tr>
132 |                     {# This section needs adjustment to when taxes are shown separately #}
133 |                     <tr>
134 |                         <td class="basket-discount"><span class="label label-success">{% trans "Discount" %}</span> {{ shipping_method.discount_name }}</td>
135 |                         <td class="align-right">-{{ shipping_discount|currency:basket.currency }}</td>
136 |                     </tr>
137 |                     <tr>
138 |                         <th class="total">
139 |                             {% trans "Shipping total (after discounts)" %}
140 |                         </th>
141 |                         <th class="total align-right">
142 |                             {% if not show_tax_separately and shipping_charge.is_tax_known %}
143 |                                 {{ shipping_charge.incl_tax|currency:basket.currency }}
144 |                             {% else %}
145 |                                 {{ shipping_charge.excl_tax|currency:basket.currency }}
146 |                             {% endif %}
147 |                         </th>
148 |                     </tr>
149 |                 {% endif %}
150 |             {% endblock %}
151 | 
152 |             {% block surcharges %}
153 |                 {% if surcharges %}
154 |                     <tr>
155 |                         <th>&nbsp;</th>
156 |                         <td></td>
157 |                     </tr>
158 | 
159 |                     <tr>
160 |                         <th colspan="2">
161 |                             <h3>{% trans "Surcharges" %}</h3>
162 |                         </th>
163 |                     </tr>
164 |                     {% for surcharge in surcharges %}
165 |                         <tr> 
166 |                             <th class="total"> 
167 |                                 {{ surcharge.surcharge.name }}
168 |                             </th>
169 |                             <th class="total align-right">
170 |                                 {% if not show_tax_separately and surcharge.price.is_tax_known %}
171 |                                     {{ surcharge.price.incl_tax|currency:basket.currency }}
172 |                                 {% else %}
173 |                                     {{ surcharge.price.excl_tax|currency:basket.currency }}
174 |                                 {% endif %}
175 |                             </th>
176 |                         </tr>
177 |                     {% endfor %}
178 |                 {% endif %}
179 |             {% endblock %}
180 | 
181 | 
182 |             {% block tax_totals %}
183 |                 {% if show_tax_separately %}
184 |                     <tr>
185 |                         <th>&nbsp;</th>
186 |                         <td></td>
187 |                     </tr>
188 |                     <tr>
189 |                         <th colspan="2">
190 |                             <h3>{% trans "Tax" %}</h3>
191 |                         </th>
192 |                     </tr>
193 |                     <tr>
194 |                         <th class="total">{% trans "Basket" %}</th>
195 |                         <th class="total align-right">
196 |                             {{ basket.total_tax|currency:basket.currency }}
197 |                         </th>
198 |                     </tr>
199 |                     <tr>
200 |                         <th class="total">{% trans "Shipping" %}</th>
201 |                         <th class="total align-right">
202 |                             {{ shipping_charge.tax|currency:basket.currency }}
203 |                         </th>
204 |                     </tr>
205 |                 {% endif %}
206 |             {% endblock %}
207 | 
208 |             {% block post_order_action_totals %}
209 |                 {% if basket.post_order_actions %}
210 |                     <tr>
211 |                         <th>&nbsp;</th>
212 |                         <td></td>
213 |                     </tr>
214 |                     <tr>
215 |                         <th><h3>{% trans "Post order actions" %}</h3><small>{% trans "These will be applied once your order is placed." %}</small></th>
216 |                         <td></td>
217 |                     </tr>
218 |                     {% for discount in basket.post_order_actions %}
219 |                         <tr>
220 |                             <td class="total" colspan="2">
221 |                                 <span class="label label-success">{{ discount.name }}</span><br/>
222 |                                 <p>{{ discount.description }}</p>
223 |                             </td>
224 |                         </tr>
225 |                     {% endfor %}
226 |                 {% endif %}
227 |             {% endblock %}
228 | 
229 |             {% block order_total %}
230 |                 <tr>
231 |                     <th>&nbsp;</th>
232 |                     <td></td>
233 |                 </tr>
234 |                 <tr>
235 |                     <th class="total"><h3>{% trans "Order total" %}</h3></th>
236 |                     <td class="total align-right">
237 |                         <h3 class="price_color">
238 |                             {% if order_total.is_tax_known %}
239 |                                 {{ order_total.incl_tax|currency:basket.currency }}
240 |                             {% else %}
241 |                                 {{ order_total.excl_tax|currency:basket.currency }}
242 |                             {% endif %}
243 |                         </h3>
244 |                     </td>
245 |                 </tr>
246 |                 {% if not order_total.is_tax_known %}
247 |                     <tr>
248 |                         <td><small>{% trans "Taxes will be added during checkout." %}</small></td>
249 |                     </tr>
250 |                 {% endif %}
251 |             {% endblock %}
252 |         </tbody>
253 |     </table>
254 | </div>


# File: oscardropship/templates/oscar/basket/basket.html

 1 | {% extends "oscar/layout.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {% trans "Basket" %} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block breadcrumbs %}
 9 |     <ul class="breadcrumb">
10 |         <li>
11 |             <a href="{{ homepage_url }}">{% trans "Home" %}</a>
12 |         </li>
13 |         <li class="active">{% trans "Basket" %}</li>
14 |     </ul>
15 | {% endblock %}
16 | 
17 | {# Hide mini-basket so we don't have two baskets to keep in sync #}
18 | {% block mini_basket %}{% endblock %}
19 | 
20 | {% block headertext %}
21 |     {% trans "Basket" %}
22 | {% endblock %}
23 | 
24 | {% block content %}
25 |     {# Use a partial template so that AJAX can be used to re-render basket #}
26 |     {% include 'oscar/basket/partials/basket_content.html' %}
27 | {% endblock content %}
28 | 
29 | {% block onbodyload %}
30 |     {{ block.super }}
31 |     {# We pass in the URL to send AJAX requests to #}
32 |     var options = {
33 |         'basketURL': '{% url 'basket:summary' %}'
34 |     };
35 |     oscar.basket.init(options);
36 | {% endblock %}


# File: oscardropship/templates/oscar/catalogue/partials/add_to_basket_form.html

 1 | {% load basket_tags %}
 2 | {% load display_tags %}
 3 | {% load i18n %}
 4 | {% load purchase_info_tags %}
 5 | 
 6 | {% purchase_info_for_product request product as session %}
 7 | 
 8 | {% if session.availability.is_available_to_buy %}
 9 |     {% basket_form request product as basket_form %}
10 |     <form id="add_to_basket_form" action="{% url 'basket:add' pk=product.pk  %}" method="post" class="add-to-basket">
11 |         {% csrf_token %}
12 |         {% include "oscar/partials/form_fields.html" with form=basket_form %}
13 |         <button type="submit" class="btn btn-lg btn-primary btn-add-to-basket" value="{% trans "Add to basket" %}" data-loading-text="{% trans 'Adding...' %}">{% trans "Add to basket" %}</button>
14 |     </form>
15 |     {% iffeature "wishlists" %}
16 |         {% include "oscar/catalogue/partials/add_to_wishlist.html" %}
17 |     {% endiffeature %}
18 | {% else %}
19 |     {% if has_active_alert %}
20 |         <p>{% trans "You have an active stock alert for this product." %}</p>
21 |     {% else %}
22 |         <form id="alert_form" method="post" action="{% url 'customer:alert-create' pk=product.id %}" class="add-to-basket">
23 |             {% csrf_token %}
24 |             <p>{% trans "You can get an email alert when this product is back in stock." %}</p>
25 |             {% include "oscar/partials/form_fields.html" with form=alert_form %}
26 |             <button type="submit" class="btn btn-lg btn-info btn-add-to-basket" data-loading-text="{% trans 'Submitting...' %}">{% trans "Notify me" %}</button>
27 |         </form>
28 |     {% endif %}
29 |     {% iffeature "wishlists" %}
30 |         {% include "oscar/catalogue/partials/add_to_wishlist.html" %}
31 |     {% endiffeature %}
32 | {% endif %}


# File: oscardropship/templates/oscar/catalogue/partials/add_to_basket_form_compact.html

 1 | {% load basket_tags %}
 2 | {% load i18n %}
 3 | {% load purchase_info_tags %}
 4 | 
 5 | {% purchase_info_for_product request product as session %}
 6 | 
 7 | {% if session.availability.is_available_to_buy %}
 8 |     {% basket_form request product 'single' as basket_form %}
 9 |     <form action="{% url 'basket:add' pk=product.pk %}" method="post">
10 |         {% csrf_token %}
11 |         {{ basket_form.as_p }}
12 |         <button type="submit" class="btn btn-primary btn-block" data-loading-text="{% trans 'Adding...' %}">{% trans "Add to basket" %}</button>
13 |     </form>
14 | {% else %}
15 |     <span class="btn btn-default btn-block disabled">{% trans "Add to basket" %}</span>
16 | {% endif %}


# File: oscardropship/templates/oscar/catalogue/partials/add_to_wishlist.html

 1 | {% load i18n %}
 2 | {% load wishlist_tags %}
 3 | 
 4 | {% if user.is_authenticated %}
 5 |     {% with wishlists=user.wishlists.all %}
 6 |         {# Select wishlists that contains product #}
 7 |         {% wishlists_containing_product wishlists product as product_wishlists %}
 8 |         {% if wishlists %}
 9 | 
10 |             <div class="btn-group btn-wishlist">
11 |                 <a class="btn btn-lg dropdown-toggle" data-toggle="dropdown" href="#">{% trans "Add to wish list" %} <span class="caret"></span></a>
12 |                 <ul class="dropdown-menu pull-right">
13 |                     {% for wishlist in wishlists %}
14 |                         {% if wishlist not in product_wishlists %}
15 |                             <li>
16 |                                     <a href="{% url 'customer:wishlists-add-product' key=wishlist.key product_pk=product.pk %}">
17 |                                         {% blocktrans with name=wishlist.name %}
18 |                                             Add to '{{ name }}' wish list
19 |                                         {% endblocktrans %}
20 |                                     </a>
21 |                             </li>
22 |                         {% endif %}
23 |                     {% endfor %}
24 |                     <li><a href="{% url 'customer:wishlists-create-with-product' product_pk=product.pk %}">{% trans 'Create a new wishlist' %}</a></li>
25 |                 </ul>
26 |             </div>
27 |         {% else %}
28 |             {# 1 or no existing wishlists - show a simple button #}
29 |             <form id="add_to_wishlist_form" action="{% url 'customer:wishlists-add-product' product_pk=product.pk %}" method="post" class="btn-wishlist">
30 |                 {% csrf_token %}
31 |                 <button type="submit" class="btn btn-lg" data-loading-text="{% trans 'Adding...' %}">{% trans "Add to wish list" %}</button>
32 |             </form>
33 |         {% endif %}
34 | 
35 |         {% for wishlist in product_wishlists %}
36 |             <form action="{% url 'customer:wishlists-remove-product' key=wishlist.key product_pk=product.id %}" method="post">
37 |                 {% csrf_token %}
38 |                 {% blocktrans with name=wishlist.name url=wishlist.get_absolute_url %}
39 |                     <span class="pull-left">Product is in <a href="{{ url }}">'{{ name }}'</a> wishlist.</span>
40 |                 {% endblocktrans %}
41 |                 <button type="submit" class="btn btn-sm pull-right" data-loading-text="{% trans 'Removing...' %}">{% trans "Remove" %}</button>
42 |             </form>
43 |         {% endfor %}
44 |     {% endwith %}
45 | {% else %}
46 |     <button class="btn btn-lg btn-wishlist" disabled="disabled" title="{% trans 'Please login to add products to a wish list.' %}">{% trans 'Add to wish list' %}</button><br/>
47 | {% endif %}


# File: oscardropship/templates/oscar/catalogue/partials/gallery.html

 1 | {% load i18n %}
 2 | {% load image_tags %}
 3 | 
 4 | {% with all_images=product.get_all_images %}
 5 |     {# use length rather then count as the images get queried anyways #}
 6 | 
 7 |     {% if all_images|length > 1 %}
 8 | 
 9 |         <div id="product_gallery" class="carousel slide">
10 | 
11 |             <div class="thumbnail">
12 |                 <div class="carousel-inner" role="listbox">
13 |                 {% for image in all_images %}
14 |                     <div class="item {% if forloop.first %}active{% endif %}">
15 |                         {% oscar_thumbnail image.original "440x400" upscale=False as thumb %}
16 |                         <img src="{{ thumb.url }}" alt="{{ product.get_title }}" />
17 |                     </div>
18 |                 {% endfor %}
19 |                 </div>
20 |                 <a class="carousel-control left" href="#product_gallery" role="button" data-slide="prev">
21 |                     <span class="icon-prev fa-stack fa-lg" aria-hidden="true">
22 |                         <i class="fa fa-square-o fa-stack-2x"></i>
23 |                         <i class="fa fa-angle-left fa-stack-1x"></i>
24 |                     </span>
25 |                 </a>
26 |                 <a class="carousel-control right" href="#product_gallery" role="button" data-slide="next">
27 |                     <span class="icon-next fa-stack fa-lg" aria-hidden="true">
28 |                         <i class="fa fa-square-o fa-stack-2x"></i>
29 |                         <i class="fa fa-angle-right fa-stack-1x"></i>
30 |                     </span>
31 |                 </a>
32 |             </div>
33 | 
34 |             <ol class="carousel-indicators thumbnail">
35 |                 {% for image in all_images %}
36 |                     <li data-target="#product_gallery" data-slide-to="{{ forloop.counter0 }}" class="{% if forloop.first %}active{% endif %}">
37 |                         {% oscar_thumbnail image.original "65x55" crop="center" as thumb %}
38 |                         <img src="{{ thumb.url }}" alt="{{ product.get_title }}" />
39 |                     </li>
40 |                 {% endfor %}
41 |             </ol>
42 |         </div>
43 | 
44 |     {% else %}
45 | 
46 |         {# Only one image to show #}
47 |         <div id="product_gallery" class="carousel">
48 |             <div class="thumbnail">
49 |                 <div class="carousel-inner">
50 |                     <div class="item active">
51 |                     {% with image=product.primary_image %}
52 |                         {% oscar_thumbnail image.original "440x400" upscale=False as thumb %}
53 |                         <img src="{{ thumb.url }}" alt="{{ product.get_title }}" />
54 |                     {% endwith %}
55 |                     </div>
56 |                 </div>
57 |             </div>
58 |         </div>
59 | 
60 |     {% endif %}
61 | {% endwith %}


# File: oscardropship/templates/oscar/catalogue/partials/product.html

 1 | {% load display_tags %}
 2 | {% load i18n %}
 3 | {% load image_tags %}
 4 | {% load reviews_tags %}
 5 | 
 6 | {% block product %}
 7 |     <article class="product_pod">
 8 |         {% block product_image %}
 9 |             <div class="image_container">
10 |                 {% with image=product.primary_image %}
11 |                     {% oscar_thumbnail image.original "x155" upscale=False as thumb %}
12 |                     <a href="{{ product.get_absolute_url }}">
13 |                         <img src="{{ thumb.url }}" alt="{{ product.get_title }}" class="thumbnail">
14 |                     </a>
15 |                 {% endwith %}
16 |             </div>
17 |         {% endblock %}
18 | 
19 |         {% block product_review %}
20 |             {% iffeature "reviews" %}
21 |                 <p class="star-rating {{ product.rating|as_stars }}">
22 |                     <i class="icon-star"></i>
23 |                     <i class="icon-star"></i>
24 |                     <i class="icon-star"></i>
25 |                     <i class="icon-star"></i>
26 |                     <i class="icon-star"></i>
27 |                 </p>
28 |             {% endiffeature %}
29 |         {% endblock %}
30 | 
31 |         {% block product_title %}
32 |             <h3><a href="{{ product.get_absolute_url }}" title="{{ product.get_title }}">{{ product.get_title|truncatewords:4 }}</a></h3>
33 |         {% endblock %}
34 | 
35 |         {% block product_price %}
36 |             <div class="product_price">
37 |                 {% include "oscar/catalogue/partials/stock_record.html" %}
38 |                 {% if not product.is_parent and not product.has_options %}
39 |                     {% include "oscar/catalogue/partials/add_to_basket_form_compact.html" %}
40 |                 {% endif %}
41 |             </div>
42 |         {% endblock %}
43 |     </article>
44 | {% endblock %}


# File: oscardropship/templates/oscar/catalogue/partials/review.html

 1 | {% load reviews_tags %}
 2 | {% load i18n %}
 3 | 
 4 | <article class="review">
 5 |     <header>
 6 |         <h3 class="star-rating {{ review.score|as_stars }}">
 7 |             <span>
 8 |                 <i class="icon-star"></i>
 9 |                 <i class="icon-star"></i>
10 |                 <i class="icon-star"></i>
11 |                 <i class="icon-star"></i>
12 |                 <i class="icon-star"></i>
13 |             </span>
14 |             <a href="{{ review.get_absolute_url }}">{{ review.title }}</a>
15 |         </h3>
16 |     </header>
17 | 
18 |     <p>{{ review.body|striptags }}</p>
19 | 
20 |     <p>
21 |         <small>
22 |             {% if review.user == user %}
23 |                 {% blocktrans with review_date=review.date_created %}
24 |                 Reviewed by you on {{ review_date }}
25 |                 {% endblocktrans %}
26 |             {% else %}
27 |                 {% blocktrans with name=review.reviewer_name review_date=review.date_created %}
28 |                     Reviewed by <strong>{{ name }}</strong> on {{ review_date }}
29 |                 {% endblocktrans %}
30 |             {% endif %}
31 |             | <a href="{% url 'catalogue:reviews-detail' product_slug=product.slug product_pk=product.pk pk=review.pk %}">{% trans 'Permalink' %}</a>
32 |         </small>
33 |     </p>
34 | 
35 |     {% if review|may_vote:user %}
36 |         <small>{% trans "Is this review helpful?" %}</small>
37 |         <form action="{% url 'catalogue:reviews-vote' product_slug=product.slug product_pk=product.pk pk=review.pk %}" method="post" class="vote_agree" >
38 |             {% csrf_token %}
39 |             <input type="hidden" name="delta" value="1"/>
40 |             <button type="submit" class="btn btn-success btn-xs" data-loading-text="{% trans 'Submitting...' %}">{% trans "Yes" %}</button>
41 |         </form>
42 |         <form  action="{% url 'catalogue:reviews-vote' product_slug=product.slug product_pk=product.pk pk=review.pk %}" method="post">
43 |             {% csrf_token %}
44 |             <input type="hidden" name="delta" value="-1"/>
45 |             <button type="submit" class="btn btn-danger btn-xs" data-loading-text="{% trans 'Submitting...' %}">{% trans "No" %}</button>
46 |         </form>
47 |     {% endif %}
48 |              
49 |     <p>   
50 |         <small>
51 |         {% if review.has_votes %}
52 |             {% blocktrans with num_up_votes=review.num_up_votes count num_votes=review.total_votes %}
53 |             <strong>{{ num_up_votes }}</strong> of {{ num_votes }} customer found this useful
54 |             {% plural %}
55 |             <strong>{{ num_up_votes }}</strong> of {{ num_votes }} customers found this useful
56 |             {% endblocktrans %}
57 |         {% else %}
58 |             {% trans "This review has no votes." %}
59 |         {% endif %}
60 |         </small>
61 |     </p>
62 | </article>


# File: oscardropship/templates/oscar/catalogue/partials/stock_record.html

 1 | {% load currency_filters %}
 2 | {% load i18n %}
 3 | {% load purchase_info_tags %}
 4 | 
 5 | {% purchase_info_for_product request product as session %}
 6 | 
 7 | {% if session.price.exists %}
 8 |     {% if session.price.excl_tax == 0 %}
 9 |         <p class="price_color">{% trans "Free" %}</p>
10 |     {% elif session.price.is_tax_known %}
11 |         <p class="price_color">{{ session.price.incl_tax|currency:session.price.currency }}</p>
12 |     {% else %}
13 |         <p class="price_color">{{ session.price.excl_tax|currency:session.price.currency }}</p>
14 |     {% endif %}
15 | {% else %}
16 |     <p class="price_color">&nbsp;</p>
17 | {% endif %}
18 | <p class="{{ session.availability.code }} availability">
19 |     <i class="icon-{% if session.availability.is_available_to_buy %}ok{% else %}remove{% endif %}"></i>
20 |     {% if verbose %}
21 |         {{ session.availability.message }}
22 |     {% else %}
23 |         {{ session.availability.short_message }}
24 |     {% endif %}
25 | </p>


# File: oscardropship/templates/oscar/catalogue/reviews/partials/review_stars.html

 1 | {% load reviews_tags %}
 2 | {% load i18n %}
 3 | 
 4 | {% if product.rating != None %}
 5 |     <p class="star-rating {{ product.rating|as_stars }}">
 6 |         <i class="icon-star"></i>
 7 |         <i class="icon-star"></i>
 8 |         <i class="icon-star"></i>
 9 |         <i class="icon-star"></i>
10 |         <i class="icon-star"></i>
11 | 
12 |         <small><a href="{% url 'catalogue:reviews-list' product_slug=product.slug product_pk=product.id %}">
13 |                 {% blocktrans count product.num_approved_reviews as num_reviews %}
14 |                     {{ num_reviews }} customer review
15 |                 {% plural %}
16 |                     {{ num_reviews }} customer reviews
17 |                 {% endblocktrans %}
18 |         </a></small>
19 |         &nbsp;
20 | {% else %}
21 |     <p>
22 | {% endif %}
23 | 
24 | {% if product|is_review_permitted:user %}
25 |     <a id="write_review" href="{% url 'catalogue:reviews-add' product_slug=product.slug product_pk=product.id %}#addreview" class="btn btn-success btn-sm">
26 |         {% trans "Write a review" %}
27 |     </a>
28 | {% endif %}
29 | </p>


# File: oscardropship/templates/oscar/catalogue/reviews/review_detail.html

 1 | {% extends "oscar/layout.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {{ review.title }} | {% trans "Reviews" %} | {{ product.title }} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block breadcrumbs %}
 9 |     <ul class="breadcrumb">
10 |         <li>
11 |             <a href="{{ homepage_url }}">{% trans "Home" %}</a>
12 |         </li>
13 |         {% with category=product.categories.all.0 %}
14 |             {% for c in category.get_ancestors_and_self %}
15 |                 <li>
16 |                     <a href="{{ c.get_absolute_url }}">{{ c.name }}</a>
17 |                 </li>
18 |             {% endfor %}
19 |             <li>
20 |                 <a href="{{ product.get_absolute_url }}">{{ product.title }}</a>
21 |             </li>
22 |             <li>
23 |                 <a href="{% url 'catalogue:reviews-list' product_slug=product.slug product_pk=product.pk %}">{% trans "Reviews" %}</a>
24 |             </li>
25 |         {% endwith %}
26 |         <li class="active">{{ review.title }}</li>
27 |     </ul>
28 | {% endblock %}
29 | 
30 | {% block headertext %}
31 |     {% trans "Customer reviews" %}
32 | {% endblock  %}
33 | 
34 | {% block content %}
35 |     <section>
36 |         {% include 'oscar/catalogue/reviews/review_product.html' %}
37 |         {% include 'oscar/catalogue/partials/review.html' %}
38 |     </section>
39 | {% endblock %}


# File: oscardropship/templates/oscar/catalogue/reviews/review_form.html

 1 | {% extends "oscar/catalogue/detail.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block product_review %}
 5 |     <div id="addreview" class="review_add">
 6 |         <form id="add_review_form" method="post" action="#addreview">
 7 |             <fieldset>
 8 |                 <legend>{% trans "Leave a product review" %}</legend>
 9 |                 {% csrf_token %}
10 |                 
11 |                 {% include 'oscar/partials/form_field.html' with field=form.title %}
12 | 
13 |                 <div class="reviewrating form-group {% if form.score.errors %}error{% endif %}">
14 |                     <label for="{{ form.score.auto_id }}" class="control-label required">
15 |                         {{ form.score.label|safe }} <span>*</span>
16 |                     </label>
17 |                     <div class="controls">
18 |                         {{ form.score }}
19 |                         <div class="star-rating {% if form.score.value == '1' %}One{% elif form.score.value == '2' %}Two{% elif form.score.value == '3' %}Three{% elif form.score.value == '4' %}Four{% elif form.score.value == '5' %}Five{% endif %}">
20 |                             <i class="icon-star"></i>
21 |                             <i class="icon-star"></i>
22 |                             <i class="icon-star"></i>
23 |                             <i class="icon-star"></i>
24 |                             <i class="icon-star"></i>
25 |                         </div>
26 | 
27 |                         {% for error in form.score.errors %}
28 |                             <span class="error-block"><i class="icon-exclamation-sign"></i> {{ error }}</span>
29 |                         {% endfor %}
30 |                     </div>
31 | 
32 |                     {% comment %}
33 |                     {% include 'oscar/partials/form_field.html' with field=form.score %}
34 |                     {% endcomment %}
35 |                 </div>
36 | 
37 |                 {% include 'oscar/partials/form_field.html' with field=form.body %}
38 |                 {% if form.name %}
39 |                     {% include 'oscar/partials/form_field.html' with field=form.name %}
40 |                 {% endif %}
41 |                 {% if form.email %}
42 |                     {% include 'oscar/partials/form_field.html' with field=form.email %}
43 |                 {% endif %}
44 | 
45 | 
46 |                 <button type="submit" class="btn btn-primary btn-lg" data-loading-text="{% trans 'Saving...' %}">{% trans "Save review" %}</button>
47 |                 {% trans "or" %}
48 |                 <a href="{{ product.get_absolute_url }}">{% trans "cancel" %}</a>
49 |             </fieldset>
50 |         </form>
51 |     </div>
52 | {% endblock %}


# File: oscardropship/templates/oscar/catalogue/reviews/review_list.html

 1 | {% extends "oscar/layout.html" %}
 2 | 
 3 | {% load history_tags %}
 4 | {% load i18n %}
 5 | 
 6 | {% block title %}
 7 |     {% trans "All reviews" %} | {{ product.title }} | {{ block.super }}
 8 | {% endblock %}
 9 | 
10 | {% block breadcrumbs %}
11 |     <ul class="breadcrumb">
12 |         <li>
13 |             <a href="{{ homepage_url }}">{% trans "Home" %}</a>
14 |         </li>
15 |         {% with category=product.categories.all.0 %}
16 |             {% for c in category.get_ancestors_and_self %}
17 |                 <li>
18 |                     <a href="{{ c.get_absolute_url }}">{{ c.name }}</a>
19 |                 </li>
20 |             {% endfor %}
21 |             <li>
22 |                 <a href="{{ product.get_absolute_url }}">{{ product.title }}</a>
23 |             </li>
24 |         {% endwith %}
25 |         <li class="active">{% trans "All reviews" %}</li>
26 |     </ul>
27 | {% endblock %}
28 | 
29 | {% block headertext %}
30 |     {% trans "Customer reviews" %}
31 | {% endblock  %}
32 | 
33 | {% block content %}
34 | 
35 |     <section>        
36 |         {% include 'oscar/catalogue/reviews/review_product.html' %}
37 | 
38 |         {% if reviews %}
39 |             <form method="get" class="form-inline">
40 |                 {% include "oscar/partials/form_fields_inline.html" with form=form %}
41 |                 <input type="submit" class="btn btn-default" value="{% trans "Go" %}" />
42 |             </form>
43 | 
44 |             {% for review in reviews %}
45 |                 {% include 'oscar/catalogue/partials/review.html' %}
46 |             {% endfor %}
47 |             {% include 'oscar/partials/pagination.html' %}
48 | 
49 |         {% else %}
50 |             <p>{% trans "This product does not have any reviews yet." %}</p>
51 |         {% endif %}
52 | 
53 |     </section>
54 | {% endblock %}


# File: oscardropship/templates/oscar/catalogue/reviews/review_product.html

 1 | {% load image_tags %}
 2 | 
 3 | <div class="row">
 4 |     <div class="col-sm-2">
 5 |         <div class="image_container">
 6 |             {% with image=product.primary_image %}
 7 |                 {% oscar_thumbnail image.original "x155" upscale=False as thumb %}
 8 |                 <a href="{{ product.get_absolute_url }}">
 9 |                     <img src="{{ thumb.url }}" alt="{{ product.get_title }}" class="thumbnail">
10 |                 </a>
11 |             {% endwith %}
12 |         </div>
13 |     </div>
14 |     <div class="col-sm-10">
15 |         <h2><a href="{{ product.get_absolute_url }}">{{ product.get_title }}</a></h2>
16 |         {% include "oscar/catalogue/partials/stock_record.html" %}
17 |         {% include "oscar/catalogue/reviews/partials/review_stars.html" %}
18 |     </div>
19 | </div>
20 | 
21 | <hr>


# File: oscardropship/templates/oscar/catalogue/browse.html

 1 | {% extends "uikit/layout.html" %}
 2 | 
 3 | {% load basket_tags %}
 4 | {% load category_tags %}
 5 | {% load product_tags %}
 6 | {% load i18n %}
 7 | {% load static %}
 8 | {% load easy_thumbnails_tags %}
 9 | 
10 | {% block title %}
11 |     {% if summary %}{{ summary }} |{% endif %} {{ block.super }}
12 | {% endblock %}
13 | 
14 | {% block breadcrumbs %}
15 |     <nav class="uk-child-width-expand uk-padding-large uk-padding-remove-vertical" uk-grid>
16 |         <div>
17 |             <ul class="uk-breadcrumb">
18 |                 <li><a href="{% url 'home' %}">{% trans "Home" %}</a></li>
19 |                 <li><a href="#">{{ summary }}</a></li>
20 |             </ul>
21 |         </div>
22 |     </nav>
23 | {% endblock breadcrumbs %}
24 | 
25 | {% block content_wrapper %}
26 | 
27 |     <!-- Collections -->
28 |     <div class="uk-child-width-expand@s" uk-grid>
29 |         {% category_tree as tree_categories %}
30 |         {% if tree_categories %}
31 |             {% for tree_category in tree_categories %}
32 |                 <div class="uk-width-1-2@m">
33 |                     <div class="uk-height-large uk-flex uk-flex-center uk-flex-middle uk-background-cover uk-light" data-src="{% if tree_category.image %}{% thumbnail tree_category.image 580x450 %}{% else %}#!{% endif %}" uk-img>
34 |                       <h2><a class="uk-button uk-button-secondary" href="{{ tree_category.url }}">{{ tree_category.name }}</a></h2>
35 |                     </div>
36 |                 </div>
37 |             {% endfor %}
38 |         {% endif %}
39 |     </div>   
40 | {% endblock content_wrapper %}


# File: oscardropship/templates/oscar/catalogue/category.html

  1 | {% extends "uikit/layout_2_col.html" %}
  2 | 
  3 | {% load i18n %}
  4 | {% load easy_thumbnails_tags %}
  5 | 
  6 | {% block title %}
  7 |     {{ category.name }} | {{ block.super }}
  8 | {% endblock %}
  9 | 
 10 | {% block breadcrumbs %}
 11 |     <nav class="uk-child-width-expand uk-padding-large uk-padding-remove-vertical" uk-grid>
 12 |         <div>
 13 |             <ul class="uk-breadcrumb">
 14 |                 <li><a href="{% url 'home' %}">{% trans "Home" %}</a></li>
 15 |                 {% for category in category.get_ancestors %}
 16 |                     <li>
 17 |                         <a href="{{ category.get_absolute_url }}">{{ category.name }}</a>
 18 |                     </li>
 19 |                 {% endfor %}
 20 |                 <li class="active"><a href="#">{{ category.name }}</a></li>
 21 |             </ul>
 22 |         </div>
 23 |     </nav>
 24 | {% endblock breadcrumbs %}
 25 | 
 26 | {% block side_nav %}
 27 |     <nav>
 28 |         <!-- Collections -->
 29 |         <ul class="uk-nav uk-nav-default">
 30 |             <li class="uk-nav-header uk-active"><a href="#">Collections</a></li>
 31 |             <li class="uk-nav-divider"></li>
 32 |             <li><a href="#">Item</a></li>
 33 |             <li><a href="#">Item</a></li>
 34 |         </ul>
 35 | 
 36 |         <!-- Product Type -->
 37 |         <ul class="uk-nav uk-nav-default">
 38 |             <li class="uk-nav-header uk-active"><a href="#">Product Type</a></li>
 39 |             <li class="uk-nav-divider"></li>
 40 |             <li><a href="#">Dress</a></li>
 41 |             <li><a href="#">Jeans</a></li>
 42 |             <li><a href="#">Polo</a></li>
 43 |             <li><a href="#">Shirt</a></li>
 44 |         </ul>
 45 | 
 46 |         <!-- Color -->
 47 |         <ul class="uk-nav uk-nav-default">
 48 |             <li class="uk-nav-header uk-active"><a href="#">Color</a></li>
 49 |             <li class="uk-nav-divider"></li>
 50 |             <li><a href="#">Blue</a></li>
 51 |             <li><a href="#">Green</a></li>
 52 |         </ul>
 53 | 
 54 |         <!-- Size -->
 55 |         <ul class="uk-nav uk-nav-default">
 56 |             <li class="uk-nav-header uk-active"><a href="#">Size</a></li>
 57 |             <li class="uk-nav-divider"></li>
 58 |             <li><a href="#">S</a></li>
 59 |             <li><a href="#">M</a></li>
 60 |             <li><a href="#">L</a></li>
 61 |         </ul>
 62 |         
 63 |         <!-- Price -->
 64 |         <ul class="uk-nav uk-nav-default">
 65 |             <li class="uk-nav-header uk-active"><a href="#">Price</a></li>
 66 |             <li class="uk-nav-divider"></li>
 67 |             <li><a href="#">$10 - $100</a></li>
 68 |             <li><a href="#">$300 - $400</a></li>
 69 |             <li><a href="#">$500 - 600</a></li>
 70 |         </ul>
 71 |         
 72 |         <!-- Vendor -->
 73 |         <ul class="uk-nav uk-nav-default">
 74 |             <li class="uk-nav-header uk-active"><a href="#">Vendor</a></li>
 75 |             <li class="uk-nav-divider"></li>
 76 |             <li><a href="#">Gap</a></li>
 77 |             <li><a href="#">Gues</a></li>
 78 |         </ul>
 79 |         
 80 |         <!-- Tags -->
 81 |         <ul class="uk-nav uk-nav-default">
 82 |             <li class="uk-nav-header uk-active"><a href="#">Tags</a></li>
 83 |             <li class="uk-nav-divider"></li>
 84 |             <li><a href="#">Vintage</a></li>
 85 |             <li><a href="#">Beachwear</a></li>
 86 |         </ul>
 87 |         
 88 |     </nav>    
 89 | {% endblock side_nav %}
 90 | 
 91 | {% block content %}
 92 |     <div uk-grid>
 93 |         <!-- Navigation -->
 94 |         <div class="uk-width-1-1 uk-padding-remove-horizontal">
 95 |             <div uk-grid>
 96 |                 <!-- Collection Name -->
 97 |                 <div class="uk-width-3-4@m">
 98 |                     <h1 class="uk-padding uk-padding-remove-vertical">{{ category.name }}</h1>
 99 |                 </div>
100 | 
101 |                 <!-- Sort by -->
102 |                 <div
103 |                     x-data="{
104 |                         label: 'Featured',
105 |                         items: [
106 |                             'Featured',
107 |                             'Name Ascending',
108 |                             'Name Descending',
109 |                             'Price Ascending',
110 |                             'Price Desscending',
111 |                             'Best Selling',
112 |                         ],
113 |                         ukOpen: false
114 |                     }"
115 |                     class="uk-width-expand"
116 |                 >
117 |                     <button class="uk-button uk-button-default" type="button" x-text="label"></button>
118 |                     <div uk-dropdown x-ref="sortByDropdown">
119 |                         <ul class="uk-nav uk-dropdown-nav">
120 |                             <template x-for="(item, index ) in items" :key="`${item}-${index}`">
121 |                                 <li><a href="#" x-text="item" @click="label = item; UIkit.dropdown($refs.sortByDropdown).hide(false)"></a></li>
122 |                             </template>
123 |                         </ul>
124 |                     </div>
125 |                 </div>
126 |             </div>
127 |         </div>
128 | 
129 |         <!-- Products -->
130 |         <div class="uk-child-width-1-1 uk-padding-remove-horizontal">
131 |             {% if products %}
132 |                 {% for product in products %}
133 |                     <div class="uk-card uk-card-default uk-margin-remove-left" uk-grid>
134 |                         <div class="uk-card-media-left uk-cover-container uk-width-1-4@m">
135 |                             {% with image=product.primary_image %}
136 |                                 <img src="{% thumbnail image.original 600x400 %}" alt="{{ product.get_title }}" uk-cover>
137 |                             {% endwith %}
138 |                             <canvas width="600" height="400"></canvas>
139 |                         </div>
140 |                         <div class="uk-width-3-4@m">
141 |                             <div class="uk-card-body uk-margin-remove" uk-grid>
142 |                                 <div class="uk-width-2-3@m">
143 |                                     <p>
144 |                                         {% with product.categories.first as category %}
145 |                                             <span class="uk-text-meta uk-align-left">{{ category.name }}</span>
146 |                                             <span class="uk-align-right uk-visible@m">
147 |                                                 <a href="" uk-icon="star"></a>
148 |                                                 <a href="" uk-icon="star"></a>
149 |                                                 <a href="" uk-icon="star"></a>
150 |                                                 <a href="" uk-icon="star"></a>
151 |                                                 <a href="" uk-icon="star"></a>
152 |                                             </span>
153 |                                         {% endwith %}
154 |                                     </p>
155 |                                     <h3 class="uk-card-title"><a href="{{ product.get_absolute_url }}">{{ product.title }}</a></h3>
156 |                                 </div>
157 |                                 <div class="uk-width-1-3@m">
158 |                                     {% include "uikit/catalogue/partials/stock_record.html" with verbose=True %}
159 |                                     <p>
160 |                                         <span uk-icon="icon: info"></span>
161 |                                         <span uk-icon="icon: search"></span>
162 |                                     </p>
163 |                                 </div>
164 |                             </div>
165 |                         </div>
166 |                     </div>
167 |                 {% endfor %}
168 |             {% else %}
169 |                 
170 |             {% endif %}
171 |         </div>
172 |             <!-- Product -->
173 |                 <!-- 1 Image -->
174 |                 <!-- Collection Name -->
175 |                 <!-- Name -->
176 |                 <!-- Rating -->
177 |                 <!-- Price -->
178 |                 <!-- Quick View -->
179 |                 <!-- Add to Compare -->
180 |                 <!-- Description (1 col only) -->
181 | 
182 |         <!-- "Show More/No More Producs" Button -->
183 |         <div>
184 |             
185 |         </div>
186 |     </div>
187 | {% endblock %}


# File: oscardropship/templates/oscar/catalogue/detail.html

  1 | {% extends "uikit/layout.html" %}
  2 | 
  3 | {% load history_tags %}
  4 | {% load currency_filters %}
  5 | {% load reviews_tags %}
  6 | {% load product_tags %}
  7 | {% load display_tags %}
  8 | {% load i18n %}
  9 | {% load purchase_info_tags %}
 10 | {% load static %}
 11 | {% load easy_thumbnails_tags %}
 12 | 
 13 | {% block title %}
 14 |     {{ product.get_title }} | {{ block.super }}
 15 | {% endblock %}
 16 | 
 17 | {% block description %}
 18 |     {{ product.description|default:""|striptags }}
 19 | {% endblock %}
 20 | 
 21 | {% block breadcrumbs %}
 22 |     <nav class="uk-child-width-expand uk-padding-large uk-padding-remove-vertical" uk-grid>
 23 |         <div>
 24 |             <ul class="uk-breadcrumb">
 25 |                 <li><a href="{% url 'home' %}">{% trans "Home" %}</a></li>
 26 |                 {% with category=product.get_categories.first %}
 27 |                     {% for c in category.get_ancestors_and_self %}
 28 |                         <li>
 29 |                             <a href="{{ c.get_absolute_url }}">{{ c.name }}</a>
 30 |                         </li>
 31 |                     {% endfor %}
 32 |                     <li>{{ product.get_title|truncatechars:20 }}</li>
 33 |                 {% endwith %}
 34 |             </ul>
 35 |         </div>
 36 |     </nav>
 37 | {% endblock %}
 38 | 
 39 | {% block content_wrapper %}
 40 |     <section class="uk-child-width-1-2@m" uk-grid>
 41 |         {# Product Images #}
 42 |         {% with all_images=product.get_all_images %}
 43 |             <div>
 44 |                 <div
 45 |                     x-data="slideshow()"
 46 |                     @variant-selected.window="changeImage($event.detail)"
 47 |                     style="z-index: 980"
 48 |                     uk-sticky="bottom: #additonalInformation; top: 100"
 49 |                     class="uk-flex uk-flex-center"
 50 |                     uk-grid>
 51 |                     {# thumbnav #}
 52 |                     <div class="uk-width-1-6@s uk-visible@l">
 53 |                         <ul class="uk-thumbnav uk-thumbnav-vertical" uk-margin>
 54 |                             {% for image in all_images %}
 55 |                                 {% with counter=forloop.counter|add:'-1' %}
 56 |                                     <li :class="{ 'uk-active': index == {{ counter }} }"><a @mouseenter="changeImage('{{ image.original.url }}'); changeIndex({{ counter }})"><img data-src="{% thumbnail image.original 100x124 %}" width="50" alt="" uk-img></a></li>
 57 |                                 {% endwith %}
 58 |                             {% endfor %}
 59 |                         </ul>
 60 |                     </div>
 61 | 
 62 |                     {# image display #}
 63 |                     <div class="uk-width-expand" id="zoomImages">
 64 |                         <div>
 65 |                             <img x-ref="productImage" data-src="{{ product.primary_image.original.url }}" width="" height="" alt="" uk-img>
 66 |                         </div>
 67 |                     </div>
 68 |                 </div>
 69 |             </div>
 70 |         {% endwith %}
 71 | 
 72 |         {# Details #}
 73 |         <div x-data="buyForm()">
 74 |             {% purchase_info_for_product request product as session %}
 75 | 
 76 |             <p class="{{ session.availability.code }} availability">
 77 |                 Availability: 
 78 |                 <i uk-icon="icon: {% if session.availability.is_available_to_buy %}check{% else %}close{% endif %}"></i>
 79 |                 {{ session.availability.message }}
 80 |             </p>
 81 |             <h1>{{ product.get_title }}</h1>
 82 | 
 83 | 
 84 |             {% if session.price.exists %}
 85 |                 {% if session.price.excl_tax == 0 %}
 86 |                     <p class="price_color">{% trans "Free" %}</p>
 87 |                 {% elif session.price.is_tax_known %}
 88 |                     <p class="price_color">{{ session.price.incl_tax|currency:session.price.currency }}</p>
 89 |                 {% else %}
 90 |                     <p class="price_color">{{ session.price.excl_tax|currency:session.price.currency }}</p>
 91 |                 {% endif %}
 92 |             {% else %}
 93 |                 <p class="price_color">&nbsp;</p>
 94 |             {% endif %}
 95 | 
 96 |             {% iffeature "reviews" %}
 97 |                 {% include "uikit/catalogue/reviews/partials/review_stars.html" %}
 98 |             {% endiffeature %}
 99 | 
100 |             {# Variants #}
101 |             <div class="uk-child-width-1-1 uk-flex uk-flex-between" uk-grid>
102 |                 <div>
103 |                     <h2>{% trans 'Variants:' %}</h2>
104 |                 </div>
105 |                 <div>
106 |                     {% block variants %}
107 |                         {% for child in product.children.public %}
108 |                             {% with counter=forloop.counter|add:'-1' %}
109 |                                 {% purchase_info_for_product request child as child_session %}
110 |                                 {% if child_session.availability.is_available_to_buy %}
111 |                                     <a
112 |                                         @click="variantSelected($event, '{% url 'basket:add' pk=child.pk  %}', $dispatch, {{ counter }})"
113 |                                         :class="{'uk-text-muted': currentVariant != {{ counter }} }"
114 |                                         href="#!" data-image-src="{{ child.primary_image.original.url }}">{{ child.get_title }}</a><br>
115 |                                 {% endif %}
116 |                             {% endwith %}
117 |                         {% endfor %}
118 |                     {% endblock %}
119 |                 </div>
120 |             </div>
121 | 
122 |             <div class="uk-child-width-auto uk-flex uk-flex-between" uk-grid>
123 |                 <div>
124 |                     <span>
125 |                         <i uk-icon="icon: heart"></i>
126 |                         Shipping
127 |                     </span>
128 |                 </div>
129 |                 <div>
130 |                     <span>
131 |                         <i uk-icon="icon: mail"></i>
132 |                         Ask about this product
133 |                     </span>
134 |                 </div>
135 |             </div>
136 | 
137 |             {# quantity and buy now #}
138 | 
139 |             <div class="uk-flex uk-flex-between" uk-grid>
140 |                 <div class="uk-width-1-1">
141 |                     <div class="uk-form-controls uk-form-controls-text">
142 |                         <label><input x-model="isAgree" class="uk-checkbox" type="checkbox" name="is_agree"> I agree with the terms and conditions</label><br>
143 |                     </div>
144 |                 </div>
145 |                 <div class="uk-width-1-3@m">
146 |                     <div class="uk-inline">
147 |                         <a @click="updateQuantity(-1)" class="uk-form-icon" href="#!" uk-icon="icon: minus"></a>
148 |                         <a @click="updateQuantity(1)" class="uk-form-icon uk-form-icon-flip" href="#!" uk-icon="icon: plus"></a>
149 |                         <input
150 |                             x-model.number="quantity"
151 |                             class="uk-input uk-width-1-1 uk-text-center"
152 |                             type="number">
153 |                     </div>
154 |                 </div>
155 |                 <div class="uk-width-expand">
156 |                     <form
157 |                          x-bind:action="productURL"
158 |                         id="add_to_basket_form"
159 |                         method="post"
160 |                         class="add-to-basket">
161 |                         {% csrf_token %}
162 |                         <input type="hidden" name="next" value="{% url 'checkout:index' %}">
163 |                         <input type="hidden" name="quantity" x-model.number="quantity">
164 |                         <button class="uk-button uk-button-primary uk-width-1-1" type="submit" form="add_to_basket_form">BUY NOW</button>
165 |                     </form>
166 |                 </div>
167 |             </div>
168 | 
169 |             {# description #}
170 |             <div class="uk-width-expand" uk-grid>
171 |                 <div>
172 |                     {{ product.description|safe }}
173 |                 </div>
174 |             </div>
175 | 
176 |             {# additonal information #}
177 |             <hr>
178 |             <div class="uk-child-width-expand" uk-grid id="additonalInformation">
179 |                 <div>
180 |                     <h2>ADDITIONAL INFORMATION</h2>
181 |                     <table class="uk-table">
182 |                         <tbody>
183 |                             {% for av in product.attribute_values.all %}
184 |                                 <tr>
185 |                                     <th class="uk-table-shrink">{{ av.attribute.name }}:</th>
186 |                                     <td class="uk-table-expand">{{ av.value_as_html }}</td>
187 |                                 </tr>
188 |                             {% endfor %}
189 |                         </tbody>
190 |                     </table>
191 |                 </div>
192 |             </div>
193 | 
194 |             {# reviews #}
195 |             <hr>
196 |             <div class="uk-child-width-expand" uk-grid>
197 |                 <div>
198 |                     <p><strong>REVIEWS</strong></p>
199 |                     <h2>CUSTOMER REVIEWS</h2>
200 | 
201 |                     {% iffeature "reviews" %}
202 |                         <tr>
203 |                             <th>{% include "uikit/catalogue/reviews/partials/review_stars.html" %}</th>
204 |                             <td>{% trans "Based on " %} {{ product.num_approved_reviews }} {% trans "reviews" %}</td>
205 |                         </tr>
206 |                     {% endiffeature %}
207 |                 </div>
208 |             </div>
209 |         </div>
210 |     </section>
211 | 
212 |     <div class="uk-flex-center" uk-grid id="socialMediaLinks">
213 |         <div>
214 |             <a class="uk-text-default" href="#!"><span uk-icon="icon: facebook"></span></a>
215 |             <a class="uk-text-default" href="#!"><span uk-icon="icon: instagram"></span></a>
216 |             <a class="uk-text-default" href="#!"><span uk-icon="icon: pinterest"></span></a>
217 |         </div>
218 |     </div>
219 | 
220 | 
221 |     {% with recommended_products=product.sorted_recommended_products|slice:":6" %}
222 |         {% if recommended_products %}
223 |             <section class="uk-flex-center" uk-grid>
224 |                 <div>
225 |                     <h2>{% trans "Related products" %}</h2>
226 |                     <div uk-slider="center: true">
227 | 
228 |                         <div class="uk-position-relative uk-visible-toggle uk-light" tabindex="-1">
229 | 
230 |                             <ul class="uk-slider-items uk-child-width-1-4@s uk-grid-small">
231 |                                 {% for product in recommended_products %}
232 |                                     <li>
233 |                                         <div class="uk-card uk-card-default">
234 |                                             <div class="uk-card-media-top">
235 |                                                 {% with product.primary_image as image %}
236 |                                                 <a href="{{ product.get_absolute_url }}"><img data-src="{{ image.original.url }}" alt="{{ product.primary_image.caption }}" uk-img="width: 265; height:329"></a>
237 |                                                 {% endwith %}
238 |                                             </div>
239 |                                             <div class="uk-card-body uk-padding-small uk-padding-remove-vertical">
240 |                                                 <h3 class="uk-card-title"><a style="color: black !important;" href="{{ product.get_absolute_url }}"><small>{{ product.get_title }}</small></a></h3>
241 |                                                 {% purchase_info_for_product request product as session %}
242 |                                                 {% if session.price.exists %}
243 |                                                     {% if session.price.excl_tax == 0 %}
244 |                                                         <p class="price_color">{% trans "Free" %}</p>
245 |                                                     {% elif session.price.is_tax_known %}
246 |                                                         <p class="price_color">{{ session.price.incl_tax|currency:session.price.currency }}</p>
247 |                                                     {% else %}
248 |                                                         <p class="price_color">{{ session.price.excl_tax|currency:session.price.currency }}</p>
249 |                                                     {% endif %}
250 |                                                 {% else %}
251 |                                                     <p class="price_color">&nbsp;</p>
252 |                                                 {% endif %}
253 |                                             </div>
254 |                                         </div>
255 |                                     </li>
256 |                                 {% endfor %}
257 |                             </ul>
258 | 
259 |                             <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous uk-slider-item="previous"></a>
260 |                             <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" uk-slidenav-next uk-slider-item="next"></a>
261 | 
262 |                         </div>
263 | 
264 |                         <ul class="uk-slider-nav uk-dotnav uk-flex-center uk-margin"></ul>
265 | 
266 |                     </div>
267 |                 </div>
268 |             </section>
269 |         {% endif %}
270 |     {% endwith %}
271 | {% endblock content_wrapper %}
272 | 
273 | {% block extrascripts %}
274 |     <script>
275 |         function slideshow() {
276 |             return {
277 |                 index: 0,
278 |                 changeIndex(index) {
279 |                     this.index = index;
280 |                     // UIkit.slideshow(this.$refs.itemSlideshow).show(this.index);
281 |                 },
282 |                 changeImage(url) {
283 |                     this.$refs.productImage.setAttribute('data-src', url)
284 |                 },
285 |             }
286 |         }
287 | 
288 |         function buyForm() {
289 |             return {
290 |                 quantity: 1,
291 |                 productURL: '',
292 |                 isAgree: false,
293 |                 currentVariant: -1,
294 |                 updateQuantity(num) {
295 |                     this.quantity += num;
296 |                 },
297 |                 variantSelected(e, url, dispatch, counter) {
298 |                     this.productURL = url;
299 | 
300 |                     let imageURL = e.target.getAttribute('data-image-src');
301 |                     dispatch('variant-selected', imageURL);
302 | 
303 |                     this.currentVariant = counter;
304 |                 }
305 |             }
306 |         }
307 |     </script>
308 |     {{ block.super }}
309 | {% endblock %}
310 | 
311 | {% block styles %}
312 |     {{ block.super }}    
313 |     <style>
314 |         /* Chrome, Safari, Edge, Opera */
315 |         input::-webkit-outer-spin-button,
316 |         input::-webkit-inner-spin-button {
317 |           -webkit-appearance: none;
318 |           margin: 0;
319 |         }
320 | 
321 |         /* Firefox */
322 |         input[type=number] {
323 |           -moz-appearance: textfield;
324 |         }
325 |     </style>
326 | {% endblock styles %}


# File: oscardropship/templates/oscar/checkout/checkout.html

  1 | {% extends "oscar/checkout/layout.html" %}
  2 | {% load currency_filters %}
  3 | {% load i18n %}
  4 | {% load image_tags %}
  5 | {% load purchase_info_tags %}
  6 | 
  7 | {% block title %}
  8 |     {% trans "Checkout" %} | {{ block.super }}
  9 | {% endblock %}
 10 | 
 11 | {% block checkout_nav %}
 12 |     {% include 'oscar/checkout/nav.html' %}
 13 | {% endblock %}
 14 | 
 15 | {% block content %}
 16 | 
 17 |     {% if error %}
 18 |         <div class="alert alert-danger">
 19 |             {{ error }}
 20 |         </div>
 21 |     {% endif %}
 22 | 
 23 |     <div class="row shipping-payment">
 24 |         {% block shipping_address %}
 25 |             <div class="col-sm-6">
 26 |                 <div class="sub-header">
 27 |                     <h2>{% trans "Shipping" %}</h2>
 28 |                 </div>
 29 |                 {% if shipping_address %}
 30 |                     <div class="well well-info">
 31 |                         {% block shipping_address_actions %}
 32 |                             <a href="{% url 'checkout:shipping-address' %}" class="pull-right">
 33 |                                 {% trans "Change" %}
 34 |                             </a>
 35 |                         {% endblock %}
 36 |                         <h3>{% trans "Address" %}</h3>
 37 |                         <address>
 38 |                             {% for field in shipping_address.active_address_fields %}
 39 |                                 {{ field }}<br/>
 40 |                             {% endfor %}
 41 |                         </address>
 42 | 
 43 |                         {% if shipping_address.phone_number %}
 44 |                             <h4>{% trans "Contact" %}</h4>
 45 |                             <p>
 46 |                                 {% trans "Phone" %}: {{ shipping_address.phone_number }}
 47 |                                 {% if guest_email %}
 48 |                                     <br/>{% trans "Email" %}: {{ guest_email }}
 49 |                                 {% endif %}
 50 |                             </p>
 51 |                         {% endif %}
 52 | 
 53 |                         {% if shipping_address.notes %}
 54 |                             <h4>{% trans "Instructions" %}</h4>
 55 |                             <p>{{ shipping_address.notes|linebreaks }}</p>
 56 |                         {% endif %}
 57 |                     </div>
 58 |                 {% endif %}
 59 | 
 60 |                 {% if shipping_method %}
 61 |                     <div class="well well-info">
 62 |                         {% block shipping_method_actions %}
 63 |                             <a href="{% url 'checkout:shipping-method' %}" class="pull-right">
 64 |                                 {% trans "Change" %}
 65 |                             </a>
 66 |                         {% endblock %}
 67 |                         <h3>{% trans "Shipping method" %}</h3>
 68 |                         <p>{{ shipping_method.name }}
 69 |                             {% if shipping_method.description %}
 70 |                                 - {{ shipping_method.description|safe }}
 71 |                             {% endif %}
 72 |                         </p>
 73 | 
 74 |                     </div>
 75 |                 {% endif %}
 76 |             </div>
 77 |         {% endblock shipping_address %}
 78 | 
 79 |         {# You will almost certainly want to override this block to provide a payment summary #}
 80 |         {% block payment_method %}
 81 |             <div class="col-sm-6">
 82 |                 <div class="sub-header">
 83 |                     <h2>{% trans "Payment" %}</h2>
 84 |                 </div>
 85 |                 <div class="well well-success">
 86 |                     <a href="{% url 'checkout:payment-details' %}" class="pull-right">
 87 |                         {% trans "Change" %}
 88 |                     </a>
 89 |                     <h3>{% trans "Payment" %}</h3>
 90 |                     <p>{% trans "Payment details to go here" %}</p>
 91 |                 </div>
 92 |             </div>
 93 |         {% endblock payment_method %}
 94 |     </div>
 95 | 
 96 |     {% block order_contents %}
 97 |         <div class="sub-header">
 98 |             {% block order_contents_actions %}
 99 |                 <a href="{% url 'basket:summary' %}" class="pull-right">
100 |                     {% trans "Edit order contents" %}
101 |                 </a>
102 |             {% endblock %}
103 | 
104 |             <h2>{% trans "Order contents" %}</h2>
105 |         </div>
106 |         <div class="basket-title">
107 |             <div class="row">
108 |                 <p class="col-sm-9 h4">{% trans "Item" %}</p>
109 |                 <p class="col-sm-1 h4 align-center">{% trans "Quantity" %}</p>
110 |                 <p class="col-sm-2 h4 align-right">{% trans "Total" %}</p>
111 |             </div>
112 |         </div>
113 |         {% for line in basket.all_lines %}
114 |             {% purchase_info_for_line request line as session %}
115 |             <div class="basket-items">
116 |                 <div class="row">
117 |                     <div class="col-sm-2">
118 |                         <div class="image_container">
119 |                             {% with image=line.product.primary_image %}
120 |                                 {% oscar_thumbnail image.original "100x100" upscale=False as thumb %}
121 |                                 <a href="{{ form.instance.product.get_absolute_url }}">
122 |                                     <img class="thumbnail" src="{{ thumb.url }}" alt="{{ product.get_title }}">
123 |                                 </a>
124 |                             {% endwith %}
125 |                         </div>
126 |                     </div>
127 |                     <div class="col-sm-7">
128 |                         <h3><a href="{{ line.product.get_absolute_url }}">{{ line.description }}</a></h3>
129 |                         <span class="availability {{ session.availability.code }}">{{ session.availability.message }}</span>
130 |                     </div>
131 |                     <div class="col-sm-1 align-center">
132 |                         {{ line.quantity }}
133 |                     </div>
134 |                     <div class="col-sm-2 align-right">
135 |                         <p class="price_color">
136 |                             {% if not show_tax_separately and line.is_tax_known %}
137 |                                 {{ line.line_price_incl_tax|currency:basket.currency }}
138 |                             {% else %}
139 |                                 {{ line.line_price_excl_tax|currency:basket.currency }}
140 |                             {% endif %}
141 |                         </p>
142 |                     </div>
143 |                 </div>
144 |             </div>
145 |         {% endfor %}
146 | 
147 |         <div class="row">
148 |             <div class="col-sm-6">&nbsp;</div>
149 |             <div class="col-sm-6">
150 |                 <div class="sub-header">
151 |                     <h2>{% trans 'Totals' %}</h2>
152 |                 </div>
153 |                 {% include 'oscar/basket/partials/basket_totals.html' %}
154 |             </div>
155 |         </div>
156 | 
157 |     {% endblock order_contents %}
158 | 
159 |     {% block shipping_method %}
160 |     {% endblock shipping_method %}
161 | 
162 |     {% block payment_details %}
163 |     {% endblock payment_details %}
164 | 
165 |     {% block place_order %}
166 |     {% endblock place_order %}
167 | 
168 | {% endblock content %}


# File: oscardropship/templates/oscar/checkout/gateway.html

 1 | {% extends "oscar/checkout/layout.html" %}
 2 | 
 3 | {% load i18n %}
 4 | {% load widget_tweaks %}
 5 | 
 6 | {% block title %}
 7 |     {% trans "Checkout gateway" %} | {{ block.super }}
 8 | {% endblock %}
 9 | 
10 | {% block checkout_nav %}
11 |     {% include 'oscar/checkout/nav.html' with step=0 %}
12 | {% endblock %}
13 | 
14 | {% block checkout_title %}{% trans "Who are you?" %}{% endblock %}
15 | 
16 | {% block content %}
17 | 
18 |     <form method="post" class="form-stacked well">
19 |         {% csrf_token %}
20 |         {{ form.non_field_errors }}
21 | 
22 |         {% include "oscar/partials/form_field.html" with field=form.username %}
23 | 
24 |         <div class="form-group">
25 |             <div class="controls">
26 |                 <div class="radio">
27 |                     {{ form.options.0 }}
28 |                 </div>
29 |             </div>
30 |         </div>
31 | 
32 |         <div class="form-group {% if form.password.errors %}error{% endif %}">
33 |             {{ form.options.errors }}
34 |             <div class="controls">
35 |                 <div class="radio">
36 |                     {{ form.options.2 }}
37 |                     <div class="form-inline">
38 |                         {% render_field form.password class+="form-control" %}
39 |                         <small><a href="{% url 'password-reset' %}" tabindex="-1">{% trans "Get a password reminder" %}</a></small>
40 |                         {% for error in form.password.errors %}
41 |                             <span class="error-block">{{ error }}</span>
42 |                         {% endfor %}
43 |                     </div>
44 |                 </div>
45 |             </div>
46 |         </div>
47 | 
48 |         <div class="form-group">
49 |             <div class="controls">
50 |                 <div class="radio">
51 |                     {{ form.options.1 }}
52 |                 </div>
53 |             </div>
54 |         </div>
55 | 
56 |         <div class="form-group">
57 |             <div class="row">
58 |                 <div class="col-sm-3">
59 |                     <button type="submit" class="btn btn-lg btn-block btn-primary" data-loading-text="{% trans 'Continuing...' %}">{% trans "Continue" %}</button>
60 |                 </div>
61 |             </div>
62 |         </div>
63 |     </form>
64 | 
65 | {% endblock content %}
66 | 
67 | {% block onbodyload %}
68 |     {{ block.super }}
69 |     oscar.checkout.gateway.init();
70 | {% endblock %}


# File: oscardropship/templates/oscar/checkout/layout.html

 1 | {% extends "oscar/layout.html" %}
 2 | {% load i18n %}
 3 | {% load category_tags %}
 4 | 
 5 | {% block layout %}
 6 | 
 7 |     <header class="header container-fluid">
 8 |         <div class="page_inner">
 9 |             <div class="row">
10 |                 {% include "oscar/partials/brand.html" %}
11 |             </div><!-- /row -->
12 |         </div>
13 |         {% block checkout_nav %}{% endblock %}
14 |     </header><!-- /header -->
15 | 
16 |     <div class="container-fluid page">
17 |        <div class="page_inner">
18 |             {% include 'oscar/partials/alert_messages.html' %}
19 | 
20 |             <div class="sub-header">
21 |                 <h1>{% block checkout_title %}{% endblock %}</h1>
22 |             </div>
23 | 
24 |             <!-- The main nav on checkout pages contain links to modal flatpages -->
25 |             {% block modal %}
26 |                 {% load flatpages %}
27 |                 {% get_flatpages '/order/' as flatpages %}
28 |                 {% for page in flatpages %}
29 |                 <div id="{{ page.title|slugify }}" class="modal hide fade">
30 |                     <div class="modal-header">
31 |                         <a class="close" data-dismiss="modal">×</a>
32 |                         <h3>{{ page.title }}</h3>
33 |                     </div>
34 |                     <div class="modal-body">
35 |                         <div class="large-content">
36 |                             {{ page.content|safe }}
37 |                         </div>
38 |                     </div>
39 |                 </div>
40 |                 {% endfor %}
41 |             {% endblock %}
42 | 
43 |             {% block content %}{% endblock %}
44 | 
45 |         </div><!-- /page_inner -->
46 |     </div>
47 |     {% include "oscar/partials/footer_checkout.html" %}
48 | {% endblock %}


# File: oscardropship/templates/oscar/checkout/nav.html

 1 | {% load i18n %}
 2 | 
 3 | <div class="navbar navbar-static-top navbar-inverse nav-checkout">
 4 |     <ul class="nav navbar-nav">
 5 |         {% spaceless %}
 6 |             <li class="step1 {% if step == 1 %}active{% else %}{% if step == 2 %}previous{% else %}{% if step > 1 %}visited{% else %}disabled{% endif %}{% endif %}{% endif %} ">
 7 |                 {% if step == 2 or step == 3 or step == 4 %}
 8 |                     <a href="{% url 'checkout:shipping-address' %}">
 9 |                         <span class="visible-inline-sm icon-chevron-right"></span>
10 |                         <span>
11 |                             {% trans "1. Shipping address" %}
12 |                         </span>
13 |                     </a>
14 |                 {% else %}
15 |                     <span class="navbar-text">
16 |                         {%  trans "1. Shipping address" %}
17 |                     </span>
18 |                 {% endif %}
19 |             </li>
20 | 
21 |             <li class="step2 {% if step == 2 %}active{% else %}{% if step == 3 %}previous{% else %}{% if step > 2 %}visited{% else %}disabled{% endif %}{% endif %}{% endif %} ">
22 |                 {% if step == 3 or step == 4 %}
23 |                     <a href="{% url 'checkout:shipping-method' %}">
24 |                         <span class="visible-inline-sm icon-chevron-right"></span>
25 |                         <span>
26 |                             {% trans "2. Shipping method" %}
27 |                         </span>
28 |                     </a>
29 |                 {% else %}
30 |                     <span class="navbar-text">
31 |                         {%  trans "2. Shipping method" %}
32 |                     </span>
33 |                 {% endif %}
34 |             </li>
35 | 
36 |             <li class="step3 {% if step == 3 %}active{% else %}{% if step == 4 %}previous{% else %}{% if step > 3 %}visited{% else %}disabled{% endif %}{% endif %}{% endif %} ">
37 |                 {% if step == 4 %}
38 |                     <a href="{% url 'checkout:payment-details' %}">
39 |                         <span class="visible-inline-sm icon-chevron-right"></span>
40 |                         <span>
41 |                             {% trans "3. Payment" %}
42 |                         </span>
43 |                     </a>
44 |                 {% else %}
45 |                     <span class="navbar-text">
46 |                         {%  trans "3. Payment" %}
47 |                     </span>
48 |                 {% endif %}
49 |             </li>
50 | 
51 |             <li class="step4 {% if step == 4 %}active{% else %}disabled{% endif %} ">
52 |                 <span class="navbar-text">
53 |                     {% trans "4. Preview" %}
54 |                 </span>
55 |             </li>
56 | 
57 |             <li class="step5 {% if step == 5 %}active{% else %}disabled{% endif %} ">
58 |                 <span class="navbar-text">
59 |                     {% trans "5. Confirmation" %}
60 |                 </span>
61 |             </li>
62 |         {% endspaceless %}
63 |     </ul><!-- /navbar-inner -->
64 | </div><!-- /navbar -->


# File: oscardropship/templates/oscar/checkout/payment_details.html

 1 | {% extends "oscar/checkout/checkout.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {% trans "Payment details" %} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block checkout_nav %}
 9 |     {% include 'oscar/checkout/nav.html' with step=3 %}
10 | {% endblock %}
11 | 
12 | {% block checkout_title %}{% trans "Enter payment details" %}{% endblock %}
13 | 
14 | {% block order_contents %}{% endblock %}
15 | {% block shipping_address %}{% endblock %}
16 | {% block shipping_method %}{% endblock %}
17 | {% block payment_method %}{% endblock %}
18 | 
19 | {% block payment_details %}
20 |     {% block payment_details_content %}
21 |         <p>{% trans "This page needs implementing within your project.  You may want to use one of Oscar's payment gateway libraries:" %}</p>
22 |         <ul>
23 |             <li><a href="https://github.com/django-oscar/django-oscar-paypal">django-oscar-paypal</a></li>
24 |             <li><a href="https://github.com/django-oscar/django-oscar-adyen">django-oscar-adyen</a></li>
25 |             <li><a href="https://github.com/django-oscar/django-oscar-docdata">django-oscar-docdata</a></li>
26 |             <li><a href="https://github.com/django-oscar/django-oscar-accounts">django-oscar-accounts</a></li>
27 |         </ul>
28 |         <a id="view_preview" href="{% url 'checkout:preview' %}" class="btn btn-primary btn-lg">{% trans "Continue" %}</a>
29 |     {% endblock payment_details_content %}
30 | {% endblock payment_details %}


# File: oscardropship/templates/oscar/checkout/preview.html

 1 | {% extends "oscar/checkout/checkout.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {% trans "Order preview" %} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block checkout_nav %}
 9 |     {% include 'oscar/checkout/nav.html' with step=4 %}
10 | {% endblock %}
11 | 
12 | {% block checkout_title %}
13 |     {% trans "Preview order" %}
14 | {% endblock %}
15 | 
16 | {% block place_order %}
17 |     <script src="https://www.paypal.com/sdk/js?client-id={{ PAYPAL_CLIENT_ID }}"></script>
18 |     <div x-data="setupPaypal()">
19 |         <form method="post" action="{% url 'checkout:preview' %}" id="place_order_form">
20 |             {% csrf_token %}
21 |             <input type="hidden" name="action" value="place_order" />
22 |             <input type="hidden" value="{{ order_total.incl_tax }}" id="orderTotal">
23 |             <input type="hidden" name="details" id="paypalDetails">
24 |             <input type="hidden" name="order_id" id="orderId">
25 |             {% comment %}
26 |                 When submitting sensitive data on the payment details page (eg a bankcard)
27 |                 we don't want to save the data and so we pass the bound form to the preview
28 |                 template and render it in a hidden div.  Then the payment information will
29 |                 get re-submitted when the user confirms the order.
30 |             {% endcomment %}
31 |             <div style="display:none">
32 |                 {% block hiddenforms %}{% endblock %}
33 |             </div>
34 | 
35 | 
36 |             <div class="form-group clearfix">
37 |                 <div class="row">
38 |                     <div class="col-sm-3 col-sm-offset-9">
39 |         
40 |                     </div>
41 |                 </div>
42 |             </div>
43 |         </form>
44 |         <div id="paypal-button-container"></div>
45 |         </div>
46 |     <script>
47 |         function setupPaypal() {
48 |           return {
49 |             details: {},
50 |           }
51 |         }
52 |         paypal.Buttons({
53 |             createOrder: function(data, actions) {
54 |               // This function sets up the details of the transaction, including the amount and line item details.
55 |               return actions.order.create({
56 |                 purchase_units: [{
57 |                   amount: {
58 |                     value: document.getElementById('orderTotal').value
59 |                   },
60 |                 }],
61 |                 application_context: {
62 |                   brand_name: 'Django Oscar',
63 |                   user_action: "PAY_NOW"
64 |                   
65 |                 }
66 |               });
67 |             },
68 |             onApprove: function(data, actions) {
69 |               // This function captures the funds from the transaction.
70 |               return actions.order.capture().then(function(details) {
71 |                 // This function shows a transaction success message to your buyer.
72 |                 alert('Transaction completed by ' + details.payer.name.given_name);
73 |                 document.getElementById('paypalDetails').value = JSON.stringify(details);
74 |                 document.getElementById('orderId').value = details.id;
75 |                 document.getElementById('place_order_form').submit()
76 |               });
77 |             }
78 |         }).render('#paypal-button-container');
79 |     </script>
80 | {% endblock place_order %}


# File: oscardropship/templates/oscar/checkout/shipping_address.html

 1 | {% extends "oscar/checkout/checkout.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {% trans "Shipping address" %} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block checkout_nav %}
 9 |     {% include 'oscar/checkout/nav.html' with step=1 %}
10 | {% endblock %}
11 | 
12 | {% block checkout_title %}{% trans "Shipping address" %}{% endblock %}
13 | 
14 | {% block order_contents %}{% endblock %}
15 | 
16 | {% block shipping_address %}
17 | <div class="col-sm-12">
18 |     <div class="sub-header">
19 |         <h2>{% trans "Where should we ship to?" %}</h2>
20 |     </div>
21 |     {% if user.is_authenticated %}
22 |         {% if addresses %}
23 |             <h3>{% trans "An address from your address book?" %}</h3>
24 |             <div class="choose-block">
25 |                 <div class="row">
26 |                     {% for address in addresses %}
27 |                         {% block select_address_form %}
28 |                             <div class="col-sm-6">
29 |                                 <div class="well">
30 |                                     <address>
31 |                                         {% block select_address_fields %}
32 |                                             {% for field in address.active_address_fields %}
33 |                                                 <span>{{ field }}</span>{% if not forloop.first %}<br/>{% endif %}
34 |                                             {% endfor %}
35 |                                         {% endblock %}
36 |                                     </address>
37 |                                     <form action="{% url 'checkout:shipping-address' %}" method="post" id="select_shipping_address_{{ address.id }}">
38 |                                         {% csrf_token %}
39 |                                         <input type="hidden" name="action" value="ship_to" />
40 |                                         <input type="hidden" name="address_id" value="{{ address.id }}" />
41 |                                         {% if address.is_default_for_shipping %}
42 |                                             <button type="submit" class="btn btn-success btn-large ship-address" data-loading-text="{% trans 'Submitting...' %}"><i class="icon-ok"></i> {% trans "Ship to your default shipping address" %}</button>
43 |                                         {% else %}
44 |                                             <button type="submit" class="btn btn-primary btn-large ship-address" data-loading-text="{% trans 'Submitting...' %}">{% trans "Ship to this address" %}</button>
45 |                                         {% endif %}
46 | 
47 |                                         <div class="btn-group address-controls">
48 |                                             <a href="{% url 'checkout:user-address-update' pk=address.id %}" class="btn btn-default btn-sm">{% trans "Edit address" %}</a>
49 |                                             <button class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">
50 |                                                 <span class="caret"></span>
51 |                                             </button>
52 |                                             <ul class="dropdown-menu">
53 |                                                 <li><a href="{% url 'checkout:user-address-delete' pk=address.id %}" class="btn-remove-address">{% trans "Delete" %}</a></li>
54 |                                             </ul>
55 |                                         </div>
56 |                                     </form>
57 |                                 </div>
58 |                             </div>
59 |                             {% if forloop.counter|divisibleby:2 %}
60 |                                 </div><div class="row">
61 |                             {% endif %}
62 |                         {% endblock %}
63 |                     {% endfor %}
64 |                 </div>
65 |             </div>
66 |             <h3>{% trans "Or a new address?" %}</h3>
67 |         {% endif %}
68 |     {% endif %}
69 | 
70 |     {% block new_address_form %}
71 |         <div class="well">
72 |             <form action="{% url 'checkout:shipping-address' %}" method="post" id="new_shipping_address" class="form form-horizontal">
73 |                 {% csrf_token %}
74 |                 {% include "oscar/partials/form_fields.html" with form=form style='horizontal' %}
75 |                 <div class="form-group">
76 |                     <div class="col-sm-offset-4 col-sm-8">
77 |                         <button type="submit" class="btn btn-lg btn-primary" data-loading-text="{% trans 'Continuing...' %}">{% trans "Continue" %}</button>
78 |                         {% trans "or" %} <a href="{% url 'basket:summary' %}">{% trans "return to basket" %}</a>
79 |                     </div>
80 |                 </div>
81 |             </form>
82 |         </div>
83 |     {% endblock %}
84 | </div>
85 | {% endblock shipping_address %}
86 | 
87 | {% block shipping_method %}{% endblock %}
88 | {% block payment_method %}{% endblock %}


# File: oscardropship/templates/oscar/checkout/shipping_methods.html

 1 | {% extends "oscar/checkout/checkout.html" %}
 2 | 
 3 | {% load currency_filters %}
 4 | {% load i18n %}
 5 | {% load shipping_tags %}
 6 | 
 7 | {% block title %}
 8 |     {% trans "Shipping method" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block checkout_nav %}
12 |     {% include 'oscar/checkout/nav.html' with step=2 %}
13 | {% endblock %}
14 | 
15 | {% block checkout_title %}{% trans "Shipping method" %}{% endblock %}
16 | 
17 | {% block order_contents %}{% endblock %}
18 | {% block shipping_address %}{% endblock %}
19 | {% block payment_method %}{% endblock %}
20 | 
21 | {% block shipping_method %}
22 |     <div class="basket-title">
23 |         <div class="row">
24 |             <h4 class="col-sm-8">{% trans "Method" %}</h4>
25 |             <h4 class="col-sm-3">{% trans "Cost" %}</h4>
26 |         </div>
27 |     </div>
28 |     {% for method in methods %}
29 |         <div class="basket-items">
30 |             <div class="row">
31 |                 <div class="col-sm-8">
32 |                     <h4>{{ method.name }}</h4>
33 |                     {% if method.description %}
34 |                         <p>{{ method.description|safe }}</p>
35 |                     {% endif %}
36 |                     {% if method.is_discounted %}
37 |                         <small>
38 |                             {% shipping_charge_discount method basket as discount %}
39 |                             {% blocktrans with amount=discount|currency:basket.currency name=method.discount_name %}
40 |                                 This includes a discount of <strong>{{ amount }}</strong> as
41 |                                 your basket qualifies for the <strong>{{ name }}</strong> offer.
42 |                             {% endblocktrans %}
43 |                         </small>
44 |                     {% endif %}
45 |                 </div>
46 |                 <div class="col-sm-1">
47 |                     {% shipping_charge method basket as charge %}
48 |                     {% if charge.is_tax_known %}
49 |                         {{ charge.incl_tax|currency:basket.currency }}
50 |                     {% else %}
51 |                         {{ charge.excl_tax|currency:basket.currency }}
52 |                     {% endif %}
53 |                 </div>
54 |                 <div class="col-sm-3">
55 |                     <form method="post" action="{% url 'checkout:shipping-method' %}">
56 |                         {% csrf_token %}
57 |                         <input type="hidden" name="method_code" value="{{ method.code }}" />
58 |                         <button type="submit" class="btn btn-lg btn-primary pull-right" data-loading-text="{% trans 'Submitting...' %}">{% trans "Select option" %}</button>
59 |                     </form>
60 |                 </div>    
61 |             </div>
62 |         </div>
63 |     {% endfor %}
64 | {% endblock shipping_method %}


# File: oscardropship/templates/oscar/checkout/thank_you.html

  1 | {% extends "oscar/checkout/layout.html" %}
  2 | {% load currency_filters %}
  3 | {% load i18n %}
  4 | {% load image_tags %}
  5 | 
  6 | {% block title %}
  7 |     {% blocktrans with number=order.number %}
  8 |         Order {{ number }}: confirmation
  9 |     {% endblocktrans %} | {{ block.super }}
 10 | {% endblock title %}
 11 | 
 12 | {% block checkout_nav %}
 13 |     {% include 'oscar/checkout/nav.html' with step=5 %}
 14 | {% endblock %}
 15 | 
 16 | {% block checkout_title %}
 17 |     {% blocktrans with number=order.number %}
 18 |         Order {{ number }}: confirmation
 19 |     {% endblocktrans %}
 20 | {% endblock %}
 21 | 
 22 | {% block content %}
 23 |     <p class="lead">
 24 |         {% blocktrans with number=order.number %}
 25 |         Your order has been placed and a confirmation email has been sent - your order number is
 26 |         <strong>{{ number }}</strong>.
 27 |         {% endblocktrans %}
 28 |         {% trans "Please make a note of this reference or print this page and quote it in any communication with us regarding your order." %}
 29 |     </p>
 30 | 
 31 |     <div class="row shipping-payment">
 32 |         <div class="col-sm-6">
 33 |             {% block shipping_info %}
 34 |                 <div class="sub-header">
 35 |                     <h2>{% trans "Shipping" %}</h2>
 36 |                 </div>
 37 |                 <div class="well well-info">
 38 |                     <h3>{% trans "Address" %}</h3>
 39 |                     {% if order.shipping_address %}
 40 |                         <address>
 41 |                             {% for field in order.shipping_address.active_address_fields %}
 42 |                                 {{ field }}<br/>
 43 |                             {% endfor %}
 44 |                         </address>
 45 | 
 46 |                         {% if order.shipping_address.phone_number %}
 47 |                             <h4>{% trans "Contact" %}</h4>
 48 |                             <p>
 49 |                                 {% trans "Phone" %}: {{ order.shipping_address.phone_number }}
 50 |                                 {% if order.guest_email %}
 51 |                                     <br/>{% trans "Email" %}: {{ order.guest_email }}
 52 |                                 {% endif %}
 53 |                             </p>
 54 |                         {% endif %}
 55 | 
 56 |                         {% if order.shipping_address.notes %}
 57 |                             <h4>{% trans "Instructions" %}</h4>
 58 |                             <p>{{ order.shipping_address.notes|linebreaks }}</p>
 59 |                         {% endif %}
 60 |                     {% else %}
 61 |                         <p>{% trans "No shipping address required." %}</p>
 62 |                     {% endif %}
 63 |                 </div>
 64 | 
 65 |                 <div class="well well-info">
 66 |                     <h3>{% trans "Shipping method" %}</h3>
 67 |                     <p>{{ order.shipping_method }}</p>
 68 |                 </div>
 69 |             {% endblock %}
 70 |         </div>
 71 | 
 72 |         <div class="col-sm-6">
 73 |             {% block payment_info %}
 74 |                 <div class="sub-header">
 75 |                     <h2>{% trans "Payment" %}</h2>
 76 |                 </div>
 77 |                 <div class="well well-success">
 78 |                     <h3>{% trans "Payment" %}</h3>
 79 |                     {% for source in order.sources.all %}
 80 |                         <p>
 81 |                         {% if source.reference %}
 82 |                             {% blocktrans with amount=source.amount_allocated|currency:source.currency type=source.source_type.name reference=source.reference %}
 83 |                                 Allocation of {{ amount }} from type {{ type }} (reference: {{ reference }})
 84 |                             {% endblocktrans %}
 85 |                         {% else %}
 86 |                             {% blocktrans with amount=source.amount_allocated|currency:source.currency type=source.source_type.name %}
 87 |                                 Allocation of {{ amount }} from type {{ type }}
 88 |                             {% endblocktrans %}
 89 |                         {% endif %}
 90 |                         </p>
 91 |                     {% empty %}
 92 |                         <p>
 93 |                         {% trans "No payment was required for this order." %}
 94 |                         </p>
 95 |                     {% endfor %}
 96 | 
 97 |                     {% if order.billing_address %}
 98 |                         <h4>{% trans "Billing address" %}</h4>
 99 |                         <address>
100 |                             {% for field in order.billing_address.active_address_fields %}
101 |                                 {{ field }}<br/>
102 |                             {% endfor %}
103 |                         </address>
104 |                     {% endif %}
105 |                 </div>
106 | 
107 |             {% endblock %}
108 |         </div>
109 |     </div>
110 | 
111 |     {% block order_contents %}
112 |         <div class="sub-header">
113 |             <h2>{% trans "Order contents" %}</h2>
114 |         </div>
115 | 
116 |         <div class="basket-title">
117 |             <div class="row">
118 |                 <p class="col-sm-9 h4">{% trans "Items purchased" %}</p>
119 |                 <p class="col-sm-1 h4 align-center">{% trans "Quantity" %}</p>
120 |                 <p class="col-sm-2 h4 align-right">{% trans "Total" %}</p>
121 |             </div>
122 |         </div>
123 | 
124 |         {% for line in order.lines.all %}
125 |             <div class="basket-items">
126 |                 <div class="row">
127 |                     <div class="col-sm-2">
128 |                         <div class="image_container">
129 |                             {% with image=line.product.primary_image %}
130 |                                 {% oscar_thumbnail image.original "200x200" upscale=False as thumb %}
131 |                                 <a href="{{ line.product.get_absolute_url }}">
132 |                                     <img class="thumbnail" src="{{ thumb.url }}" alt="{{ product.get_title }}">
133 |                                 </a>
134 |                             {% endwith %}
135 |                         </div>
136 |                     </div>
137 |                     <div class="col-sm-7">
138 |                         <h3><a href="{{ line.product.get_absolute_url }}">{{ line.description }}</a></h3>
139 |                         <p>
140 |                         {% if line.upc %}{{ line.upc }}<br/>{% endif %}
141 |                         {% if line.est_dispatch_date %}
142 |                             {% blocktrans with date=line.est_dispatch_date %}
143 |                                 Estimated dispatch: <strong>{{ date }}</strong>
144 |                             {% endblocktrans %}
145 |                         {% endif %}
146 |                         </p>
147 |                     </div>
148 |                     <div class="col-sm-1 align-center">
149 |                         {{ line.quantity }}
150 |                     </div>
151 |                     <div class="col-sm-2 align-right">
152 |                         <p class="price_color">
153 |                             {% if show_tax_separately %}
154 |                                 {{ line.line_price_before_discounts_excl_tax|currency:order.currency }}
155 |                             {% else %}
156 |                                 {{ line.line_price_before_discounts_incl_tax|currency:order.currency }}
157 |                             {% endif %}
158 |                         </p>
159 |                     </div>
160 |                 </div>
161 |             </div>
162 |         {% endfor %}
163 | 
164 |         {% block basket_totals %}
165 |             <div class="row">
166 |                 <div class="col-sm-6">&nbsp;</div>
167 |                 <div class="col-sm-6">
168 |                     <div class="sub-header">
169 |                         <h2>{% trans 'Totals' %}</h2>
170 |                     </div>
171 |                     {% include 'oscar/order/partials/basket_totals.html' %}
172 |                 </div>
173 |             </div>
174 |         {% endblock basket_totals %}
175 | 
176 |     {% endblock order_contents %}
177 | 
178 |     {% block order_tracking %}
179 |         {% if not order.user %}
180 |             <div class="sub-header">
181 |                 <h2>{% trans "Tracking your order" %}</h2>
182 |             </div>
183 |             <p>{% trans "You can track the status of your order" %}</p>
184 |             <a class="btn btn-primary" href="{% url 'customer:anon-order' order_number=order.number hash=order.verification_hash %}">{% trans "View order status" %}</a>.
185 |         {% endif %}
186 |     {% endblock %}
187 | 
188 | 
189 |     {% block order_actions %}
190 |         <div class="form-group">
191 |             <div class="row">
192 |                 <div class="col-sm-4">
193 |                     <p><a onclick="window.print()" href="#" class="btn btn-primary btn-block btn-lg">{% trans "Print this page" %}</a></p>
194 |                 </div>
195 |                 <div class="col-sm-4 col-sm-offset-4">
196 |                     <p><a href="{{ homepage_url }}" class="btn btn-primary btn-block btn-lg">{% trans "Continue shopping" %}</a></p>
197 |                 </div>
198 |             </div>
199 |         </div>
200 |     {% endblock order_actions %}
201 | {% endblock content %}
202 | 
203 | {% block tracking %}
204 |     {% if send_analytics_event %}
205 |         {% include "oscar/partials/google_analytics_transaction.html" %}
206 |     {% endif %}
207 | {% endblock %}


# File: oscardropship/templates/oscar/checkout/user_address_delete.html

 1 | {% extends "oscar/checkout/checkout.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {% trans "Delete address?" %} | {{ block.super }}
 6 | {% endblock title %}
 7 | 
 8 | {% block order_contents %}{% endblock %}
 9 | {% block shipping_method %}{% endblock %}
10 | {% block payment_method %}{% endblock %}
11 | {% block payment_details %}{% endblock %}
12 | 
13 | {% block checkout_nav %}
14 |     {% include 'oscar/checkout/nav.html' with step=1 %}
15 | {% endblock %}
16 | 
17 | {% block checkout_title %}{% trans "Delete address?" %}{% endblock %}
18 | 
19 | {% block shipping_address %}
20 |     <form method="post" id="delete_address_{{ object.id }}">
21 |         {% csrf_token %}
22 |         <div class="well">
23 |             <address>
24 |                 {% for field in object.active_address_fields %}
25 |                     {{ field }}<br/>
26 |                 {% endfor %}
27 |             </address>
28 |         </div>
29 |         <p>{% trans "Are you sure you want to delete this address?" %} <button type="submit" class="btn btn-danger" data-loading-text="{% trans 'Submitting...' %}">{% trans "Yes!" %}</button>
30 |             {% trans "or" %} <a href="{% url 'checkout:shipping-address' %}">{% trans "cancel" %}</a>.</p>
31 |     </form>
32 | {% endblock shipping_address %}


# File: oscardropship/templates/oscar/checkout/user_address_form.html

 1 | {% extends "oscar/checkout/checkout.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {% trans "Edit address" %} | {{ block.super }}
 6 | {% endblock title %}
 7 | 
 8 | {% block order_contents %}{% endblock %}
 9 | {% block shipping_method %}{% endblock %}
10 | {% block payment_method %}{% endblock %}
11 | {% block payment_details %}{% endblock %}
12 | 
13 | {% block checkout_nav %}
14 |     {% include 'oscar/checkout/nav.html' with step=1 %}
15 | {% endblock %}
16 | 
17 | {% block checkout_title %}{% trans "Edit address" %}{% endblock %}
18 | 
19 | {% block shipping_address %}
20 |     <div class="well">
21 |         <form id="update_user_address" method="post" class="form form-horizontal">
22 |             {% csrf_token %}
23 |             {% include "oscar/partials/form_fields.html" with form=form style='horizontal' %}
24 |             <div class="form-group">
25 |                 <div class="col-sm-offset-4 col-sm-8">
26 |                     <button type="submit" class="btn btn-lg btn-primary" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button>
27 |                     {% trans "or" %} <a href="{% url 'checkout:shipping-address' %}">{% trans "cancel" %}</a>.
28 |                 </div>
29 |             </div>
30 |         </form>
31 |     </div>
32 | {% endblock shipping_address %}


# File: oscardropship/templates/oscar/communication/email/email_detail.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | 
 3 | 
 4 | {% load i18n %}
 5 | 
 6 | {% block extra_breadcrumbs %}
 7 |     <li>
 8 |         <a href="{% url 'customer:email-list' %}">{% trans 'Email history' %}</a>
 9 |     </li>
10 | {% endblock %}
11 | 
12 | {% block tabcontent %}
13 |     <table class="table table-striped table-bordered">
14 |         <tr>
15 |             <th>{% trans 'Date sent' %}</th>
16 |             <td>{{ email.date_sent }}</td>
17 |         </tr>
18 |         <tr>
19 |             <th>{% trans 'Subject' %}</th>
20 |             <td>{{ email.subject }}</td>
21 |         </tr>
22 |         <tr>
23 |             <th>{% trans 'Body' %}</th>
24 |             <td>
25 |                 <iframe id="preview_box" width="100%" height="400">{{ email.body_html|safe }}</iframe>
26 |             </td>
27 |         </tr>
28 |     </table>
29 | {% endblock tabcontent %}
30 | 
31 | {% block onbodyload %}
32 |     {{ block.super }}
33 | 
34 |     $(function() {
35 |         // Sets the HTML email preview so it's css doesn't touch the page.
36 |         var el_preview_html = document.getElementById('preview_box');
37 |         var html = $(el_preview_html).text();
38 |         var doc = el_preview_html.contentWindow.document;
39 |         doc.open();
40 |         doc.write(html);
41 |         doc.close();
42 |     });
43 | 
44 | {% endblock %}


# File: oscardropship/templates/oscar/communication/email/email_list.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block tabcontent %}
 5 |     {% if emails %}
 6 |         <table class="table table-striped table-bordered">
 7 |             <thead>
 8 |                 <tr>
 9 |                     <th>{% trans 'Subject' %}</th>
10 |                     <th>{% trans 'Date sent' %}</th>
11 |                 </tr>
12 |             </thead>
13 |             <tbody>
14 |                 {% for email in emails %}
15 |                     <tr>
16 |                         <td>
17 |                             <a href="{% url 'customer:email-detail' email_id=email.id %}">{{ email.subject }}</a>
18 |                         </td>
19 |                         <td>{{ email.date_sent }}</td>
20 |                     </tr>
21 |                 {% endfor %}
22 |             </tbody>
23 |         </table>
24 |         {% include "oscar/partials/pagination.html" %}
25 |     {% else %}
26 |         <p>{% trans 'No emails found' %}</p>
27 |     {% endif %}
28 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/communication/emails/base.html

  1 | {% load i18n %}
  2 | <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  3 | <html xmlns="http://www.w3.org/1999/xhtml">
  4 |     <head>
  5 |         <meta name="viewport" content="width=device-width" />
  6 |         <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  7 |         <style>
  8 |             * {
  9 |               margin: 0;
 10 |               font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
 11 |               box-sizing: border-box;
 12 |               font-size: 14px;
 13 |             }
 14 | 
 15 |             img {
 16 |               max-width: 100%;
 17 |             }
 18 | 
 19 |             body {
 20 |               -webkit-font-smoothing: antialiased;
 21 |               -webkit-text-size-adjust: none;
 22 |               width: 100% !important;
 23 |               height: 100%;
 24 |               line-height: 1.6em;
 25 |             }
 26 | 
 27 |             table td {
 28 |               vertical-align: top;
 29 |             }
 30 | 
 31 |             body {
 32 |               background-color: #f6f6f6;
 33 |             }
 34 | 
 35 |             .body-wrap {
 36 |               background-color: #f6f6f6;
 37 |               width: 100%;
 38 |             }
 39 | 
 40 |             .container {
 41 |               display: block !important;
 42 |               max-width: 600px !important;
 43 |               margin: 0 auto !important;
 44 |               clear: both !important;
 45 |             }
 46 | 
 47 |             .content {
 48 |               max-width: 600px;
 49 |               margin: 0 auto;
 50 |               display: block;
 51 |               padding: 20px;
 52 |             }
 53 | 
 54 |             .main {
 55 |               background-color: #fff;
 56 |               border: 1px solid #e9e9e9;
 57 |               border-radius: 3px;
 58 |             }
 59 | 
 60 |             .content-wrap {
 61 |               padding: 20px;
 62 |             }
 63 | 
 64 |             .content-block {
 65 |               padding: 0 0 20px;
 66 |             }
 67 | 
 68 |             .header {
 69 |               width: 100%;
 70 |               margin-bottom: 20px;
 71 |             }
 72 | 
 73 |             .footer {
 74 |               width: 100%;
 75 |               clear: both;
 76 |               color: #999;
 77 |               padding: 20px;
 78 |             }
 79 |             .footer p, .footer a, .footer td {
 80 |               color: #999;
 81 |               font-size: 12px;
 82 |             }
 83 | 
 84 |             h1, h2, h3 {
 85 |               font-family: "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
 86 |               color: #000;
 87 |               margin: 40px 0 0;
 88 |               line-height: 1.2em;
 89 |               font-weight: 400;
 90 |             }
 91 | 
 92 |             h1 {
 93 |               font-size: 32px;
 94 |               font-weight: 500;
 95 |             }
 96 | 
 97 |             h2 {
 98 |               font-size: 24px;
 99 |             }
100 | 
101 |             h3 {
102 |               font-size: 18px;
103 |             }
104 | 
105 |             h4 {
106 |               font-size: 14px;
107 |               font-weight: 600;
108 |             }
109 | 
110 |             p, ul, ol {
111 |               margin-bottom: 10px;
112 |               font-weight: normal;
113 |             }
114 |             p li, ul li, ol li {
115 |               margin-left: 5px;
116 |               list-style-position: inside;
117 |             }
118 | 
119 |             a {
120 |               color: #348eda;
121 |               text-decoration: underline;
122 |             }
123 | 
124 |             .btn-primary {
125 |               text-decoration: none;
126 |               color: #FFF;
127 |               background-color: #348eda;
128 |               border: solid #348eda;
129 |               border-width: 10px 20px;
130 |               line-height: 2em;
131 |               font-weight: bold;
132 |               text-align: center;
133 |               cursor: pointer;
134 |               display: inline-block;
135 |               border-radius: 5px;
136 |               text-transform: capitalize;
137 |             }
138 | 
139 |             .last {
140 |               margin-bottom: 0;
141 |             }
142 | 
143 |             .first {
144 |               margin-top: 0;
145 |             }
146 | 
147 |             .aligncenter {
148 |               text-align: center;
149 |             }
150 | 
151 |             .alignright {
152 |               text-align: right;
153 |             }
154 | 
155 |             .alignleft {
156 |               text-align: left;
157 |             }
158 | 
159 |             .clear {
160 |               clear: both;
161 |             }
162 | 
163 |             .alert {
164 |               font-size: 16px;
165 |               color: #fff;
166 |               font-weight: 500;
167 |               padding: 20px;
168 |               text-align: center;
169 |               border-radius: 3px 3px 0 0;
170 |             }
171 |             .alert a {
172 |               color: #fff;
173 |               text-decoration: none;
174 |               font-weight: 500;
175 |               font-size: 16px;
176 |             }
177 |             .alert.alert-warning {
178 |               background-color: #FF9F00;
179 |             }
180 |             .alert.alert-bad {
181 |               background-color: #D0021B;
182 |             }
183 |             .alert.alert-good {
184 |               background-color: #68B90F;
185 |             }
186 | 
187 |             .invoice {
188 |               margin: 40px auto;
189 |               text-align: left;
190 |               width: 80%;
191 |             }
192 |             .order {
193 |               text-align: left;
194 |               width: 100%;
195 |             }
196 |             .invoice td, .order td {
197 |               padding: 5px 0;
198 |             }
199 |             .invoice .invoice-items, .order .order-items {
200 |               width: 100%;
201 |             }
202 |             .invoice .invoice-items td, .order .order-items td {
203 |               border-top: #eee 1px solid;
204 |             }
205 |             .invoice .invoice-items .total td, .order .order-items .total td {
206 |               border-top: 2px solid #333;
207 |               border-bottom: 2px solid #333;
208 |               font-weight: 700;
209 |             }
210 | 
211 |             @media only screen and (max-width: 640px) {
212 |               body {
213 |                 padding: 0 !important;
214 |               }
215 | 
216 |               h1, h2, h3, h4 {
217 |                 font-weight: 800 !important;
218 |                 margin: 20px 0 5px !important;
219 |               }
220 | 
221 |               h1 {
222 |                 font-size: 22px !important;
223 |               }
224 | 
225 |               h2 {
226 |                 font-size: 18px !important;
227 |               }
228 | 
229 |               h3 {
230 |                 font-size: 16px !important;
231 |               }
232 | 
233 |               .container {
234 |                 padding: 0 !important;
235 |                 width: 100% !important;
236 |               }
237 | 
238 |               .content {
239 |                 padding: 0 !important;
240 |               }
241 | 
242 |               .content-wrap {
243 |                 padding: 10px !important;
244 |               }
245 | 
246 |               .invoice {
247 |                 width: 100% !important;
248 |               }
249 | 
250 |               .order {
251 |                 width: 100% !important;
252 |               }
253 |             }
254 | 
255 |         </style>
256 |     </head>
257 | 
258 |     <body itemscope itemtype="http://schema.org/EmailMessage">
259 | 
260 |     <table class="body-wrap">
261 |         <tr>
262 |             <td></td>
263 |             <td class="container" width="600">
264 |                 <div class="content">
265 |                     <table class="main" width="100%" cellpadding="0" cellspacing="0" itemprop="action" itemscope itemtype="http://schema.org/ConfirmAction">
266 |                         <tr>
267 |                             <td class="content-wrap">
268 |                                 <table width="100%" cellpadding="0" cellspacing="0">
269 |                                     {% block header %}{% endblock %}
270 |                                     {% block tbody %}
271 |                                     <tr>
272 |                                         <td class="content-block">
273 |                                             {% block body %}{% endblock %}
274 |                                         </td>
275 |                                     </tr>
276 |                                     {% endblock %}
277 |                                     {% block footer %}
278 |                                         <tr>
279 |                                             <td class="content-block">
280 |                                                 <p>{% trans "Thanks for using our site!" %}</p>
281 |                                                 <p>{% blocktrans with name=site.name %}The {{ name }} team{% endblocktrans %}</p>
282 |                                             </td>
283 |                                         </tr>
284 |                                     {% endblock %}
285 |                                 </table>
286 |                             </td>
287 |                         </tr>
288 |                     </table>
289 |                 </div>
290 |             </td>
291 |             <td></td>
292 |         </tr>
293 |     </table>
294 | 
295 |     </body>
296 | </html>


# File: oscardropship/templates/oscar/communication/emails/commtype_email_changed_body.html

 1 | {% extends "oscar/communication/emails/base.html" %}
 2 | {% load i18n %}
 3 | {% load url_tags %}
 4 | 
 5 | {% block tbody %}
 6 | <tr>
 7 |     <td class="content-block">
 8 |          {% blocktrans with email=new_email %}You're receiving this email because your email address has been changed to <strong>{{ email }}</strong>.{% endblocktrans %}
 9 |     </td>
10 | </tr>
11 | 
12 | <tr>
13 |     <td class="content-block">
14 |         {% trans "If it wasn't you who changed it, please reset your password immediately and correct your email address:" %}
15 |     </td>
16 | </tr>
17 | 
18 | <tr>
19 |     <td class="content-block">
20 |         <a href="{% absolute_url site.domain reset_url %}" class="btn-primary">Reset password</a>
21 |     </td>
22 | </tr>
23 | 
24 | <tr>
25 |     <td class="content-block">
26 |         {% trans "If it was you who changed the email address, you can ignore this email." %}
27 |     </td>
28 | </tr>
29 | 
30 | {% endblock %}


# File: oscardropship/templates/oscar/communication/emails/commtype_order_placed_body.html

 1 | {% extends "oscar/communication/emails/base.html" %}
 2 | {% load currency_filters i18n %}
 3 | 
 4 | {% block tbody %}
 5 | <tr>
 6 |     <td class="content-block">
 7 |         <p xmlns="http://www.w3.org/1999/html">{% trans 'Hello,' %}</p>
 8 |         <p>{% blocktrans with order_number=order.number %}We are pleased to confirm your order {{ order_number }} has been received and
 9 |         will be processed shortly.{% endblocktrans %}</p>
10 |     </td>
11 | </tr>
12 | 
13 | <tr>
14 |     <td class="content-block">
15 |         <table class="order">
16 |             <tbody><tr>
17 |                 <td>{% trans 'Your order contains:' %}</td>
18 |             </tr>
19 |             <tr>
20 |                 <td>
21 |                     <table class="order-items" cellpadding="0" cellspacing="0">
22 |                         <tbody>
23 |                             {% for line in order.lines.all %}
24 |                                 <tr>
25 |                                     <td>{{ line.title }} &times; {{ line.quantity }}</td>
26 |                                     <td class="alignright">{{ line.line_price_incl_tax|currency:order.currency }}</td>
27 |                                 </tr>
28 |                             {% endfor %}
29 |                             <tr>
30 |                                 <td class="alignright">{% trans 'Basket total:' %}</td>
31 |                                 <td class="alignright">{{ order.basket_total_incl_tax|currency:order.currency }}</td>
32 |                             </tr>
33 |                             <tr>
34 |                                 <td class="alignright">{% trans 'Shipping:' %}</td>
35 |                                 <td class="alignright">{{ order.shipping_incl_tax|currency:order.currency }}</td>
36 |                             </tr>
37 |                             <tr class="total">
38 |                                 <td class="alignright" width="80%">{% trans 'Order Total:' %}</td>
39 |                                 <td class="alignright">{{ order.total_incl_tax|currency:order.currency }}</td>
40 |                             </tr>
41 |                         </tbody>
42 |                     </table>
43 |                 </td>
44 |             </tr>
45 |         </tbody></table>
46 |     </td>
47 | </tr>
48 | 
49 | <tr>
50 |     <td class="content-block">
51 |         <p>{% trans 'Shipping address:' %}</p>
52 |         <p>{% for field in order.shipping_address.active_address_fields %}  {{ field }}<br/>
53 |         {% endfor %}</p>
54 |     </td>
55 | </tr>
56 | 
57 | {% if status_url %}
58 |     <tr>
59 |         <td class="content-block">
60 |             {% blocktrans %}You can view the status of this order by clicking <a href="{{ status_url }}" title="order status">here</a>{% endblocktrans %}
61 |         </td>
62 |     </tr>
63 | {% endif %}
64 | 
65 | {% endblock %}


# File: oscardropship/templates/oscar/communication/emails/commtype_password_changed_body.html

 1 | {% extends "oscar/communication/emails/base.html" %}
 2 | {% load i18n %}
 3 | {% load url_tags %}
 4 | 
 5 | {% block tbody %}
 6 |     <tr>
 7 |         <td class="content-block">
 8 |             {% blocktrans with name=site.name %}You're receiving this e-mail because your password has been changed at {{ name }}.{% endblocktrans %}
 9 |         </td>
10 |     </tr>
11 | 
12 |     <tr>
13 |         <td class="content-block">
14 |             {% trans "If it wasn't you who changed it, please reset your password immediately:" %}
15 |         </td>
16 |     </tr>
17 | 
18 |     <tr>
19 |         <td class="content-block">
20 |             <a href="{% absolute_url site.domain reset_url %}" class="btn-primary">Reset password</a>
21 |         </td>
22 |     </tr>
23 | 
24 |     <tr>
25 |         <td class="content-block">
26 |             {% trans "Otherwise, you can ignore this email." %}
27 |         </td>
28 |     </tr>
29 | {% endblock %}


# File: oscardropship/templates/oscar/communication/emails/commtype_password_reset_body.html

 1 | {% extends "oscar/communication/emails/base.html" %}
 2 | {% load i18n %}
 3 | {% load url_tags %}
 4 | 
 5 | {% block tbody %}
 6 | <tr>
 7 |     <td class="content-block">
 8 |         {% blocktrans with name=site.name %}You're receiving this e-mail because you requested a password reset for your user account at {{ name }}.{% endblocktrans %}
 9 |     </td>
10 | </tr>
11 | 
12 | <tr>
13 |     <td class="content-block">
14 |         {% trans "Please go to the following page and choose a new password:" %}
15 |     </td>
16 | </tr>
17 | 
18 | <tr>
19 |     <td class="content-block">
20 |         <a href="{% absolute_url site.domain reset_url %}" class="btn-primary">Reset password</a>
21 |     </td>
22 | </tr>
23 | 
24 | {% endblock %}


# File: oscardropship/templates/oscar/communication/emails/commtype_product_alert_body.html

 1 | {% extends "oscar/communication/emails/base.html" %}
 2 | {% load i18n %}
 3 | {% load url_tags %}
 4 | 
 5 | {% block body %}
 6 |     <p>
 7 |         {% if alert.user and alert.user.get_short_name %}
 8 |             {% blocktrans with name=alert.user.get_short_name %}Dear {{ name }},{% endblocktrans %}
 9 |         {% else %}
10 |             {% trans "Hello," %}
11 |         {% endif %}
12 |     </p>
13 | 
14 |     <p>
15 |         {% absolute_url site.domain alert.product.get_absolute_url as url %}
16 |         {% blocktrans with title=alert.product.get_title|safe url=url %}
17 |             We are happy to inform you that our product '{{ title }}' is back in stock:
18 |             {{ url }}
19 |         {% endblocktrans %}
20 |     </p>
21 | 
22 |     {% if hurry %}
23 |         <p>
24 |             {% blocktrans %}
25 |                 Beware that the amount of items in stock is limited. Be quick or someone might get there first.
26 |             {% endblocktrans %}
27 |         </p>
28 |     {% endif %}
29 | 
30 |     <p>
31 |         {% blocktrans %}
32 |             With this email we have disabled your alert automatically and you will not
33 |             receive any further email regarding this product.
34 |         {% endblocktrans %}
35 |     </p>
36 | {% endblock %}


# File: oscardropship/templates/oscar/communication/emails/commtype_product_alert_confirmation_body.html

 1 | {% extends "oscar/communication/emails/base.html" %}
 2 | {% load i18n %}
 3 | {% load url_tags %}
 4 | 
 5 | {% block body %}
 6 |     {% absolute_url site.domain alert.get_confirm_url as confirm_url %}
 7 |     {% absolute_url site.domain alert.get_cancel_url as cancel_url %}
 8 |     {% blocktrans with title=alert.product.get_title|safe confirm_url=confirm_url cancel_url=cancel_url %}
 9 |         Hello,
10 |         <p>
11 |             Somebody (hopefully you) has requested an email alert when '{{ title }}' is back in stock.
12 |             Please click the following link to confirm: {{ confirm_url }}
13 |         </p>
14 |         <p>
15 |             You can cancel this alert at any time by clicking the following link: {{ cancel_url }}
16 |         </p>
17 | 
18 |         <p>
19 |             Thanks for your interest,
20 |             The {{ site }} Team
21 |         </p>
22 |     {% endblocktrans %}
23 | {% endblock %}


# File: oscardropship/templates/oscar/communication/emails/commtype_registration_body.html

1 | {% load i18n %}<p>{% trans 'Thank you for registering.' %}</p>


# File: oscardropship/templates/oscar/communication/notifications/detail.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block extra_breadcrumbs %}
 5 |     <li>
 6 |         <a href="{% url 'customer:notifications-inbox' %}">{% trans 'Notifications inbox' %}</a>
 7 |     </li>
 8 | {% endblock %}
 9 | 
10 | {% block tabcontent %}
11 |     <table class="table table-striped table-bordered">
12 |         {% if notification.sender %}
13 |         <tr>
14 |             <th>{% trans 'Sender' %}</th>
15 |             <td>{{ notification.sender }}</td>
16 |         </tr>
17 |         {% endif %}
18 |         <tr>
19 |             <th>{% trans 'Date sent' %}</th>
20 |             <td>{{ notification.date_sent }}</td>
21 |         </tr>
22 |         {% if notification.body %}
23 |             <tr>
24 |                 <th>{% trans 'Subject' %}</th>
25 |                 <td>{{ notification.subject|safe }}</td>
26 |             </tr>
27 |             <tr>
28 |                 <th>{% trans 'Body' %}</th>
29 |                 <td>{{ notification.body }}</td>
30 |             </tr>
31 |         {% else %}
32 |             <tr>
33 |                 <th>{% trans 'Message' %}</th>
34 |                 <th>{{ notification.subject|safe }}</th>
35 |             </tr>
36 |         {% endif %}
37 |     </table>
38 |     <div class="form-group form-actions"><a href="{% url 'customer:notifications-inbox' %}" class="btn btn-default">{% trans 'Return to notifications inbox' %}</a></div>
39 | {% endblock tabcontent %}
40 | 


# File: oscardropship/templates/oscar/communication/notifications/list.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block tabcontent %}
 5 | 
 6 |     <ul class="nav nav-tabs">
 7 |         <li class="{% if list_type == 'inbox' %}active{% endif %}"><a href="{% url 'customer:notifications-inbox' %}">{% trans 'Inbox' %}</a></li>
 8 |         <li class="{% if list_type == 'archive' %}active{% endif %}"><a href="{% url 'customer:notifications-archive' %}">{% trans 'Archive' context 'noun' %}</a></li>
 9 |     </ul>
10 | 
11 |     {% if notifications %}
12 |         {% include "oscar/partials/pagination.html" %}
13 | 
14 |         <form action="{% url 'customer:notifications-update' %}" method="post">
15 |             {% csrf_token %}
16 |             <table class="table table-striped table-bordered">
17 |                 <tbody>
18 |                     {% for notification in notifications %}
19 |                         <tr>
20 |                             <td>
21 |                                 <input type="checkbox" name="selected_notification"
22 |                                 value="{{ notification.id }}"/>
23 |                             </td>
24 |                             <td>
25 |                                 {% if notification.is_read %}
26 |                                     <i class="icon-inbox"></i>
27 |                                 {% else %}
28 |                                     <i class="icon-envelope"></i>
29 |                                 {% endif %}
30 |                             </td>
31 |                             <td>
32 |                                 {% if notification.is_read %}
33 |                                     {{ notification.subject|safe }} 
34 |                                 {% else %}
35 |                                     <strong>{{ notification.subject|safe }}</strong>
36 |                                 {% endif %}
37 |                                 <br/>
38 |                                 <em>{{ notification.date_sent }}</em>
39 |                             </td>
40 |                             <td>
41 |                                 <a href="{% url 'customer:notifications-detail' pk=notification.pk %}" class="btn btn-info btn-sm">{% trans 'View' %}</a>
42 |                                 {% if list_type == 'inbox' %}
43 |                                     <a class="btn btn-success btn-sm" href="#" data-behaviours="archive">{% trans 'Archive' context 'verb' %}</a>
44 |                                 {% endif %}
45 |                                 <a class="btn btn-danger btn-sm "href="#" data-behaviours="delete">{% trans 'Delete' %}</a>
46 |                             </td>
47 |                         </tr>
48 |                     {% endfor %}
49 |                 </tbody>
50 |             </table>
51 |             {% trans "With selected items:" %}
52 |             {% if list_type == 'inbox' %}
53 |                 <button type="submit" class="btn btn-success" name="action" value="archive" data-loading-text="{% trans 'Archiving...' %}">{% trans "Archive" context 'verb' %}</button>
54 |             {% endif %}
55 |             <button type="submit" class="btn btn-danger" name="action" value="delete" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button>
56 |         </form>
57 | 
58 |         {% include "oscar/partials/pagination.html" %}
59 | 
60 |     {% else %}
61 |         <p>{% trans "There are no notifications to display." %}</p>
62 |     {% endif %}
63 | 
64 | {% endblock tabcontent %}
65 | 
66 | {% block onbodyload %}
67 |     {{ block.super }}
68 |     oscar.notifications.init();
69 | {% endblock %}


# File: oscardropship/templates/oscar/customer/address/address_delete.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | 
 3 | 
 4 | {% load i18n %}
 5 | 
 6 | {% block extra_breadcrumbs %}
 7 |     <li>
 8 |         <a href="{% url 'customer:address-list' %}">{% trans 'Address book' %}</a>
 9 |     </li>
10 | {% endblock %}
11 | 
12 | {% block tabcontent %}
13 | <form method="post">
14 |     {% csrf_token %}
15 |     <p>{% trans 'Are you sure you want to delete this address?' %}</p>
16 | 
17 |     <p><strong>{{ object.summary }}</strong></p>
18 | 
19 |     <div class="form-group form-actions">
20 |         <button type="submit" class="btn btn-danger btn-lg" data-loading-text="{% trans 'Deleting...' %}">{% trans 'Delete' %}</button> {% trans 'or' %} <a href="{% url 'customer:address-list' %}">{% trans 'cancel' %}</a>
21 |     </div>
22 | </form>
23 | {% endblock tabcontent %}
24 | 


# File: oscardropship/templates/oscar/customer/address/address_form.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | 
 3 | 
 4 | {% load i18n %}
 5 | 
 6 | {% block extra_breadcrumbs %}
 7 |     <li>
 8 |         <a href="{% url 'customer:address-list' %}">{% trans 'Address book' %}</a>
 9 |     </li>
10 | {% endblock %}
11 | 
12 | {% block tabcontent %}
13 |     {% with style='horizontal' %}
14 |         {% include "oscar/partials/form.html" %}
15 |     {% endwith %}
16 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/customer/address/address_list.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block tabcontent %}
 5 | 
 6 |     {% if addresses %}
 7 |         <table class="table table-striped table-bordered">
 8 |             <tbody>
 9 |                 <tr>
10 |                     <th>{% trans 'Address' %}</th>
11 |                     <th></th>
12 |                 </tr>
13 |                 {% for address in addresses %}
14 |                     <tr>
15 |                         <td>
16 |                             {% if address.is_default_for_shipping %}
17 |                                 <span class="label label-success">{% trans 'Default shipping address' %}</span>
18 |                             {% endif %}
19 |                             {% if address.is_default_for_billing %}
20 |                                 <span class="label label-info">{% trans 'Default billing address' %}</span>
21 |                             {% endif %}
22 |                             <address>
23 |                                 {% for field in address.active_address_fields %}
24 |                                     {{ field }}</br>
25 |                                 {% endfor %}
26 |                             </address>
27 |                         </td>
28 |                         <td>
29 |                             <div class="btn-group">
30 |                                 <a class="btn btn-default" href="{% url 'customer:address-detail' pk=address.id %}">{% trans 'Edit' %}</a>
31 |                                 <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
32 |                                     <span class="caret"></span>
33 |                                 </button>
34 |                                 <ul class="dropdown-menu">
35 |                                     <li>
36 |                                         <a href="{% url 'customer:address-delete' pk=address.id %}">
37 |                                             {% trans 'Delete' %}
38 |                                         </a>
39 |                                     </li>
40 | 
41 |                                     {% if address.country.is_shipping_country and not address.is_default_for_shipping %}
42 |                                         <li>
43 |                                             <a href="{% url 'customer:address-change-status' pk=address.id action='default_for_shipping' %}">
44 |                                                 {% trans 'Set as default shipping address' %}
45 |                                             </a>
46 |                                         </li>
47 |                                     {% endif %}
48 |                                     {% if not address.is_default_for_billing %}
49 |                                         <li>
50 |                                             <a href="{% url 'customer:address-change-status' pk=address.id action='default_for_billing' %}">
51 |                                                 {% trans 'Set as default billing address' %}
52 |                                             </a>
53 |                                         </li>
54 |                                     {% endif %}
55 |                                 </ul>
56 |                             </div>
57 |                         </td>
58 |                     </tr>
59 |                 {% endfor %}
60 |             </tbody>
61 |         </table>
62 |         {% include "oscar/partials/pagination.html" %}
63 |     {% else %}
64 |         <p>{% trans 'There are no addresses in your address book.' %}</p>
65 |     {% endif %}
66 |     <p>
67 |         <a href="{% url 'customer:address-create' %}" class="btn btn-primary">{% trans 'Add a new address' %}</a>
68 |     </p>
69 | {% endblock tabcontent %}
70 | 


# File: oscardropship/templates/oscar/customer/alerts/alert_list.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block tabcontent %}
 5 |     {% if not alerts %}
 6 |         <p>{% trans "You do not have any active alerts for out-of-stock products." %}</p>
 7 |     {% else %}
 8 |         <form method="post" id="alerts_form">
 9 |             {% csrf_token %}
10 |             <table class="table table-striped table-bordered">
11 |                 <tr>
12 |                     <th>{% trans "Product" %}</th>
13 |                     <th>{% trans "Status" %}</th>
14 |                     <th>{% trans "Date created" %}</th>
15 |                     <th></th>
16 |                 </tr>
17 | 
18 |                 {% for alert in alerts %}
19 |                     <tr>
20 |                         <td>
21 |                             {% with product=alert.product %}
22 |                                 {% if product.is_public %}
23 |                                     <a href="{{ product.get_absolute_url }}">{{ product.get_title }}</a>
24 |                                 {% else %}
25 |                                     {{ product.get_title }}
26 |                                 {% endif %}
27 |                             {% endwith %}
28 |                         </td>
29 |                         <td>{{ alert.status }}</td>
30 |                         <td>{{ alert.date_created }}</td>
31 |                         <td>
32 |                             {% if alert.can_be_cancelled %}
33 |                                 <a href="{% url 'customer:alerts-cancel-by-pk' pk=alert.pk %}?next={% url 'customer:alerts-list' %}" class="btn btn-danger">{% trans "Cancel" %}</a>
34 |                             {% endif %}
35 |                         </td>
36 |                     </tr>
37 |                 {% endfor %}
38 |             </table>
39 |             {% include "oscar/partials/pagination.html" %}
40 |         </form>
41 |     {% endif %}
42 | 
43 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/customer/alerts/form.html

1 | {% extends 'oscar/catalogue/detail.html' %}


# File: oscardropship/templates/oscar/customer/alerts/message.html

1 | {% load i18n %}
2 | {% blocktrans with url=alert.product.get_absolute_url title=alert.product.get_title %}
3 | <a href="{{ url }}">{{ title }}</a> is back in stock
4 | {% endblocktrans %}


# File: oscardropship/templates/oscar/customer/alerts/message_subject.html

1 | {% load i18n %}
2 | {% blocktrans with title=alert.product.get_title|truncatechars:200 %}
3 | {{ title }} is back in stock
4 | {% endblocktrans %}


# File: oscardropship/templates/oscar/customer/history/recently_viewed_products.html

 1 | {% load i18n %}
 2 | {% load product_tags %}
 3 | 
 4 | {% with products_sliced=products|slice:":6" %}
 5 |     {% if products_sliced %}
 6 |         <div class="sub-header">
 7 |             <h2>{% trans 'Products you recently viewed' %}</h2>
 8 |         </div>
 9 | 
10 |         <ul class="row">
11 |             {% for product in products_sliced %}
12 |                 <li class="col-xs-6 col-sm-4 col-md-3 col-lg-3">{% render_product product %}</li>
13 |             {% endfor %}
14 |         </ul>
15 |     {% endif %}
16 | {% endwith %}


# File: oscardropship/templates/oscar/customer/order/order_detail.html

  1 | {% extends "oscar/customer/baseaccountpage.html" %}
  2 | {% load currency_filters %}
  3 | {% load display_tags %}
  4 | {% load i18n %}
  5 | {% load reviews_tags %}
  6 | 
  7 | {% block extra_breadcrumbs %}
  8 |     <li>
  9 |         <a href="{% url 'customer:order-list' %}">{% trans 'Order history' %}</a>
 10 |     </li>
 11 | {% endblock %}
 12 | 
 13 | {% block tabcontent %}
 14 |     {% if order.status %}
 15 |     <h2>{% trans 'Status' %}</h2>
 16 |     <p>{{ order.status }}</p>
 17 |     <hr>
 18 |     {% endif %}
 19 | 
 20 |     <table class="table table-striped table-bordered">
 21 |         <thead>
 22 |             <tr>
 23 |                 <th>{% trans 'Product' %}</th>
 24 |                 <th>{% trans 'Dispatch date' %}</th>
 25 |                 <th>{% trans 'Qty' %}</th>
 26 |                 <th>{% trans 'Line price excl. tax' %}</th>
 27 |                 <th>{% trans 'Line price incl. tax' %}</th>
 28 |                 <th></th>
 29 |             </tr>
 30 |         </thead>
 31 |         <tbody>
 32 |             {% for line in order.lines.all %}
 33 |                 {% with product=line.product %}
 34 |                     <tr>
 35 |                         <td>
 36 |                             {% if product %}
 37 | 
 38 |                                 {% if product.is_public %}
 39 |                                 <p>
 40 |                                     <a href="{{ product.get_absolute_url }}">{{ line.description }}</a>
 41 |                                 </p>
 42 |                                 {% else %}
 43 |                                 <p>{{ line.description }}</p>
 44 |                                 {% endif %}
 45 | 
 46 |                                 {% iffeature "reviews" %}
 47 |                                     {% if product|is_review_permitted:user %}
 48 |                                         <a class="btn btn-default" href="{% url 'catalogue:reviews-add' product_slug=product.slug product_pk=product.id %}#addreview">{% trans 'Write a review' %}</a>
 49 |                                     {% endif %}
 50 |                                 {% endiffeature %}
 51 |                             {% else %}
 52 |                                 <p>
 53 |                                     {{ line.description }}
 54 |                                 </p>
 55 |                             {% endif %}
 56 |                         </td>
 57 |                         <td>{{ line.est_dispatch_date|default:"-" }}</td>
 58 |                         <td>{{ line.quantity }}</td>
 59 |                         <td>{{ line.line_price_before_discounts_excl_tax|currency:order.currency }}</td>
 60 |                         <td>{{ line.line_price_before_discounts_incl_tax|currency:order.currency }}</td>
 61 |                         <td width="90">
 62 |                             {% if product and product.is_public %}
 63 |                                 <form id="line_form_{{ line.id }}" action="{% url 'customer:order-line' order_number=order.number line_id=line.id %}" method="POST">
 64 |                                     {% csrf_token %}
 65 |                                     <input type="hidden" name="action" value="reorder" />
 66 |                                     <button id="reorder_line_{{ line.id }}" class="btn btn-success" type="submit" data-loading-text="{% trans 'Re-ordering...' context 'Buy again' %}">{% trans 'Re-order' context 'Buy again' %}</button>
 67 |                                 </form>
 68 |                             {% else %}
 69 |                                 {% trans 'Not available anymore' %}
 70 |                             {% endif %}
 71 |                         </td>
 72 |                     </tr>
 73 |                 {% endwith %}
 74 |             {% endfor %}
 75 | 
 76 |             {% with discounts=order.basket_discounts %}
 77 |                 {% block discount_totals %}
 78 |                     {% if discounts %}
 79 |                         <tr>
 80 |                             <td colspan="4">{% trans "Basket total (excl. discounts)" %}</td>
 81 |                             <td colspan="2">{{ order.basket_total_before_discounts_incl_tax|currency:order.currency }}</td>
 82 |                         </tr>
 83 |                         {% for discount in discounts %}
 84 |                         <tr>
 85 |                             <td colspan="4">
 86 |                                 <span class="label label-success">{% trans "Discount" %}</span>
 87 |                                 {{ discount.offer_name }}
 88 |                             </td>
 89 |                             <td colspan="2">- {{ discount.amount|currency:order.currency }}</td>
 90 |                         </tr>
 91 |                         {% endfor %}
 92 |                     {% endif %}
 93 |                 {% endblock discount_totals %}
 94 | 
 95 |                 {% block basket_total %}
 96 |                     {% if discounts %}
 97 |                         <tr>
 98 |                             <th colspan="4">{% trans "Basket total (inc. discounts)" %}</th>
 99 |                             <td colspan="2">{{ order.basket_total_incl_tax|currency:order.currency }}</td>
100 |                         </tr>
101 |                     {% else %}
102 |                         <tr>
103 |                             <th colspan="4">{% trans "Basket total" %}</th>
104 |                             <td colspan="2">{{ order.basket_total_incl_tax|currency:order.currency }}</td>
105 |                         </tr>
106 |                     {% endif %}
107 |                 {% endblock basket_total %}
108 |             {% endwith %}
109 | 
110 |             {% block shipping_totals %}
111 |                 {% if order.has_shipping_discounts %}
112 |                     <tr>
113 |                         <td colspan="4">{% trans "Shipping total (excl. discounts)" %}</td>
114 |                         <td colspan="2">{{ order.shipping_before_discounts_incl_tax|currency:order.currency }}</td>
115 |                     </tr>
116 |                     {% for discount in order.shipping_discounts %}
117 |                     <tr>
118 |                         <td colspan="4">
119 |                             <span class="label label-success">{% trans "Discount" %}</span>
120 |                             {{ discount.offer_name }}
121 |                         </td>
122 |                         <td colspan="2">- {{ discount.amount|currency:order.currency }}</td>
123 |                     </tr>
124 |                     {% endfor %}
125 |                     <tr>
126 |                         <th colspan="4">{% trans "Shipping total (inc. discounts)" %}</th>
127 |                         <td colspan="2">{{ order.shipping_incl_tax|currency:order.currency }}</td>
128 |                     </tr>
129 |                 {% else %}
130 |                     <tr>
131 |                         <th colspan="4">{% trans "Shipping total" %}</th>
132 |                         <td colspan="2">{{ order.shipping_incl_tax|currency:order.currency }}</td>
133 |                     </tr>
134 |                 {% endif %}
135 |             {% endblock %}
136 | 
137 |             {% block order_total %}
138 |                 <tr>
139 |                     <th colspan="4">{% trans 'Order total' %}</th>
140 |                     <td colspan="2">{{ order.total_incl_tax|currency:order.currency }}</td>
141 |                 </tr>
142 |             {% endblock order_total %}
143 |         </tbody>
144 |     </table>
145 | 
146 |     {% block order_actions %}
147 |         <form id="order_form_{{ order.id }}" action="{% url 'customer:order' order_number=order.number %}" method="post">
148 |             {% csrf_token %}
149 |             <input type="hidden" name="order_id" value="{{ order.id }}" />
150 |             <input type="hidden" name="action" value="reorder" />
151 |             <button type="submit" class="btn btn-success" data-loading-text="{% trans 'Re-ordering...' context 'Buy again' %}">{% trans 'Re-order all items' context 'Buy again' %}</button>
152 |         </form>
153 |     {% endblock order_actions %}
154 | 
155 |     <hr>
156 | 
157 |     <h2>{% trans 'Shipping Method' %}</h2>
158 |     <p>{{ order.shipping_method }}</p>
159 | 
160 |     <hr>
161 | 
162 |     <h2>{% trans 'Shipping Address' %}</h2>
163 | 
164 |     <table class="table table-striped table-bordered">
165 |         <tr>
166 |             <th>{% trans 'Address' %}</th>
167 |             <th>{% trans 'Contact Number' %}</th>
168 |             <th>{% trans 'Shipping Notes' %}</th>
169 |         </tr>
170 |         <tr>
171 |             <td>
172 |                     {% for field in order.shipping_address.active_address_fields %}
173 |                         {{ field }}<br/>
174 |                     {% endfor %}
175 |             </td>
176 |             <td>{{ order.shipping_address.phone_number|default:"-" }}</td>
177 |             <td>{{ order.shipping_address.notes|linebreaks }}</td>
178 |         </tr>
179 |     </table>
180 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/customer/order/order_list.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | {% load static %}
 5 | 
 6 | {% block styles %}
 7 |     {{ block.super }}
 8 |     <link rel="stylesheet" href="{% static "oscar/js/bootstrap-datetimepicker/bootstrap-datetimepicker.min.css" %}" />
 9 |     <link rel="stylesheet" type="text/css" href="{% static "oscar/css/datetimepicker.css" %}" />
10 | {% endblock %}
11 | 
12 | {% block scripts %}
13 |     {{ block.super }}
14 |     <script src="{% static "oscar/js/bootstrap-datetimepicker/bootstrap-datetimepicker.min.js" %}"></script>
15 |     <script src="{% static "oscar/js/bootstrap-datetimepicker/locales/bootstrap-datetimepicker.all.js" %}"></script>
16 | {% endblock %}
17 | 
18 | 
19 | {% block breadcrumbs %}
20 |     <ul class="breadcrumb">
21 |         <li>
22 |             <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
23 |         </li>
24 |         <li>
25 |             <a href="{% url 'customer:summary' %}">{% trans 'Account' %}</a>
26 |         </li>
27 |         <li class="active">{% trans 'Order history' %}</li>
28 |     </ul>
29 | {% endblock %}
30 | 
31 | {% block tabcontent %}
32 | 
33 |     {% if orders or form.is_bound %}
34 |         <div class="well">
35 |             <h2>{% trans "Filter" %}</h2>
36 |             <form method="get" class="form-horizontal">
37 |                 {% include "oscar/partials/form_fields.html" with form=form style='horizontal' %}
38 |                 <div class="form-group">
39 |                     <div class="col-sm-offset-4 col-sm-8">
40 |                         <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Filtering...' %}">{% trans 'Filter results' %}</button>
41 |                         <a href="{% url 'customer:order-list' %}" class="btn btn-default">{% trans 'Reset' %}</a>
42 |                     </div>
43 |                 </div>
44 |             </form>
45 |         </div>
46 |     {% endif %}
47 | 
48 |     {% if orders %}
49 |         <h2>{{ form.description }}</h2>
50 |         <table class="table table-striped table-bordered">
51 |             <tr>
52 |                 <th>{% trans "Order number" %}</th>
53 |                 <th>{% trans "Num items" %}</th>
54 |                 <th>{% trans "Total inc tax" %}</th>
55 |                 <th>{% trans "Date submitted" %}</th>
56 |             </tr>
57 |             {% for order in orders %}
58 |                 <tr>
59 |                     <td><a href="{% url 'customer:order' order_number=order.number %}">{{ order.number }}</a></td>
60 |                     <td>{{ order.num_items }}</td>
61 |                     <td>{{ order.total_incl_tax|currency:order.currency }}</td>
62 |                     <td>{{ order.date_placed }}</td>
63 |                 </tr>
64 |             {% endfor %}
65 |         </table>
66 |         {% include "oscar/partials/pagination.html" %}
67 |     {% else %}
68 |         {% if form.is_bound %}
69 |             <p>{% trans "No orders match your search." %}</p>
70 |         {% else %}
71 |             <p>{% trans "You haven't placed any orders." %}</p>
72 |         {% endif %}
73 |     {% endif %}
74 | 
75 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/customer/partials/nav_account.html

 1 | {% load i18n %}
 2 | 
 3 | <div class="navbar nav-profile">
 4 |     <div class="navbar-inner">
 5 |         <div class="container">
 6 | 
 7 |             <!-- .navbar-btn is used as the toggle for collapsed navbar content -->
 8 |             <a class="btn navbar-btn" data-toggle="collapse" data-target=".profile-collapse">
 9 |                 <span class="icon-bar"></span>
10 |                 <span class="icon-bar"></span>
11 |                 <span class="icon-bar"></span>
12 |             </a>
13 | 
14 |             <span class="brand visible-sm" href="#">{{ page_title }}</span>
15 | 
16 |             <div class="navbar-collapse profile-collapse">
17 |                 <ul class="nav nav-tabs">
18 |                     {% block standard_tabs %}
19 |                         {% include 'oscar/customer/partials/standard_tabs.html' %}
20 |                     {% endblock %}
21 |                     {% block extra_tabs %}
22 |                     {% endblock %}
23 |                 </ul>
24 |             </div>
25 |         </div>
26 |     </div>
27 | </div>


# File: oscardropship/templates/oscar/customer/partials/standard_tabs.html

 1 | {% load i18n %}
 2 | {% load display_tags %}
 3 | 
 4 | <li{% if active_tab == 'profile' %} class="active"{% endif %}>
 5 |     <a href="{% url 'customer:profile-view' %}">{% trans "Profile" %}</a>
 6 | </li>
 7 | <li{% if active_tab == 'orders' %} class="active"{% endif %}>
 8 |     <a href="{% url 'customer:order-list' %}">{% trans "Order History" %}</a>
 9 | </li>
10 | <li{% if active_tab == 'addresses' %} class="active"{% endif %}>
11 |     <a href="{% url 'customer:address-list' %}">{% trans "Address Book" %}</a>
12 | </li>
13 | <li{% if active_tab == 'emails' %} class="active"{% endif %}>
14 |     <a href="{% url 'customer:email-list' %}">{% trans "Email History" %}</a>
15 | </li>
16 | <li{% if active_tab == 'alerts' %} class="active"{% endif %}>
17 |     <a href="{% url 'customer:alerts-list' %}">{% trans "Product Alerts" %}</a>
18 | </li>
19 | <li{% if active_tab == 'notifications' %} class="active"{% endif %}>
20 |     <a href="{% url 'customer:notifications-inbox' %}">{% trans "Notifications" %}</a>
21 | </li>
22 | {% iffeature 'wishlists' %}
23 |     <li{% if active_tab == 'wishlists' %} class="active"{% endif %}>
24 |         <a href="{% url 'customer:wishlists-list' %}">{% trans "Wish Lists" %}</a>
25 |     </li>
26 | {% endiffeature %}


# File: oscardropship/templates/oscar/customer/profile/change_password_form.html

1 | {% extends "oscar/customer/baseaccountpage.html" %}
2 | {% load i18n %}
3 | 
4 | {% block tabcontent %}
5 |     {% include 'oscar/partials/form.html' with form_id="change_password_form" %}
6 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/customer/profile/profile.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block tabcontent %}
 6 |     <table class="table table-striped table-bordered">
 7 |         <tbody>
 8 |             <tr>
 9 |                 <th>{% trans 'Name' %}</th>
10 |                 <td>{{ user.get_full_name|default:'-' }}</td>
11 |             </tr>
12 |             <tr>
13 |                 <th>{% trans 'Email address' %}</th>
14 |                 <td>{{ user.email }}</td>
15 |             </tr>
16 |             {% block profile_fields %}
17 |                 {% for field in profile_fields %}
18 |                     <tr>
19 |                         <th>{{ field.name }}</th>
20 |                         <td>{{ field.value|default:"-" }}</td>
21 |                     </tr>
22 |                 {% endfor %}
23 |             {% endblock %}
24 |             <tr>
25 |                 <th>{% trans 'Date registered' %}</th>
26 |                 <td>{{ user.date_joined }}</td>
27 |             </tr>
28 |         </tbody>
29 |     </table>
30 | 
31 |     <a href="{% url 'customer:change-password' %}" class="btn btn-primary">{% trans 'Change password' %}</a>
32 |     <a href="{% url 'customer:profile-update' %}" class="btn btn-primary">{% trans 'Edit profile' %}</a>
33 |     <a id="delete_profile" href="{% url 'customer:profile-delete' %}" class="btn btn-danger">{% trans 'Delete profile' %}</a>
34 | 
35 | {% endblock %}


# File: oscardropship/templates/oscar/customer/profile/profile_delete.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block tabcontent %}
 5 |     <p>{% trans "Please confirm your password to delete your profile." %}</p>
 6 |     <form id="delete_profile_form" method="post" class="form-horizontal">
 7 |         {% csrf_token %}
 8 |         {% include "oscar/partials/form_fields.html" %}
 9 |         <div class="alert alert-warning">
10 |             <h3>{% trans "Warning" %}</h3>
11 |             {% blocktrans %}
12 |                 This will delete all information about you from the site.  Deleting your profile cannot be
13 |                 undone.
14 |             {% endblocktrans %}
15 |         </div>
16 |         <div class="form-group">
17 |             <button class="btn btn-lg btn-danger" type="submit" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button>
18 |             {% trans "or" %} <a href="{% url "customer:profile-view" %}">{% trans "cancel" %}</a>.
19 |         </div>
20 |     </form>
21 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/customer/profile/profile_form.html

1 | {% extends "oscar/customer/baseaccountpage.html" %}
2 | {% load i18n %}
3 | 
4 | {% block tabcontent %}
5 |     {% include 'oscar/partials/form.html' with form_id="profile_form" %}
6 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/customer/wishlists/wishlists_delete.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block breadcrumbs %}
 5 |     <ul class="breadcrumb">
 6 |         <li>
 7 |             <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
 8 |         </li>
 9 |         <li>
10 |             <a href="{% url 'customer:summary' %}">{% trans 'Account' %}</a>
11 |         </li>
12 |         <li>
13 |             <a href="{% url 'customer:wishlists-list' %}">{% trans 'Wish Lists' %}</a>
14 |         </li>
15 |         <li>
16 |             <a href="{% url 'customer:wishlists-detail' key=wishlist.key %}">{{ wishlist.name }}</a>
17 |         </li>
18 |         <li class="active">{% trans "Delete?" %}</li>
19 |     </ul>
20 | {% endblock %}
21 | 
22 | {% block tabcontent %}
23 |     <form method="post">
24 |         {% csrf_token %}
25 |         <p>
26 |             {% blocktrans with name=wishlist.name %}
27 |                 Are you sure you want to delete {{ name }}?
28 |             {% endblocktrans %}
29 |         </p>
30 | 
31 |         <div class="form-group">
32 |             <button type="submit" class="btn btn-danger btn-lg" data-loading-text="{% trans 'Deleting...' %}">{% trans 'Delete' %}</button> {% trans 'or' %} <a href="{% url 'customer:wishlists-list' %}">{% trans 'cancel' %}</a>
33 |         </div>
34 |     </form>
35 | {% endblock tabcontent %}
36 | 


# File: oscardropship/templates/oscar/customer/wishlists/wishlists_delete_product.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block breadcrumbs %}
 5 |     <ul class="breadcrumb">
 6 |         <li>
 7 |             <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
 8 |         </li>
 9 |         <li>
10 |             <a href="{% url 'customer:summary' %}">{% trans 'Account' %}</a>
11 |         </li>
12 |         <li>
13 |             <a href="{% url 'customer:wishlists-list' %}">{% trans 'Wish Lists' %}</a>
14 |         </li>
15 |         <li>
16 |             <a href="{% url 'customer:wishlists-detail' key=wishlist.key %}">{{ wishlist.name }}</a>
17 |         </li>
18 |         <li class="active">{% trans "Remove product" %}</li>
19 |     </ul>
20 | {% endblock %}
21 | 
22 | {% block tabcontent %}
23 |     <form method="post">
24 |         {% csrf_token %}
25 |         <p>
26 |             {% blocktrans with product_name=object.get_title wishlist_name=wishlist.name %}
27 |                 Are you sure you want to delete {{ product_name }} from wish list {{ wishlist_name }}?
28 |             {% endblocktrans %}
29 |         </p>
30 | 
31 |         <div class="form-group">
32 |             <button type="submit" class="btn btn-lg btn-danger" data-loading-text="{% trans 'Removing...' %}">{% trans 'Remove' %}</button> {% trans 'or' %} <a href="{{ wishlist.get_absolute_url }}">{% trans 'cancel' %}</a>
33 |         </div>
34 |     </form>
35 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/customer/wishlists/wishlists_detail.html

  1 | {% extends "oscar/customer/baseaccountpage.html" %}
  2 | {% load image_tags %}
  3 | {% load i18n %}
  4 | {% load widget_tweaks %}
  5 | 
  6 | {% block breadcrumbs %}
  7 |     <ul class="breadcrumb">
  8 |         <li>
  9 |             <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
 10 |         </li>
 11 |         <li>
 12 |             <a href="{% url 'customer:summary' %}">{% trans 'Account' %}</a>
 13 |         </li>
 14 |         <li>
 15 |             <a href="{% url 'customer:wishlists-list' %}">{% trans 'Wish Lists' %}</a>
 16 |         </li>
 17 |         <li class="active">
 18 |             {{ wishlist.name }}
 19 |         </li>
 20 |     </ul>
 21 | {% endblock %}
 22 | 
 23 | {% block tabcontent %}
 24 |     {% if form.total_form_count %}
 25 |         <form class="stacked" method="post">
 26 |             {{ form.management_form }}
 27 |             {% csrf_token %}
 28 |             <table class="table table-striped table-bordered">
 29 |                 <tbody>
 30 |                     <tr>
 31 |                         <th colspan="2">{% trans 'Product' %}</th>
 32 |                         <th>{% trans 'Quantity' %}</th>
 33 |                         <th>{% trans 'Action' %}</th>
 34 |                     </tr>
 35 | 
 36 |                     {% for subform in form %}
 37 |                         {% with line=subform.instance product=subform.instance.product %}
 38 |                             <tr>
 39 |                                 <td>
 40 |                                     {% if product %}
 41 |                                         {% with image=product.primary_image %}
 42 |                                             {% oscar_thumbnail image.original "100x100" upscale=False as thumb %}
 43 |                                             {% if product.is_public %}
 44 |                                                 <a href="{{ product.get_absolute_url }}">
 45 |                                                     <img class="thumbnail" src="{{ thumb.url }}" alt="{{ product.get_title }}" />
 46 |                                                 </a>
 47 |                                             {% else %}
 48 |                                                 <img class="thumbnail" src="{{ thumb.url }}" alt="{{ product.get_title }}" />
 49 |                                             {% endif %}
 50 |                                         {% endwith %}
 51 |                                     {% endif %}
 52 |                                 </td>
 53 |                                 <td>
 54 |                                     {% if product and product.is_public %}
 55 |                                         <a href="{{ line.product.get_absolute_url }}">{{ line.get_title }}</a>
 56 |                                     {% else %}
 57 |                                         <em>{{ line.get_title }} ({% trans 'Not available anymore' %})</em>
 58 |                                     {% endif %}
 59 |                                 </td>
 60 |                                 <td>
 61 |                                     {% for field in subform %}
 62 |                                         {% render_field field class+="form-control" %}
 63 |                                         {% for error in field.errors %}
 64 |                                             <ul class="error-block">
 65 |                                                 <li>{{ error }}</li>
 66 |                                             </ul>
 67 |                                         {% endfor %}
 68 |                                     {% endfor %}
 69 |                                 </td>
 70 |                                 <td>
 71 |                                     <div class="btn-group">
 72 |                                         {% if product %}
 73 |                                             <a class="btn btn-default" href="{{ line.product.get_absolute_url }}">{% trans 'View product' %}</a>
 74 |                                             <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
 75 |                                                 <span class="caret"></span>
 76 |                                             </button>
 77 |                                         {% else %}
 78 |                                             <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#">
 79 |                                                 {% trans 'Actions' %}
 80 |                                                 <span class="caret"></span>
 81 |                                             </a>
 82 |                                         {% endif %}
 83 |                                         <ul class="dropdown-menu">
 84 |                                             <li><a href="{% url 'customer:wishlists-remove-product' key=wishlist.key line_pk=line.pk %}">
 85 |                                                     {% trans 'Remove' %}
 86 |                                             </a></li>
 87 |                                             {% for other_wishlist in other_wishlists %}
 88 |                                                 <li><a href="{% url 'customer:wishlists-move-product-to-another' key=wishlist.key line_pk=line.pk to_key=other_wishlist.key %}">
 89 |                                                         {% blocktrans with name=other_wishlist.name %}
 90 |                                                             Move to '{{ name }}' wish list
 91 |                                                         {% endblocktrans %}
 92 |                                                 </a></li>
 93 |                                             {% endfor %}
 94 |                                         </ul>
 95 |                                     </div>
 96 |                                 </td>
 97 |                             </tr>
 98 |                         {% endwith %}
 99 |                     {% endfor %}
100 |                     <tr>
101 |                         <td colspan="2"></td>
102 |                         <td>
103 |                             <button class="btn btn-primary" type="submit" data-loading-text="{% trans 'Updating...' %}">{% trans "Update quantities" %}</button>
104 |                         </td>
105 |                         <td></td>
106 |                     </tr>
107 |                 </tbody>
108 |             </table>
109 |         </form>
110 | 
111 |     {% else %}
112 |         {% trans "Your wish list is empty." %}
113 |     {% endif %}
114 | 
115 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/customer/wishlists/wishlists_form.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block breadcrumbs %}
 5 |     <ul class="breadcrumb">
 6 |         <li>
 7 |             <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
 8 |         </li>
 9 |         <li>
10 |             <a href="{% url 'customer:summary' %}">{% trans 'Account' %}</a>
11 |         </li>
12 |         <li>
13 |             <a href="{% url 'customer:wishlists-list' %}">{% trans 'Wish Lists' %}</a>
14 |         </li>
15 |         <li class="active">
16 |             {% if wishlist %}
17 |                 {{ wishlist.name }}
18 |             {% else %}
19 |                 {% trans "Create" %}
20 |             {% endif %}
21 |         </li>
22 |     </ul>
23 | {% endblock %}
24 | 
25 | {% block tabcontent %}
26 |     <form method="post" data-behaviours="lock">
27 |         {% csrf_token %}
28 |         {% if not wishlist %}
29 |             <p>{% trans "What should your new wish list be called?" %}</p>
30 |         {% endif %}
31 |         {% include "oscar/partials/form_fields.html" %}
32 |         {% if product %}
33 |             <p>
34 |                 {% blocktrans with title=product.get_title %}
35 |                     After your wishlist is created, <strong>{{ title }}</strong> will be added.
36 |                 {% endblocktrans %}
37 |             </p>
38 |         {% endif %}
39 |         <div class="form-group">
40 |             <button class="btn btn-lg btn-primary" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button>
41 |             {% trans "or" %} <a href="#" onclick="history.go(-1);return false" >{% trans "cancel" %}</a>.
42 |         </div>
43 |     </form>
44 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/customer/wishlists/wishlists_list.html

 1 | {% extends "oscar/customer/baseaccountpage.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block tabcontent %}
 5 |     {% if wishlists %}
 6 |         <table class="table table-striped table-bordered">
 7 |             <tbody>
 8 |                 <tr>
 9 |                     <th>{% trans 'Name' %}</th>
10 |                     <th>{% trans 'Number of products' %}</th>
11 |                     <th>{% trans 'Action' %}</th>
12 |                 </tr>
13 |                 {% for wishlist in wishlists %}
14 |                     <tr>
15 |                         <td><a href="{% url 'customer:wishlists-detail' key=wishlist.key %}">{{ wishlist.name }}</a></td>
16 |                         <td>{{ wishlist.lines.count }}</td>
17 |                         <td>
18 |                             <div class="btn-group">
19 |                                 <a class="btn btn-default" href="{% url 'customer:wishlists-detail' key=wishlist.key %}">{% trans 'View' %}</a>
20 |                                 <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
21 |                                     <span class="caret"></span>
22 |                                 </button>
23 |                                 <ul class="dropdown-menu">
24 |                                     <li>
25 |                                         <a href="{% url 'customer:wishlists-update' key=wishlist.key %}">
26 |                                             {% trans 'Wish list settings' %}
27 |                                         </a>
28 |                                     </li>
29 |                                     <li>
30 |                                         <a href="{% url 'customer:wishlists-delete' key=wishlist.key %}">
31 |                                             {% trans 'Delete' %}
32 |                                         </a>
33 |                                     </li>
34 |                                 </ul>
35 |                             </div>
36 |                         </td>
37 |                     </tr>
38 |                 {% endfor %}
39 |             </tbody>
40 |         </table>
41 |         {% include "oscar/partials/pagination.html" %}
42 |     {% else %}
43 |         <p>
44 |             {% trans "You don't have any wish lists yet." %}
45 |         </p>
46 |     {% endif %}
47 | 
48 |     <p>
49 |         <a href="{% url 'customer:wishlists-create' %}" class="btn btn-primary">{% trans 'Create a new wish list' %}</a>
50 |     </p>
51 | 
52 | {% endblock tabcontent %}


# File: oscardropship/templates/oscar/customer/anon_order.html

  1 | {% extends "oscar/layout.html" %}
  2 | {% load currency_filters %}
  3 | {% load i18n %}
  4 | {% load reviews_tags %}
  5 | {% load display_tags %}
  6 | 
  7 | {% block headertext %}
  8 |     {% blocktrans with number=order.number %}Order #{{ number }}{% endblocktrans %}
  9 | {% endblock %}
 10 | 
 11 | {% block content %}
 12 |     {% if order.status %}
 13 |         <div class="sub-header">
 14 |             <h3>{% trans 'Status' %}</h3>
 15 |         </div>
 16 |         <p>{{ order.status }}</p>
 17 |     {% endif %}
 18 | 
 19 |     {% with address=order.shipping_address %}
 20 |         <div class="sub-header">
 21 |             <h3>{% trans 'Shipping address' %}</h3>
 22 |         </div>
 23 |         <table class="table table-striped table-bordered">
 24 |             <tr>
 25 |                 <th>{% trans 'Address' %}</th>
 26 |                 <td>
 27 |                     {% for field in address.active_address_fields %}
 28 |                         {{ field }}<br/>
 29 |                     {% endfor %}
 30 |                 </td>
 31 |             </tr>
 32 |             {% if address.phone_number %}
 33 |                 <tr>
 34 |                     <th>{% trans 'Contact number' %}</th>
 35 |                     <td>{{ address.phone_number }}</td>
 36 |                 </tr>
 37 |             {% endif %}
 38 |             {% if address.notes %}
 39 |                 <tr>
 40 |                     <th>{% trans 'Notes' %}</th>
 41 |                     <td>{{ address.notes|linebreaks }}</td>
 42 |                 </tr>
 43 |             {% endif %} 
 44 |         </table>
 45 |     {% endwith %}
 46 | 
 47 |     <div class="sub-header">
 48 |         <h3>{% trans 'Shipping method' %}</h3>
 49 |     </div>
 50 |     <p>{{ order.shipping_method }}</p>
 51 | 
 52 |     <div class="sub-header">
 53 |         <h3>{% trans 'Order contents' %}</h3>
 54 |     </div>
 55 |     {% csrf_token %}
 56 |     <table class="table table-striped table-bordered">
 57 |         <tr>
 58 |             <th>{% trans 'Product' %}</th>
 59 |             <th>{% trans 'Status' %}</th>
 60 |             <th>{% trans 'Estimated dispatch date' %}</th>
 61 |             <th>{% trans 'Quantity' %}</th>
 62 |             <th>{% trans 'Line price excl. tax' %}</th>
 63 |             <th>{% trans 'Line price incl. tax' %}</th>
 64 |             {% iffeature "reviews" %}
 65 |                 <th></th>
 66 |             {% endiffeature %}
 67 |         </tr>
 68 |         {% for line in order.lines.all %}
 69 |             <tr>
 70 |                 <td>
 71 |                     {% if product.is_public %}
 72 |                         <a href="{{ line.product.get_absolute_url }}">{{ line.description }}</a>
 73 |                     {% else %}
 74 |                         {{ line.description }}
 75 |                     {% endif %}
 76 |                 </td>
 77 |                 <td>{{ line.shipping_status|default:"-" }}</td>
 78 |                 <td>{{ line.est_dispatch_date|default:"-" }}</td>
 79 |                 <td>{{ line.quantity }}</td>
 80 |                 <td>{{ line.line_price_before_discounts_excl_tax|currency:order.currency }}</td>
 81 |                 <td>{{ line.line_price_before_discounts_incl_tax|currency:order.currency }}</td>
 82 |                 {% iffeature "reviews" %}
 83 |                     <td>
 84 |                         {% if line.product|is_review_permitted:user %}
 85 |                             <a href="{% url 'catalogue:reviews-add' product_slug=line.product.slug product_pk=line.product.id %}" class="btn btn-primary">{% trans 'Write a review' %}</a>
 86 |                         {% endif %}
 87 |                     </td>
 88 |                 {% endiffeature %}
 89 |             </tr>
 90 |         {% endfor %}
 91 |         {% for discount in order.discounts.all %}
 92 |             <tr>
 93 |                 <td colspan="5">{{ discount.description }}</td>
 94 |                 <td>-{{ discount.amount|currency:order.currency }}</td>
 95 |                 <td colspan="1"></td>
 96 |             </tr>
 97 |         {% endfor %}
 98 |     </table>
 99 | 
100 |     <table class="table table-striped table-bordered">
101 |         <caption>{% trans 'Totals' %}</caption>
102 |         <tr>
103 |             <th>{% trans 'Basket total (inc. tax)' %}</th>
104 |             <td>{{ order.basket_total_incl_tax|currency:order.currency }}</td>
105 |         </tr>
106 |         <tr>
107 |             <th>{% trans 'Shipping charge (inc. tax)' %}</th>
108 |             <td>{{ order.shipping_incl_tax|currency:order.currency }}</td>
109 |         </tr>
110 |         <tr>
111 |             <th>{% trans 'Order total' %}</th>
112 |             <td>{{ order.total_incl_tax|currency:order.currency }}</td>
113 |         </tr>
114 |     </table>
115 | 
116 | {% endblock content %}


# File: oscardropship/templates/oscar/customer/baseaccountpage.html

 1 | {% extends "oscar/layout_2_col.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}
 6 |     {{ page_title }} | {% trans 'Account' %} | {{ block.super }}
 7 | {% endblock %}
 8 | 
 9 | {% block body_class %}account-profile{% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'customer:summary' %}">{% trans 'Account' %}</a>
18 |         </li>
19 |         {% block extra_breadcrumbs %}{% endblock %}
20 |         <li class="active">{{ page_title }}</li>
21 |     </ul>
22 | {% endblock %}
23 | 
24 | {% block headertext %}{{ page_title }}{% endblock %}
25 | 
26 | {% block column_left %}
27 |     <ul class="nav nav-pills nav-stacked">
28 |         {% block standard_tabs %}
29 |             {% include 'oscar/customer/partials/standard_tabs.html' %}
30 |         {% endblock %}
31 |     </ul>
32 | {% endblock %}
33 | 
34 | {% block content %}
35 |     {% block tabcontent %}{% endblock tabcontent %}
36 | {% endblock content %}


# File: oscardropship/templates/oscar/customer/login_registration.html

 1 | {% extends "oscar/layout.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {% trans 'Login or register' %} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block breadcrumbs %}
 9 |     <ul class="breadcrumb">
10 |         <li>
11 |             <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
12 |         </li>
13 |         <li class="active">{% trans 'Login or register' %}</li>
14 |     </ul>
15 | {% endblock %}
16 | 
17 | {% block header %}{% endblock %}
18 | 
19 | {% block content %}
20 | 
21 |     <div class="row">
22 |         <div class="col-sm-6 login_form">
23 |             <form id="login_form" action="{{ request.get_full_path }}" method="post" class="well" >
24 |                 <h2>{% trans 'Log In' %}</h2>
25 |                 {% csrf_token %}
26 |                 {% include "oscar/partials/form_fields.html" with form=login_form %}
27 |                 <p><a href="{% url 'password-reset' %}">{% trans "I've forgotten my password" %}</a></p>
28 |                 <button name="login_submit" type="submit" value="Log In" class="btn btn-lg btn-primary" data-loading-text="{% trans "Logging in..." %}">{% trans 'Log In' %}</button>
29 |             </form>
30 |         </div>
31 |         <div class="col-sm-6 register_form">
32 |             <form id="register_form" action="{{ request.get_full_path }}" method="post" class="well">
33 |                 <h2>{% trans 'Register' %}</h2>
34 |                 {% csrf_token %}
35 |                 {% include "oscar/partials/form_fields.html" with form=registration_form %}
36 |                 <button name="registration_submit" type="submit" value="Register" class="btn btn-lg btn-primary" data-loading-text="{% trans 'Registering...' %}">{% trans 'Register' %}</button>
37 |             </form>
38 |         </div>
39 |     </div>
40 | 
41 | {% endblock content %}


# File: oscardropship/templates/oscar/customer/registration.html

 1 | {% extends "oscar/layout.html" %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}
 6 |     {% trans 'Register' %} | {{ block.super }}
 7 | {% endblock %}
 8 | 
 9 | {% block breadcrumbs %}
10 |     <ul class="breadcrumb">
11 |         <li>
12 |             <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
13 |         </li>
14 |         <li class="active">{% trans 'Register' %}</li>
15 |     </ul>
16 | {% endblock %}
17 | 
18 | {% block headertext %}
19 |     {% trans "Register" %}
20 | {% endblock %}
21 | 
22 | {% block content %}
23 |     <div class="row">
24 |         <div class="col-sm-6 register_form">
25 |             <form id="register_form" method="post" class="form-stacked">
26 |                 {% csrf_token %}
27 |                 {% include "oscar/partials/form_fields.html"  %}
28 |                 <button name="registration_submit" type="submit" value="Register" class="btn btn-primary btn-lg" data-loading-text="{%trans 'Registering...' %}">{% trans 'Register' %}</button>
29 |                 {% if cancel_url %}
30 |                     {% trans "or" %} <a href="{{ cancel_url }}">{% trans "cancel" %}</a>.
31 |                 {% endif %}
32 |             </form>
33 |         </div>
34 |     </div>
35 | {% endblock content %}


# File: oscardropship/templates/oscar/dashboard/catalogue/messages/product_saved.html

 1 | {% load i18n %}
 2 | {% load django_tables2 %}
 3 | 
 4 | <p>
 5 | {% with name=product.title parent_name=product.parent.title %}
 6 |     {% if product.is_child %}
 7 | 
 8 |         {% if creating %}
 9 |             {% if product.title %}
10 |                 {% blocktrans %}
11 |                     Created product variant '{{ name }}'.
12 |                 {% endblocktrans %}
13 |             {% else %}
14 |                 {% blocktrans %}
15 |                     Created variant of '{{ parent_name }}'.
16 |                 {% endblocktrans %}
17 |             {% endif %}
18 |         {% else %}
19 |             {% if product.title %}
20 |                 {% blocktrans %}
21 |                     Updated product variant '{{ name }}'.
22 |                 {% endblocktrans %}
23 |             {% else %}
24 |                 {% blocktrans %}
25 |                     Updated a variant of '{{ parent_name }}'.
26 |                 {% endblocktrans %}
27 |             {% endif %}
28 |         {% endif %}
29 | 
30 |     {% else %}
31 | 
32 |         {% if creating %}
33 |             {% blocktrans %}
34 |                 Created product '{{ name }}'.
35 |             {% endblocktrans %}
36 |         {% else %}
37 |             {% blocktrans %}
38 |                 Updated product '{{ name }}'.
39 |             {% endblocktrans %}
40 |         {% endif %}
41 | 
42 |     {% endif %}
43 | {% endwith %}
44 | 
45 | </p>
46 | 
47 | <p>
48 |     <a href="{% url 'dashboard:catalogue-product' pk=product.pk %}{% querystring %}" class="btn btn-success">{% trans "Edit again" %}</a>
49 |     <a href="{{ product.get_absolute_url }}" class="btn btn-success">{% trans "View it on the site" %}</a>
50 | </p>


# File: oscardropship/templates/oscar/dashboard/catalogue/attribute_option_group_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {{ title }} | {% trans "Create Attribute Option Group" %} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 9 | 
10 | {% block navbar %}
11 | {% if not is_popup %}
12 |     {{ block.super }}
13 | {% endif %}
14 | {% endblock %}
15 | 
16 | {% block dashboard_nav %}
17 | {% if not is_popup %}
18 |     {{ block.super }}
19 | {% endif %}
20 | {% endblock %}
21 | 
22 | {% block breadcrumbs %}
23 | {% if not is_popup %}
24 |     <ul class="breadcrumb">
25 |         <li>
26 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
27 |         </li>
28 |         <li>
29 |         <a href="{% url 'dashboard:catalogue-attribute-option-group-list' %}">{% trans "Attribute Option Group" %}</a>
30 |     </li>
31 |     <li class="active">{% trans "Delete Attribute Option Group?" %}</li>
32 | </ul>
33 | {% endif %}
34 | {% endblock %}
35 | 
36 | {% block headertext %}
37 |     {{ title }}
38 | {% endblock %}
39 | 
40 | {% block dashboard_content %}
41 |     {% if disallow %}
42 |         <p>{% trans "Please make sure all Product Attributes are assigned to another Attribute Option Group before deletion." %}</p>
43 |     {% else %}
44 |         <div class="table-header">
45 |             <h2>{% trans "Delete Attribute Option Group" %}</h2>
46 |         </div>
47 |         <form method="post" class="well">
48 |             {% csrf_token %}
49 |             {% if is_popup %}<input type="hidden" name="{{ is_popup_var }}" value="1" />{% endif %}
50 |             {% if not is_popup %}
51 |             {% for key, value in http_get_params.items %}
52 |                 <input type="hidden" name="{{ key }}" value="{{ value }}" />
53 |             {% endfor %}
54 |             {% endif %}
55 |             <p>
56 |                 {% blocktrans with name=object.name %}Delete Attribute Option Group <strong>{{ name }}</strong> - are you sure?{% endblocktrans %}
57 |             </p>
58 |             <div class="form-actions">
59 |                 <a {% if not is_popup %}href="{% url 'dashboard:catalogue-attribute-option-group-list' %}"{% else %}href="#" onclick="window.close();return false;"{% endif %}>
60 |                     {% trans "Cancel" %}
61 |                 </a>
62 |                 <button type="submit" class="btn btn-danger" data-loading-text="{% trans 'Deleting...' %}">
63 |                     {% trans "Delete" %}
64 |                 </button>
65 |             </div>
66 |         </form>
67 |     {% endif %}
68 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/catalogue/attribute_option_group_form.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load i18n %}
  3 | 
  4 | {% block title %}
  5 |     {{ title }} | {% trans "Create Attribute Option Group" %} | {{ block.super }}
  6 | {% endblock %}
  7 | 
  8 | {% block body_class %}{{ block.super }} create-page{% endblock %}
  9 | 
 10 | {% block navbar %}
 11 | {% if not is_popup %}
 12 |     {{ block.super }}
 13 | {% endif %}
 14 | {% endblock %}
 15 | 
 16 | {% block dashboard_nav %}
 17 | {% if not is_popup %}
 18 |     {{ block.super }}
 19 | {% endif %}
 20 | {% endblock %}
 21 | 
 22 | {% block breadcrumbs %}
 23 | {% if not is_popup %}
 24 |     <ul class="breadcrumb">
 25 |         <li>
 26 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 27 |         </li>
 28 |         <li>
 29 |             <a href="{% url 'dashboard:catalogue-attribute-option-group-list' %}">{% trans "Attribute Option Group" %}</a>
 30 |         </li>
 31 |         <li class="active">{{ title }}</li>
 32 |     </ul>
 33 | {% endif %}
 34 | {% endblock %}
 35 | 
 36 | {% block headertext %}{{ title }}{% endblock %}
 37 | 
 38 | {% block dashboard_content %}
 39 |     <form class="form-stacked wysiwyg fixed-actions" method="post" data-behaviour="affix-nav-errors">
 40 |         {% csrf_token %}
 41 | 
 42 |         <div class="row">
 43 |             {% if is_popup %}<input type="hidden" name="{{ is_popup_var }}" value="{{ is_popup }}" />{% endif %}
 44 |             {% if to_field %}<input type="hidden" name="{{ to_field_var }}" value="{{ to_field }}" />{% endif %}
 45 | 
 46 |             {% block tab_nav %}
 47 |                 <div class="col-md-3">
 48 |                     <div data-spy="affix" class="affix-top" data-offset-top="200">
 49 |                         <div class="table-header">
 50 |                             <h3>{% trans "Sections" %}</h3>
 51 |                         </div>
 52 |                         <ul class="nav nav-list bs-docs-sidenav" id="attribute_option_group_update_tabs">
 53 | 
 54 |                             {% block tabs %}
 55 |                                 <li class="active"><a href="#attribute_option_group_details" data-toggle="tab">{% trans 'Attribute Option Group details' %}</a></li>
 56 |                                 <li><a href="#attribute_options" data-toggle="tab">{% trans 'Attribute Options' %}</a></li>
 57 | 
 58 |                             {% endblock tabs %}
 59 |                         </ul>
 60 |                     </div>
 61 |                 </div>
 62 |             {% endblock tab_nav %}
 63 | 
 64 |             <div class="col-md-9">
 65 |                 <div class="tab-content">
 66 |                     {% block tab_content %}
 67 |                         {% block attribute_option_group_details %}
 68 |                             <div class="tab-pane active" id="attribute_option_group_details">
 69 |                                 <div class="table-header">
 70 |                                     <h3>{% trans "Attribute Option Group details" %}</h3>
 71 |                                 </div>
 72 |                                 <div class="well attribute-option-group-details">
 73 | 
 74 |                                     {% comment %}
 75 |                                         If the AttributeOptionGroup form has field_errors, partials/form_fields.html
 76 |                                         will render an error message.
 77 |                                         This means that there'll be 2 error messages,
 78 |                                         one from the partial and one from the view. Perhaps there should be
 79 |                                         an option allowing hiding of the error message in the template.
 80 |                                         For now we copy paste what we need from the template.
 81 |                                     {% endcomment %}
 82 | 
 83 |                                     {% if form.non_field_errors %}
 84 |                                         {% for error in form.non_field_errors %}
 85 |                                             <div class="alert alert-error control-group error">
 86 |                                                 <span class="error-block"><i class="icon-exclamation-sign"></i> {{ error }}</span>
 87 |                                             </div>
 88 |                                         {% endfor %}
 89 |                                     {% endif %}
 90 | 
 91 |                                     {% for field in form %}
 92 |                                         {% include 'oscar/dashboard/partials/form_field.html' with field=field %}
 93 |                                     {% endfor %}
 94 |                                 </div>
 95 |                             </div>
 96 |                         {% endblock %}
 97 | 
 98 |                         {% block attribute_options %}
 99 |                             <div class="tab-pane" id="attribute_options">
100 |                                 <div class="table-header">
101 |                                     <h3>{% trans "Attribute Options" %}</h3>
102 |                                 </div>
103 |                                 <div class="attribute-options">
104 |                                     <table class="table table-striped table-bordered">
105 |                                         {{ attribute_option_formset.management_form }}
106 |                                         {{ attribute_option_formset.non_form_errors }}
107 |                                         <col width="50%">
108 |                                         <col width="50%">
109 |                                         <thead>
110 |                                             <tr>
111 |                                                 <th>{% trans "Option" %}</th>
112 |                                                 <th>{% trans "Delete?" %}</th>
113 |                                             </tr>
114 |                                         </thead>
115 |                                         <tbody>
116 |                                             {% for attribute_option_form in attribute_option_formset %}
117 |                                                 <tr>
118 |                                                     {% for hidden_field in attribute_option_form.hidden_fields %}
119 |                                                         {{ hidden_field }}
120 |                                                     {% endfor %}
121 |                                                     <td>{% include 'oscar/dashboard/partials/form_field.html' with field=attribute_option_form.option nolabel=True %}</td>
122 |                                                     <td>{% include 'oscar/dashboard/partials/form_field.html' with field=attribute_option_form.DELETE nolabel=True %}</td>
123 |                                                 </tr>
124 |                                             {% endfor %}
125 |                                         </tbody>
126 |                                     </table>
127 |                                 </div>
128 |                             </div>
129 |                         {% endblock %}
130 |                     {% endblock tab_content %}
131 |                 </div>
132 |             </div>
133 |         </div>
134 | 
135 |         {% block fixed_actions_group %}
136 |             <div class="fixed-actions-group">
137 |                 <div class="form-actions">
138 |                     <div class="pull-right">
139 |                         <a href="#" {% if not is_popup %}onclick="window.history.go(-1);return false"{% else %}onclick="window.close();return false;"{% endif %}>
140 |                             {% trans "Cancel" %}
141 |                         </a>
142 |                         {% trans "or" %}
143 |                         <button class="btn btn-large btn-primary" type="submit">
144 |                             {% trans "Save" %}
145 |                         </button>
146 |                     </div>
147 |                 </div>
148 |             </div>
149 |         {% endblock fixed_actions_group %}
150 |     </form>
151 | 
152 | {% endblock dashboard_content %}
153 | 
154 | {% block onbodyload %}
155 |     {{ block.super }}
156 |     oscar.dashboard.product_attributes.init();
157 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/catalogue/attribute_option_group_list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | {% load render_table from django_tables2 %}
 4 | 
 5 | {% block title %}
 6 |     {% trans "Attribute Option Groups" %} | {{ block.super }}
 7 | {% endblock %}
 8 | 
 9 | {% block breadcrumbs %}
10 |     <ul class="breadcrumb">
11 |         <li>
12 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
13 |         </li>
14 |         <li class="active">{% trans "Attribute Option Group" %}</li>
15 |     </ul>
16 | {% endblock %}
17 | 
18 | {% block header %}
19 |     <div class="page-header">
20 |         <a href="{% url 'dashboard:catalogue-attribute-option-group-create' %}?{{ querystring }}" class="btn btn-primary btn-lg pull-right"><i class="icon-plus"></i> {% trans "Create new Attribute Option Group" %}</a>
21 |         <h1>{% trans "Attribute Option Group" %}</h1>
22 |     </div>
23 | {% endblock header %}
24 | 
25 | {% block dashboard_content %}
26 |     {% if attribute_option_groups %}
27 |         {% block product_list %}
28 |             <form method="post">
29 |                 {% csrf_token %}
30 |                 {% render_table attribute_option_groups %}
31 |             </form>
32 |         {% endblock product_list %}
33 |     {% else %}
34 |         <p>{% trans "No Attribute Option Groups found." %}</p>
35 |     {% endif %}
36 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/catalogue/attribute_option_group_row_actions.html

 1 | {% load django_tables2 %}
 2 | {% load i18n %}
 3 | <div class="btn-toolbar">
 4 |     <div class="btn-group">
 5 |         <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
 6 |             {% trans "Actions" %}
 7 |             <span class="caret"></span>
 8 |         </button>
 9 |         <ul class="dropdown-menu pull-right">
10 |             <li>
11 |                 <a href="{% url 'dashboard:catalogue-attribute-option-group-update' pk=record.id %}{% querystring %}">{% trans "Edit Attribute Option Group" %}</a>
12 |             </li>
13 |             <li>
14 |                 <a href="{% url 'dashboard:catalogue-attribute-option-group-delete' pk=record.id %}{% querystring %}">{% trans "Delete" %}</a>
15 |             </li>
16 |         </ul>
17 |     </div>
18 | </div>


# File: oscardropship/templates/oscar/dashboard/catalogue/attribute_option_group_row_name.html

1 | {% load django_tables2 %}
2 | <a href="{% url 'dashboard:catalogue-attribute-option-group-update' pk=record.pk %}{% querystring %}">{{ value }}</a>


# File: oscardropship/templates/oscar/dashboard/catalogue/attribute_option_group_row_option_summary.html

1 | {% load django_tables2 %}
2 | <a href="{% url 'dashboard:catalogue-attribute-option-group-update' pk=record.pk %}{% querystring %}">{{ value }}</a>


# File: oscardropship/templates/oscar/dashboard/catalogue/category_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 5 | 
 6 | {% block breadcrumbs %}
 7 |     <ul class="breadcrumb">
 8 |         <li>
 9 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
10 |         </li>
11 |         <li>
12 |         <a href="{% if parent %}{% url 'dashboard:catalogue-category-detail-list' pk=parent.pk %}{% else %}{% url 'dashboard:catalogue-category-list' %}{% endif %}">{% trans "Categories" %}</a>
13 |     </li>
14 |     <li class="active">{% trans "Delete category?" %}</li>
15 | </ul>
16 | {% endblock %}
17 | 
18 | {% block headertext %}
19 |     {% trans "Delete category?" %}
20 | {% endblock %}
21 | 
22 | {% block dashboard_content %}
23 |     <div class="table-header">
24 |         <h2>{% trans "Delete category" %}</h2>
25 |     </div>
26 |     <form method="post" class="well">
27 |         {% csrf_token %}
28 |         {{ form }}
29 |         {% blocktrans with name=object.name %}
30 |             <p>Delete category <strong>{{ name }}</strong> - are you sure?</p>
31 |         {% endblocktrans %}
32 |         <div class="form-actions">
33 |             <button type="submit" class="btn btn-danger" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button>
34 |         {% trans "or" %} <a href="{% if parent %}{% url 'dashboard:catalogue-category-detail-list' pk=parent.pk %}{% else %}{% url 'dashboard:catalogue-category-list' %}{% endif %}">{% trans "cancel" %}</a>
35 |     </div>
36 | </form>
37 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/catalogue/category_form.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load category_tags %}
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} create-page catalogue{% endblock %}
 6 | 
 7 | {% block title %}
 8 |     {{ title }} | {% trans "Categories" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:catalogue-category-list' %}">{% trans "Categories" %}</a>
18 |         </li>
19 |         <li class="active">{{ title }}</li>
20 |     </ul>
21 | {% endblock %}
22 | 
23 | {% block headertext %}{{ title }}{% endblock %}
24 | 
25 | {% block dashboard_content %}
26 |     <div class="table-header">
27 |         <h2>{{ title }}</h2>
28 |     </div>
29 |     <div class="well">
30 |         {% include 'oscar/dashboard/partials/form.html' with includes_files=1 class='wysiwyg' %}
31 |     </div>
32 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/catalogue/category_list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load category_tags %}
 3 | {% load i18n %}
 4 | {% load render_table from django_tables2 %}
 5 | 
 6 | {% block body_class %}{{ block.super }} catalogue{% endblock %}
 7 | 
 8 | {% block title %}
 9 |     {% trans "Categories" %} | {{ block.super }}
10 | {% endblock %}
11 | 
12 | {% block breadcrumbs %}
13 |     <ul class="breadcrumb">
14 |         <li>
15 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
16 |         </li>
17 |         <li class="active">{% trans "Categories" %}</li>
18 |     </ul>
19 | {% endblock %}
20 | 
21 | {% block header %}
22 |     <div class="page-header">
23 |         <a href="{% url 'dashboard:catalogue-category-create' %}" class="btn btn-primary btn-lg pull-right"><i class="icon-plus"></i> {% trans "Create new category" %}</a>
24 |         <h1>{% trans "Categories" %}</h1>
25 |     </div>
26 | {% endblock header %}
27 | 
28 | {% block dashboard_content %}
29 |     <div class="alert alert-info">
30 |         <p>{% trans "You are editing:" %}
31 |             <strong><a href="{% url 'dashboard:catalogue-category-list' %}">{% trans "Home" %}</a></strong>
32 |             {% if ancestors %}
33 |                 &gt;
34 |                 {% for ancestor in ancestors %}
35 |                     <strong><a href="{% url 'dashboard:catalogue-category-detail-list' pk=ancestor.pk %}">{{ ancestor.name }}</a></strong>{% if not forloop.last %} > {% endif %}
36 |                 {% endfor %}
37 |             {% endif %}
38 |         </p>
39 |     </div>
40 | 
41 |     {% render_table categories %}
42 | 
43 |     {% if not child_categories %}
44 |         <p>{% trans "There are no categories." %}</p>
45 |     {% endif %}
46 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/catalogue/category_row_actions.html

 1 | {% load django_tables2 %}
 2 | {% load i18n %}
 3 | <div class="btn-toolbar">
 4 |     <div class="btn-group">
 5 |         <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
 6 |             {% trans "Actions" %}
 7 |             <span class="caret"></span>
 8 |         </button>
 9 |         <ul class="nav dropdown-menu pull-right">
10 |             <li>
11 |                 <a href="{% url 'dashboard:catalogue-category-update' pk=record.id %}">
12 |                     {% trans "Edit category" %}
13 |                 </a>
14 |             </li>
15 |             <li>
16 |                 <a href="{% url 'dashboard:catalogue-category-create-child' parent=record.pk %}">
17 |                     {% trans "Add child category" %}
18 |                 </a>
19 |             </li>
20 |             <li{% if not record.has_children %} class="disabled"{% endif %}>
21 |                 <a href="{% url 'dashboard:catalogue-category-detail-list' pk=record.pk %}">
22 |                     {% trans "Edit children" %}
23 |                 </a>
24 |             </li>
25 |             <li>
26 |                 <a href="{{ record.get_absolute_url }}">
27 |                     {% trans "View on site" %}
28 |                 </a>
29 |             </li>
30 |             <li>
31 |                 <a href="{% url 'dashboard:catalogue-category-delete' pk=record.id %}">
32 |                     {% trans "Delete" %}
33 |                 </a>
34 |             </li>
35 |         </ul>
36 |     </div>
37 | </div>


# File: oscardropship/templates/oscar/dashboard/catalogue/option_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {{ title }} | {% trans "Create Option" %} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 9 | 
10 | {% block navbar %}
11 |     {% if not is_popup %}
12 |         {{ block.super }}
13 |     {% endif %}
14 | {% endblock %}
15 | 
16 | {% block dashboard_nav %}
17 |     {% if not is_popup %}
18 |         {{ block.super }}
19 |     {% endif %}
20 | {% endblock %}
21 | 
22 | {% block breadcrumbs %}
23 |     {% if not is_popup %}
24 |         <ul class="breadcrumb">
25 |             <li>
26 |                 <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
27 |             </li>
28 |             <li>
29 |                 <a href="{% url 'dashboard:catalogue-option-list' %}">{% trans "Options" %}</a>
30 |             </li>
31 |             <li class="active">{% trans "Delete Option?" %}</li>
32 |         </ul>
33 |     {% endif %}
34 | {% endblock %}
35 | 
36 | {% block headertext %}
37 |     {{ title }}
38 | {% endblock %}
39 | 
40 | {% block dashboard_content %}
41 |     {% if disallow %}
42 |         <p>{% trans "Please make sure option is not assigned to Products or Product Classes before deletion." %}</p>
43 |     {% else %}
44 |         <div class="table-header">
45 |             <h2>{% trans "Delete Option" %}</h2>
46 |         </div>
47 |         <form action="." method="post" class="well">
48 |             {% csrf_token %}
49 |             {% if is_popup %}<input type="hidden" name="{{ is_popup_var }}" value="1" />{% endif %}
50 |             {% if not is_popup %}
51 |             {% for key, value in http_get_params.items %}
52 |                 <input type="hidden" name="{{ key }}" value="{{ value }}" />
53 |             {% endfor %}
54 |             {% endif %}
55 |             <p>
56 |                 {% blocktrans with name=object.name %}Delete Option <strong>{{ name }}</strong> - are you sure?{% endblocktrans %}
57 |             </p>
58 |             <div class="form-actions">
59 |                 <a href="{% url 'dashboard:catalogue-option-list' %}">
60 |                     {% trans "Cancel" %}
61 |                 </a>
62 |                 <button type="submit" class="btn btn-danger" data-loading-text="{% trans 'Deleting...' %}">
63 |                     {% trans "Delete" %}
64 |                 </button>
65 |             </div>
66 |         </form>
67 |     {% endif %}
68 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/catalogue/option_form.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {{ title }} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 9 | 
10 | {% block navbar %}
11 | {% if not is_popup %}
12 |     {{ block.super }}
13 | {% endif %}
14 | {% endblock %}
15 | 
16 | {% block dashboard_nav %}
17 | {% if not is_popup %}
18 |     {{ block.super }}
19 | {% endif %}
20 | {% endblock %}
21 | 
22 | {% block breadcrumbs %}
23 | {% if not is_popup %}
24 |     <ul class="breadcrumb">
25 |         <li>
26 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
27 |         </li>
28 |         <li>
29 |             <a href="{% url 'dashboard:catalogue-option-list' %}">{% trans "Options" %}</a>
30 |         </li>
31 |         <li class="active">{{ title }}</li>
32 |     </ul>
33 | {% endif %}
34 | {% endblock %}
35 | 
36 | {% block headertext %}{{ title }}{% endblock %}
37 | 
38 | {% block dashboard_content %}
39 |     <form class="form-stacked wysiwyg fixed-actions" method="post" data-behaviour="affix-nav-errors">
40 |         {% csrf_token %}
41 | 
42 |         <div class="row">
43 |             {% if is_popup %}<input type="hidden" name="{{ is_popup_var }}" value="{{ is_popup }}" />{% endif %}
44 |             {% if to_field %}<input type="hidden" name="{{ to_field_var }}" value="{{ to_field }}" />{% endif %}
45 |             <div class="col-md-12">
46 |                 <div class="tab-content">
47 |                     {% block option_details %}
48 |                         <div class="tab-pane active" id="option_details">
49 |                             <div class="table-header">
50 |                                 <h3>{% trans "Option details" %}</h3>
51 |                             </div>
52 |                             <div class="well option-details">
53 | 
54 |                                 {% comment %}
55 |                                     If the Option form has field_errors, partials/form_fields.html
56 |                                     will render an error message.
57 |                                     This means that there'll be 2 error messages,
58 |                                     one from the partial and one from the view. Perhaps there should be
59 |                                     an option allowing hiding of the error message in the template.
60 |                                     For now we copy paste what we need from the template.
61 |                                 {% endcomment %}
62 | 
63 |                                 {% if form.non_field_errors %}
64 |                                     {% for error in form.non_field_errors %}
65 |                                         <div class="alert alert-error control-group error">
66 |                                             <span class="error-block"><i class="icon-exclamation-sign"></i> {{ error }}</span>
67 |                                         </div>
68 |                                     {% endfor %}
69 |                                 {% endif %}
70 | 
71 |                                 {% for field in form %}
72 |                                     {% include 'oscar/dashboard/partials/form_field.html' with field=field %}
73 |                                 {% endfor %}
74 |                             </div>
75 |                         </div>
76 |                     {% endblock %}
77 |                 </div>
78 |             </div>
79 |         </div>
80 | 
81 |         {% block fixed_actions_group %}
82 |             <div class="fixed-actions-group">
83 |                 <div class="form-actions">
84 |                     <div class="pull-right">
85 |                         <a href="#" {% if not is_popup %}onclick="window.history.go(-1);return false"{% else %}onclick="window.close();return false;"{% endif %}>
86 |                             {% trans "Cancel" %}
87 |                         </a>
88 |                         {% trans "or" %}
89 |                         <button class="btn btn-large btn-primary" type="submit">
90 |                             {% trans "Save" %}
91 |                         </button>
92 |                     </div>
93 |                 </div>
94 |             </div>
95 |         {% endblock fixed_actions_group %}
96 |     </form>
97 | 
98 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/catalogue/option_list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | {% load render_table from django_tables2 %}
 4 | 
 5 | {% block title %}
 6 |     {% trans "Options" %} | {{ block.super }}
 7 | {% endblock %}
 8 | 
 9 | {% block breadcrumbs %}
10 |     <ul class="breadcrumb">
11 |         <li>
12 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
13 |         </li>
14 |         <li class="active">{% trans "Options" %}</li>
15 |     </ul>
16 | {% endblock %}
17 | 
18 | {% block header %}
19 |     <div class="page-header">
20 |         <a href="{% url 'dashboard:catalogue-option-create' %}" class="btn btn-primary btn-lg pull-right"><i class="icon-plus"></i> {% trans "Create new Option" %}</a>
21 |         <h1>{% trans "Option" %}</h1>
22 |     </div>
23 | {% endblock header %}
24 | 
25 | {% block dashboard_content %}
26 |     {% if options %}
27 |         {% block product_list %}
28 |             <form action="." method="post">
29 |                 {% csrf_token %}
30 |                 {% render_table options %}
31 |             </form>
32 |         {% endblock product_list %}
33 |     {% else %}
34 |         <p>{% trans "No Option found." %}</p>
35 |     {% endif %}
36 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/catalogue/option_row_actions.html

 1 | {% load django_tables2 %}
 2 | {% load i18n %}
 3 | <div class="btn-toolbar">
 4 |     <div class="btn-group">
 5 |         <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
 6 |             {% trans "Actions" %}
 7 |             <span class="caret"></span>
 8 |         </button>
 9 |         <ul class="dropdown-menu pull-right">
10 |             <li>
11 |                 <a href="{% url 'dashboard:catalogue-option-update' pk=record.id %}{% querystring %}">{% trans "Edit Option" %}</a>
12 |             </li>
13 |             <li>
14 |                 <a href="{% url 'dashboard:catalogue-option-delete' pk=record.id %}{% querystring %}">{% trans "Delete" %}</a>
15 |             </li>
16 |         </ul>
17 |     </div>
18 | </div>


# File: oscardropship/templates/oscar/dashboard/catalogue/option_row_name.html

1 | {% load django_tables2 %}
2 | <a href="{% url 'dashboard:catalogue-option-update' pk=record.pk %}{% querystring %}">{{ value }}</a>


# File: oscardropship/templates/oscar/dashboard/catalogue/product_class_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 5 | 
 6 | {% block breadcrumbs %}
 7 |     <ul class="breadcrumb">
 8 |         <li>
 9 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
10 |         </li>
11 |         <li>
12 |         <a href="{% url 'dashboard:catalogue-class-list' %}">{% trans "Product type" %}</a>
13 |     </li>
14 |     <li class="active">{% trans "Delete product type?" %}</li>
15 | </ul>
16 | {% endblock %}
17 | 
18 | {% block headertext %}
19 |     {{ title }}
20 | {% endblock %}
21 | 
22 | {% block dashboard_content %}
23 |     {% if disallow %}
24 |         <p>{% trans "Please make sure all products are assigned to another type before deletion." %}</p>
25 |     {% else %}
26 |         <div class="table-header">
27 |             <h2>{% trans "Delete product type" %}</h2>
28 |         </div>
29 |         <form method="post" class="well">
30 |             {% csrf_token %}
31 |             {{ form }}
32 |             <p>
33 |                 {% blocktrans with name=object.name %}Delete product type <strong>{{ name }}</strong> - are you sure?{% endblocktrans %}
34 |             </p>
35 |             <div class="form-actions">
36 |                 <button type="submit" class="btn btn-danger" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button>
37 |             {% trans "or" %} <a href="{% url 'dashboard:catalogue-class-list' %}">{% trans "cancel" %}</a>
38 |             </div>
39 |         </form>
40 |     {% endif %}
41 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/catalogue/product_class_form.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load i18n %}
  3 | 
  4 | {% block title %}
  5 |     {{ title }} | {% trans "Create product type" %} | {{ block.super }}
  6 | {% endblock %}
  7 | 
  8 | {% block body_class %}{{ block.super }} create-page{% endblock %}
  9 | 
 10 | {% block breadcrumbs %}
 11 |     <ul class="breadcrumb">
 12 |         <li>
 13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 14 |         </li>
 15 |         <li>
 16 |             <a href="{% url 'dashboard:catalogue-class-list' %}">{% trans "Product Type" %}</a>
 17 |         </li>
 18 |         <li class="active">{{ title }}</li>
 19 |     </ul>
 20 | {% endblock %}
 21 | 
 22 | {% block headertext %}{{ title }}{% endblock %}
 23 | 
 24 | {% block dashboard_content %}
 25 |     <form class="form-stacked wysiwyg fixed-actions" method="post" data-behaviour="affix-nav-errors">
 26 |         {% csrf_token %}
 27 | 
 28 |         <div class="row">
 29 | 
 30 |             {% block tab_nav %}
 31 |                 <div class="col-md-3">
 32 |                     <div data-spy="affix" class="affix-top" data-offset-top="200">
 33 |                         <div class="table-header">
 34 |                             <h3>{% trans "Sections" %}</h3>
 35 |                         </div>
 36 |                         <ul class="nav nav-list bs-docs-sidenav" id="product_update_tabs">
 37 | 
 38 |                             {% block tabs %}
 39 |                                 <li class="active"><a href="#product_class_details" data-toggle="tab">{% trans 'Product Class details' %}</a></li>
 40 |                                 <li><a href="#product_attributes" data-toggle="tab">{% trans 'Product attributes' %}</a></li>
 41 | 
 42 |                             {% endblock tabs %}
 43 |                         </ul>
 44 |                     </div>
 45 |                 </div>
 46 |             {% endblock tab_nav %}
 47 | 
 48 |             <div class="col-md-9">
 49 |                 <div class="tab-content">
 50 |                     {% block tab_content %}
 51 |                         {% block product_class_details %}
 52 |                             <div class="tab-pane active" id="product_class_details">
 53 |                                 <div class="table-header">
 54 |                                     <h3>{% trans "Product Class details" %}</h3>
 55 |                                 </div>
 56 |                                 <div class="well product-class-details">
 57 | 
 58 |                                     {% comment %}
 59 |                                         If the ProductClass form has field_errors, partials/form_fields.html
 60 |                                         will render an error message.
 61 |                                         This means that there'll be 2 error messages,
 62 |                                         one from the partial and one from the view. Perhaps there should be
 63 |                                         an option allowing hiding of the error message in the template.
 64 |                                         For now we copy paste what we need from the template.
 65 |                                     {% endcomment %}
 66 | 
 67 |                                     {% if form.non_field_errors %}
 68 |                                         {% for error in form.non_field_errors %}
 69 |                                             <div class="alert alert-error control-group error">
 70 |                                                 <span class="error-block"><i class="icon-exclamation-sign"></i> {{ error }}</span>
 71 |                                             </div>
 72 |                                         {% endfor %}
 73 |                                     {% endif %}
 74 | 
 75 |                                     {% for field in form %}
 76 |                                         {% include 'oscar/dashboard/partials/form_field.html' with field=field %}
 77 |                                     {% endfor %}
 78 |                                 </div>
 79 |                             </div>
 80 |                         {% endblock %}
 81 | 
 82 |                         {% block product_attributes %}
 83 |                             <div class="tab-pane" id="product_attributes">
 84 |                                 <div class="table-header">
 85 |                                     <h3>{% trans "Product attributes" %}</h3>
 86 |                                 </div>
 87 |                                 <div class="product-attributes">
 88 |                                     <table class="table table-striped table-bordered">
 89 |                                         {{ attributes_formset.management_form }}
 90 |                                         {{ attributes_formset.non_form_errors }}
 91 |                                         <col width="20%">
 92 |                                         <col width="20%">
 93 |                                         <col width="20%">
 94 |                                         <thead>
 95 |                                             <tr>
 96 |                                                 <th>{% trans "Name" %}</th>
 97 |                                                 <th>{% trans "Code" %}</th>
 98 |                                                 <th>{% trans "Type" %}</th>
 99 |                                                 <th>{% trans "Required" %}</th>
100 |                                                 <th>{% trans "Delete?" %}</th>
101 |                                             </tr>
102 |                                         </thead>
103 |                                         <tbody>
104 |                                             {% for attribute_form in attributes_formset %}
105 |                                                 <tr>
106 |                                                     {% for hidden_field in attribute_form.hidden_fields %}
107 |                                                      {{ hidden_field }}
108 |                                                     {% endfor %}
109 |                                                     <td>{% include 'oscar/dashboard/partials/form_field.html' with field=attribute_form.name nolabel=True %}</td>
110 |                                                     <td>{% include 'oscar/dashboard/partials/form_field.html' with field=attribute_form.code nolabel=True %}</td>
111 |                                                     <td>
112 |                                                         {% include 'oscar/dashboard/partials/form_field.html' with field=attribute_form.type nolabel=True %}
113 | 
114 |                                                         {% include 'oscar/dashboard/partials/form_field.html' with field=attribute_form.option_group nolabel=True %}
115 |                                                     </td>
116 |                                                     <td>{% include 'oscar/dashboard/partials/form_field.html' with field=attribute_form.required nolabel=True %}</td>
117 |                                                     <td>{% include 'oscar/dashboard/partials/form_field.html' with field=attribute_form.DELETE nolabel=True %}</td>
118 |                                                 </tr>
119 |                                             {% endfor %}
120 |                                         </tbody>
121 |                                     </table>
122 |                                 </div>
123 |                             </div>
124 |                         {% endblock %}
125 |                     {% endblock tab_content %}
126 |                 </div>
127 |             </div>
128 |         </div>
129 | 
130 |         {% block fixed_actions_group %}
131 |             <div class="fixed-actions-group">
132 |                 <div class="form-actions">
133 |                     <div class="pull-right">
134 |                         <a href="#" onclick="window.history.go(-1);return false" >
135 |                             {% trans "Cancel" %}
136 |                         </a>
137 |                         {% trans "or" %}
138 |                         <button class="btn btn-large btn-primary" type="submit">
139 |                             {% trans "Save" %}
140 |                         </button>
141 |                     </div>
142 |                 </div>
143 |             </div>
144 |         {% endblock fixed_actions_group %}
145 |     </form>
146 | 
147 | {% endblock dashboard_content %}
148 | 
149 | {% block onbodyload %}
150 |     {{ block.super }}
151 |     oscar.dashboard.product_attributes.init();
152 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/catalogue/product_class_list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block breadcrumbs %}
 5 |     <ul class="breadcrumb">
 6 |         <li>
 7 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 8 |         </li>
 9 |         <li class="active">{% trans "Product Type" %}</li>
10 |     </ul>
11 | {% endblock %}
12 | 
13 | {% block header %}
14 |     <div class="page-header">
15 |         <a href="{% url 'dashboard:catalogue-class-create' %}" class="btn btn-primary btn-lg pull-right"><i class="icon-plus"></i> {% trans "Create new product type" %}</a>
16 |         <h1>{% trans "Product types" %}</h1>
17 |     </div>
18 | {% endblock header %}
19 | 
20 | {% block dashboard_content %}
21 |     {% if classes %}
22 |         <table class="table table-striped table-bordered table-hover">
23 |             <caption><i class="icon-sitemap icon-large"></i>{% trans 'Product Types' %}</caption>
24 |             <thead>
25 |                 <tr>
26 |                     <th>{% trans "Name" %}</th>
27 |                     <th>{% trans "Requires shipping" %}</th>
28 |                     <th>{% trans "Track stock?" %}</th>
29 |                     <th>&nbsp;</th>
30 |                 </tr>
31 |             </thead>
32 |             <tbody>
33 |                 {% for class in classes %}
34 |                     <tr>
35 |                         <td><a href="{% url 'dashboard:catalogue-class-update' class.id %}">{{ class.name }}</a></td>
36 |                         <td><a href="{% url 'dashboard:catalogue-class-update' class.id %}">{{ class.requires_shipping|yesno }}</a></td>
37 |                         <td><a href="{% url 'dashboard:catalogue-class-update' class.id %}">{{ class.track_stock|yesno }}</a></td>
38 |                         <td>
39 |                             <div class="btn-toolbar">
40 |                                 <div class="btn-group">
41 |                                     <button class="btn btn-default dropdown-toggle" type="submit" data-toggle="dropdown" aria-expanded="true">
42 |                                         {% trans "Actions" %}
43 |                                         <span class="caret"></span>
44 |                                     </button>
45 |                                     <ul class="nav dropdown-menu pull-right">
46 |                                         <li><a href="{% url 'dashboard:catalogue-class-update' pk=class.id %}">{% trans "Edit product type" %}</a></li>
47 |                                         <li><a href="{% url 'dashboard:catalogue-class-delete' pk=class.id %}">{% trans "Delete" %}</a></li>
48 |                                     </ul>
49 |                                 </div>
50 |                             </div>
51 |                         </td>
52 |                     </tr>
53 |                 {% endfor %}
54 |             </tbody>
55 |         </table>
56 |     {% else %}
57 |         <p>{% trans "There are no product types." %}</p>
58 |     {% endif %}
59 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/catalogue/product_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}
 6 |     {{ title }} | {{ block.super }}
 7 | {% endblock %}
 8 | 
 9 | {% block body_class %}{{ block.super }} create-page{% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:catalogue-product-list' %}">{% trans "Products" %}</a>
18 |         </li>
19 |         <li>
20 |             <a href="{% url 'dashboard:catalogue-product' pk=product.pk %}">{{ product.get_title }}</a>
21 |         </li>
22 |         <li class="active">{{ title }}</li>
23 |     </ul>
24 | {% endblock %}
25 | 
26 | {% block headertext %}{{ title }}{% endblock %}
27 | 
28 | {% block dashboard_content %}
29 |     <div class="table-header">
30 |         <h2>{{ title }}</h2>
31 |     </div>
32 |     <form method="post" class="well">
33 |         {% csrf_token %}
34 | 
35 |         <p>
36 |             {% if product.is_child %}
37 |                 {% blocktrans with title=product.get_title %}
38 |                     Delete product variant <strong>{{ title }}</strong> - are you sure?
39 |                 {% endblocktrans %}
40 |             {% else %}
41 |                 {% blocktrans with title=product.get_title %}
42 |                     Delete product <strong>{{ title }}</strong> - are you sure?
43 |                 {% endblocktrans %}
44 |             {% endif %}
45 |         </p>
46 | 
47 |         {% if product.is_parent %}
48 |             <p>
49 |                 {% trans "This will also delete the following child products:" %}
50 |                 <ul>
51 |                     {% for child in product.children.all %}
52 |                         <li><strong>{{ child.get_title }}</strong></li>
53 |                     {% endfor %}
54 |                 </ul>
55 |             </p>
56 |         {% endif %}
57 | 
58 |         <div class="form-actions">
59 |             <button type="submit" class="btn btn-danger" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button>
60 |             {% trans "or" %}
61 |             <a href="{% url 'dashboard:catalogue-product-list' %}">{% trans "cancel" %}</a>
62 |         </div>
63 |     </form>
64 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/catalogue/product_list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | {% load render_table from django_tables2 %}
 4 | {% load sorting_tags %}
 5 | 
 6 | {% block body_class %}{{ block.super }} catalogue{% endblock %}
 7 | 
 8 | {% block title %}
 9 |     {% trans "Products" %} | {{ block.super }}
10 | {% endblock %}
11 | 
12 | {% block breadcrumbs %}
13 |     <ul class="breadcrumb">
14 |         <li>
15 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
16 |         </li>
17 |         <li class="active">{% trans "Products" %}</li>
18 |     </ul>
19 | {% endblock %}
20 | 
21 | {% block header %}
22 |     <div class="page-header action">
23 |         <h1>{% trans "Products" %}</h1>
24 |     </div>
25 | {% endblock header %}
26 | 
27 | {% block dashboard_content %}
28 |     {% block create_product %}
29 |         <div class="table-header">
30 |             <h3><i class="icon-sitemap icon-large"></i> {% trans "Create new product" %}</h3>
31 |         </div>
32 |         <div class="well">
33 |             <form action="{% url 'dashboard:catalogue-product-create' %}" method="get" class="form-inline">
34 |                 {% include "oscar/dashboard/partials/form_fields_inline.html" with form=productclass_form %}
35 |                 <button class="btn btn-primary" type="submit" data-loading-text="{% trans 'Submitting...' %}"><i class="icon-plus"></i> {% trans "New Product" %}</button>
36 |             </form>
37 |         </div>
38 |     {% endblock %}
39 | 
40 |     {% block search_products %}
41 |         <div class="table-header">
42 |             <h3><i class="icon-search icon-large"></i>{% trans "Search Products" %}</h3>
43 |         </div>
44 |         <div class="well">
45 |             <form method="get" class="form-inline">
46 |                 {% comment %}
47 |                     Add the current query string to the search form so that the
48 |                     sort order is not reset when searching.
49 |                 {% endcomment %}
50 |                 {% for name, value in request.GET.items %}
51 |                     {% if name not in form.fields %}
52 |                         <input type="hidden" name="{{ name }}" value="{{ value }}"/>
53 |                     {% endif %}
54 |                 {% endfor %}
55 | 
56 |                 {% include "oscar/dashboard/partials/form_fields_inline.html" with form=form %}
57 |                 <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Searching...' %}">{% trans "Search" %}</button>
58 |             </form>
59 |         </div>
60 |     {% endblock %}
61 | 
62 |     {% if products %}
63 |         {% block product_list %}
64 |             <form method="post">
65 |                 {% csrf_token %}
66 |                 {% render_table products %}
67 |             </form>
68 |             <div class="modal fade" id="product-image-modal" tabindex="-1" role="dialog">
69 |                 <div class="modal-dialog" role="document">
70 |                     <div class="modal-content">
71 |                         <div class="modal-header">
72 |                             <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
73 |                             <h4 class="modal-title"></h4>
74 |                         </div>
75 |                         <div class="modal-body text-center">
76 |                             <img class="img-responsive center-block">
77 |                         </div>
78 |                     </div>
79 |                 </div>
80 |             </div>
81 |         {% endblock product_list %}
82 |     {% else %}
83 |         <p>{% trans "No products found." %}</p>
84 |     {% endif %}
85 | 
86 | {% endblock dashboard_content %}
87 | 
88 | {% block onbodyload %}
89 |     {{ block.super }}
90 |     oscar.dashboard.product_lists.init();
91 | {% endblock onbodyload %}


# File: oscardropship/templates/oscar/dashboard/catalogue/product_row_actions.html

 1 | {% load django_tables2 %}
 2 | {% load i18n %}
 3 | <div class="btn-toolbar">
 4 |     <div class="btn-group">
 5 |         <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
 6 |             {% trans "Actions" %}
 7 |             <span class="caret"></span>
 8 |         </button>
 9 |         <ul class="dropdown-menu pull-right">
10 |             <li>
11 |                 <a href="{% url 'dashboard:catalogue-product' pk=record.id %}{% querystring %}">{% trans "Edit" %}</a>
12 |             </li>
13 |             <li>
14 |                 <a href="{{ record.get_absolute_url }}"> {% trans "View on site" %}</a>
15 |             </li>
16 |             <li>
17 |                 <a href="{% url 'dashboard:catalogue-product-delete' pk=record.id %}">{% trans "Delete" %}</a>
18 |             </li>
19 |         </ul>
20 |     </div>
21 | </div>


# File: oscardropship/templates/oscar/dashboard/catalogue/product_row_image.html

 1 | {% load image_tags %}
 2 | {% if record.primary_image.original.url %}
 3 |     {% with image=record.primary_image %}
 4 |         {% oscar_thumbnail image.original "70x70" upscale=False as thumb %}
 5 |         <a href="#" data-original="{{ image.original.url }}" class="sub-image">
 6 |             <img src="{{ thumb.url }}" alt="{% if image.caption %}{{ image.caption }}{% else %}{{ record.get_title }}{% endif %}" height="{{ thumb.height }}" width="{{ thumb.width }}">
 7 |         </a>
 8 |     {% endwith %}
 9 | {% else %}
10 |     —
11 | {% endif %}


# File: oscardropship/templates/oscar/dashboard/catalogue/product_row_stockrecords.html

1 | {% if record.is_parent %}
2 |     -
3 | {% else %}
4 |     {{ record.num_stockrecords }}
5 | {% endif %}


# File: oscardropship/templates/oscar/dashboard/catalogue/product_row_title.html

1 | {% load django_tables2 %}
2 | <a href="{% url 'dashboard:catalogue-product' pk=record.pk %}{% querystring %}">{{ value }}</a>


# File: oscardropship/templates/oscar/dashboard/catalogue/product_row_variants.html

1 | {% if record.is_standalone %}
2 |     -
3 | {% else %}
4 |     {{ record.children.count }}
5 | {% endif %}


# File: oscardropship/templates/oscar/dashboard/catalogue/product_update.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load form_tags %}
  3 | {% load i18n %}
  4 | 
  5 | {% block body_class %}{{ block.super }} create-page catalogue{% endblock %}
  6 | 
  7 | {% block title %}
  8 |     {{ title }} | {% trans "Products" %} | {{ block.super }}
  9 | {% endblock %}
 10 | 
 11 | {% block breadcrumbs %}
 12 |     <ul class="breadcrumb">
 13 |         <li>
 14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 15 |         </li>
 16 |         <li>
 17 |             <a href="{% url 'dashboard:catalogue-product-list' %}">{% trans "Products" %}</a>
 18 |         </li>
 19 |         {% if parent %}
 20 |             <li>
 21 |                 <a href="{% url 'dashboard:catalogue-product' parent.id %}">
 22 |                     {{ parent.title }}
 23 |                 </a>
 24 |             </li>
 25 |         {% endif %}
 26 |         <li class="active">{{ title }}</li>
 27 |     </ul>
 28 | {% endblock %}
 29 | 
 30 | {% block headertext %}{{ title }}{% endblock %}
 31 | 
 32 | {% block dashboard_content %}
 33 |     <form action="{% if request.GET.urlencode %}?{{ request.GET.urlencode }}{% endif %}" method="post" class="form-stacked wysiwyg fixed-actions" enctype="multipart/form-data" data-behaviour="affix-nav-errors" autocomplete="off">
 34 |         {% csrf_token %}
 35 | 
 36 |         {% if parent %}
 37 |             <div class="row">
 38 |                 <div class="col-md-12">
 39 |                     <div class="alert alert-info">
 40 |                         {% url 'dashboard:catalogue-product' pk=parent.id as parent_url %}
 41 |                         {% blocktrans with title=parent.title %}
 42 |                             You are currently editing a product variant of
 43 |                             <a href="{{ parent_url }}">{{ title }}</a>.
 44 |                         {% endblocktrans %}
 45 |                     </div>
 46 |                 </div>
 47 |             </div>
 48 |         {% endif %}
 49 | 
 50 |         <div class="row">
 51 | 
 52 |             {% block tab_nav %}
 53 |                 <div class="col-md-3">
 54 |                     <div data-spy="affix" class="affix-top" data-offset-top="200">
 55 |                         <div class="table-header">
 56 |                             <h3>{% trans "Sections" %}</h3>
 57 |                         </div>
 58 |                         <ul class="nav nav-list bs-docs-sidenav" id="product_update_tabs">
 59 |                             {% comment %}
 60 |                                 The navigation below is filtered heavily on the product structure.
 61 |                                 This intentionally is the only place where filtering is done, as
 62 |                                 deployments are likely to want to override certain aspects of what
 63 |                                 data is stored on products of a certain structure. This means that
 64 |                                 only one template block (instead of all affected) has to be altered.
 65 |                             {% endcomment %}
 66 |                             {% block tabs %}
 67 |                                 <li class="active"><a href="#product_details" data-toggle="tab">{% trans 'Product details' %}</a></li>
 68 |                                 {% if not parent %}
 69 |                                     <li><a href="#product_category" data-toggle="tab">{% trans 'Categories' %}</a></li>
 70 |                                 {% endif %}
 71 |                                 {% if product_class.has_attributes %}
 72 |                                     <li><a href="#product_attributes" data-toggle="tab">{% trans 'Attributes' %}</a></li>
 73 |                                 {% endif %}
 74 |                                 <li><a href="#product_images" data-toggle="tab">{% trans 'Images' %}</a></li>
 75 |                                 {% if not product.is_parent %}
 76 |                                     <li><a href="#product_stock" data-toggle="tab">{% trans 'Stock and pricing' %}</a></li>
 77 |                                 {% endif %}
 78 |                                 {% if user.is_staff and not parent %}
 79 |                                     <li><a href="#child_products" data-toggle="tab">{% trans 'Variants' %}</a></li>
 80 |                                 {% endif %}
 81 |                                 {% if not parent %}
 82 |                                     <li><a href="#product_recommended" data-toggle="tab">{% trans 'Upselling' %}</a></li>
 83 |                                 {% endif %}
 84 |                             {% endblock tabs %}
 85 |                         </ul>
 86 |                     </div>
 87 |                 </div>
 88 |             {% endblock tab_nav %}
 89 | 
 90 |             <div class="col-md-9">
 91 |                 <div class="tab-content">
 92 |                     {% block tab_content %}
 93 |                         {% block product_details %}
 94 |                             <div class="tab-pane active" id="product_details">
 95 |                                 <div class="table-header">
 96 |                                     <h3>{% trans "Product details" %}</h3>
 97 |                                 </div>
 98 |                                 <div class="well product-details">
 99 |                                     {% block product_details_content %}
100 |                                         <span class="error-block">{{ form.non_field_errors }}</span>
101 |                                         {% for field in form.hidden_fields %}
102 |                                             {{ field }}
103 |                                         {% endfor %}
104 | 
105 |                                         {% for field in form.visible_fields %}
106 |                                             {% if 'attr' not in field.id_for_label %}
107 |                                                 {% include 'oscar/dashboard/partials/form_field.html' with field=field %}
108 |                                             {% endif %}
109 |                                         {% endfor %}
110 |                                     {% endblock product_details_content %}
111 |                                 </div>
112 |                             </div>
113 |                         {% endblock product_details %}
114 | 
115 |                         {% block product_categories %}
116 |                             <div class="tab-pane" id="product_category">
117 |                                 {% block product_categories_content %}
118 |                                     <table class="table table-striped table-bordered form-inline">
119 |                                         <caption>{% trans "Category" %}</caption>
120 |                                         {{ category_formset.management_form }}
121 |                                         {{ category_formset.non_form_errors }}
122 |                                         {% for category_form in category_formset %}
123 |                                             <tr>
124 |                                                 <td>
125 |                                                     {% include "oscar/dashboard/partials/form_fields_inline.html" with form=category_form %}
126 |                                                 </td>
127 |                                             </tr>
128 |                                         {% endfor %}
129 |                                     </table>
130 |                                 {% endblock product_categories_content %}
131 |                             </div>
132 |                         {% endblock product_categories %}
133 | 
134 |                         {% block product_attributes %}
135 |                             <div class="tab-pane" id="product_attributes">
136 |                                 {% block product_attributes_content %}
137 |                                     <table class="table table-striped table-bordered">
138 |                                         <caption>
139 |                                             {% trans "Attributes" %}
140 |                                             <span class="label label-success">
141 |                                                 {% trans "Product Type:" %} {{ product_class }}
142 |                                             </span>
143 |                                         </caption>
144 |                                         {% for field in form %}
145 |                                             {% if 'attr' in field.id_for_label %}
146 |                                                 <tr>
147 |                                                     <td>
148 |                                                         {% include "oscar/dashboard/partials/form_field.html" %}
149 |                                                     </td>
150 |                                                 </tr>
151 |                                             {% endif %}
152 |                                         {% endfor %}
153 |                                     </table>
154 |                                 {% endblock product_attributes_content %}
155 |                             </div>
156 |                         {% endblock product_attributes %}
157 | 
158 |                         {% block product_images %}
159 |                             <div class="tab-pane" id="product_images">
160 |                                 {% block product_images_content %}
161 |                                     <div class="table-header">
162 |                                         <h3>{% trans "Upload, change or remove images" %}</h3>
163 |                                     </div>
164 |                                     <div class="well">
165 |                                         {{ image_formset.management_form }}
166 |                                         {{ image_formset.non_form_errors }}
167 |                                         <ol class='upload-image'>
168 |                                             {% for image_form in image_formset %}
169 |                                                 {% include "oscar/dashboard/partials/product_images.html" with form=image_form %}
170 |                                             {% endfor %}
171 |                                         </ol>
172 |                                         <p class="help-block">
173 |                                             {% trans 'Drag images to re-order them. Space for additional images will appear when images are added.' %}
174 |                                         </p>
175 |                                     </div>
176 |                                 {% endblock product_images_content %}
177 |                             </div>
178 |                         {% endblock product_images %}
179 | 
180 |                         {% block stockrecords %}
181 |                             <div class="tab-pane" id="product_stock">
182 |                                 {% block stockrecords_content %}
183 |                                     <table class="table table-striped table-bordered">
184 |                                         <caption>{% trans "Stock and pricing" %}</caption>
185 |                                         {{ stockrecord_formset.management_form }}
186 |                                         {{ stockrecord_formset.non_form_errors }}
187 |                                         <thead>
188 |                                             <tr>
189 |                                                 <th>{% trans "Partner" %}</th>
190 |                                                 <th>{% trans "SKU" %}</th>
191 |                                                 {% if product_class.track_stock %}
192 |                                                     <th>{% trans "Num in stock" %}</th>
193 |                                                     <th>{% trans "Num allocated" %}</th>
194 |                                                     <th>{% trans "Low stock threshold" %}</th>
195 |                                                 {% endif %}
196 |                                                 <th>{% trans "Currency" %}</th>
197 |                                                 <th>{% trans "Cost price" %}</th>
198 |                                                 <th>{% trans "Price (excl tax)" %}</th>
199 |                                                 <th>{% trans "Retail price" %}</th>
200 |                                                 <th>{% trans "Delete?" %}</th>
201 |                                             </tr>
202 |                                         </thead>
203 |                                         <tbody>
204 |                                             {% for stockrecord_form in stockrecord_formset %}
205 |                                                 {% if stockrecord_form.non_field_errors %}
206 |                                                 <tr>
207 |                                                     <td colspan="{% if product_class.track_stock %}10{% else %}7{% endif %}">
208 |                                                         {% for error in stockrecord_form.non_field_errors  %}
209 |                                                             <span class="error-block errorlist"><i class="icon-exclamation-sign"></i> {{ error }}</span>
210 |                                                         {% endfor %}
211 |                                                     </td>
212 |                                                 </tr>
213 |                                                 {% endif %}
214 |                                                 <tr>
215 |                                                     <td>{% include "oscar/dashboard/partials/form_field.html" with field=stockrecord_form.partner nolabel=True %}</td>
216 |                                                     <td>{% include "oscar/dashboard/partials/form_field.html" with field=stockrecord_form.partner_sku nolabel=True %}</td>
217 |                                                     {% if product_class.track_stock %}
218 |                                                         <td>{% include "oscar/dashboard/partials/form_field.html" with field=stockrecord_form.num_in_stock nolabel=True %}</td>
219 |                                                         <td>{{ stockrecord_form.instance.num_allocated|default:"-" }}</td>
220 |                                                         <td>{% include "oscar/dashboard/partials/form_field.html" with field=stockrecord_form.low_stock_threshold nolabel=True %}</td>
221 |                                                     {% endif %}
222 |                                                     <td>{% include "oscar/dashboard/partials/form_field.html" with field=stockrecord_form.price_currency nolabel=True %}</td>
223 |                                                     <td>{% include "oscar/dashboard/partials/form_field.html" with field=stockrecord_form.cost_price nolabel=True %}</td>
224 |                                                     <td>{% include "oscar/dashboard/partials/form_field.html" with field=stockrecord_form.price_excl_tax nolabel=True %}</td>
225 |                                                     <td>{% include "oscar/dashboard/partials/form_field.html" with field=stockrecord_form.price_retail nolabel=True %}</td>
226 |                                                     <td>
227 |                                                         {% include "oscar/dashboard/partials/form_field.html" with field=stockrecord_form.id nolabel=True %}
228 |                                                         {% include "oscar/dashboard/partials/form_field.html" with field=stockrecord_form.DELETE nolabel=True %}
229 |                                                     </td>
230 |                                                 </tr>
231 |                                             {% endfor %}
232 |                                         </tbody>
233 |                                     </table>
234 |                                 {% endblock stockrecords_content %}
235 |                             </div>
236 |                         {% endblock stockrecords %}
237 | 
238 |                         {% block child_products %}
239 |                             {% with children=product.children.all %}
240 |                                 <div class="tab-pane" id="child_products">
241 |                                     {% block child_products_content %}
242 |                                         <table class='table table-striped table-bordered'>
243 |                                             <caption>
244 |                                                 {% trans "Variants" %}
245 |                                                 <button class="btn btn-primary pull-right{% if not product.can_be_parent %} disabled{% endif %}" name="action" type="submit" value="create-child" data-loading-text="{% trans 'Adding...' %}">
246 |                                                     <i class="icon-plus"></i>
247 |                                                     {% trans "Add variant" %}
248 |                                                 </button>
249 |                                             </caption>
250 |                                             {% if children %}
251 |                                                 <tr>
252 |                                                     <th>{% trans "Title" %}</th>
253 |                                                     <th>{% trans "Attributes" %}</th>
254 |                                                     <th>{% trans "Stock records" %}</th>
255 |                                                     <th>&nbsp;</th>
256 |                                                 </tr>
257 |                                                 {% for child in children %}
258 |                                                     <tr>
259 |                                                         <td>{{ child.get_title }}</td>
260 |                                                         <td>{{ child.attribute_summary }}</td>
261 |                                                         <td>{{ child.stockrecords.count }}</td>
262 |                                                         <td>
263 |                                                             <a href="{% url 'dashboard:catalogue-product' pk=child.id %}" class="btn btn-primary">
264 |                                                                 {% trans "Edit" %}
265 |                                                             </a>
266 |                                                             <a href="{% url 'dashboard:catalogue-product-delete' pk=child.id %}" class="btn btn-danger">
267 |                                                                 {% trans "Delete" %}
268 |                                                             </a>
269 |                                                         </td>
270 |                                                     </tr>
271 |                                                 {% endfor %}
272 |                                             {% else %}
273 |                                                 <tr>
274 |                                                     <td colspan="3">
275 |                                                         {% if product.can_be_parent %}
276 |                                                             {% trans 'This product does not have any variants.' %}
277 |                                                         {% else %}
278 |                                                             {% trans "One can't add variants to this product at this point." %}
279 |                                                             {% if product.pk is None %}
280 |                                                                 {% trans "Please save the product before trying to add variants." %}
281 |                                                             {% elif product.has_stockrecords %}
282 |                                                                 {% trans 'This is likely because this product still has stock records.' %}
283 |                                                             {% endif %}
284 |                                                         {% endif %}
285 |                                                     </td>
286 |                                                 </tr>
287 |                                             {% endif %}
288 |                                         </table>
289 |                                     {% endblock child_products_content %}
290 |                                 </div>
291 |                             {% endwith %}
292 |                         {% endblock child_products %}
293 | 
294 |                         {% block recommended_products %}
295 |                             <div class="tab-pane" id="product_recommended">
296 |                                 {% block recommended_products_content %}
297 |                                     <table class="table table-striped table-bordered form-inline">
298 |                                         <caption>{% trans "Recommended products" %}</caption>
299 |                                         {{ recommended_formset.management_form }}
300 |                                         {{ recommended_formset.non_form_errors }}
301 |                                         {% for recommended_form in recommended_formset %}
302 |                                             <tr>
303 |                                                 <td>
304 |                                                     {% include "oscar/dashboard/partials/form_fields_inline.html" with form=recommended_form %}
305 |                                                 </td>
306 |                                             </tr>
307 |                                         {% endfor %}
308 |                                     </table>
309 |                                 {% endblock recommended_products_content %}
310 |                             </div>
311 |                         {% endblock recommended_products %}
312 |                     {% endblock tab_content %}
313 |                 </div>
314 |             </div>
315 |         </div>
316 | 
317 |         {% block fixed_actions_group %}
318 |             <div class="fixed-actions-group">
319 |                 <div class="form-group">
320 |                     <div class="pull-right">
321 |                         <a href="{% url 'dashboard:catalogue-product-list' %}">
322 |                             {% trans "Cancel" %}
323 |                         </a>
324 |                         {% trans "or" %}
325 |                         {% if parent %}
326 |                             <button class="btn btn-default btn-lg" name="action" type="submit" value="create-another-child" data-loading-text="{% trans 'Saving...' %}">
327 |                                 {% trans "Save and add another variant" %}
328 |                             </button>
329 |                         {% endif %}
330 |                         <button class="btn btn-default btn-lg" name="action" type="submit" value="continue" data-loading-text="{% trans 'Saving...' %}">
331 |                             {% trans "Save and continue editing" %}
332 |                         </button>
333 |                         <button class="btn btn-primary btn-lg" name="action" type="submit" value="save" data-loading-text="{% trans 'Saving...' %}">
334 |                             {% trans "Save" %}
335 |                         </button>
336 |                     </div>
337 |                     {% if product %}
338 |                         <a class="btn btn-success btn-lg" href="{{ product.get_absolute_url }}">{% trans "View on site" %}</a>
339 |                     {% endif %}
340 |                 </div>
341 |             </div>
342 |         {% endblock fixed_actions_group %}
343 |     </form>
344 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/catalogue/stockalert_list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} catalogue{% endblock %}
 6 | 
 7 | {% block title %}
 8 | {% trans "Stock alerts" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 | <ul class="breadcrumb">
13 |     <li>
14 |         <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |     </li>
16 |     <li class="active">{% trans "Stock alerts" %}</li>
17 | </ul>
18 | {% endblock %}
19 | 
20 | {% block header %}
21 | <div class="page-header">
22 |   <h1>{% trans "Stock alerts" %}</h1>
23 | </div>
24 | {% endblock header %}
25 | 
26 | {% block dashboard_content %}
27 | <div class="table-header">
28 |     <h2 class="pull-left"><i class="icon-sitemap icon-large"></i>{{ description }}</h2>
29 | 
30 |     <div class="pull-right">
31 |         <div class="btn-group pull-right">
32 |             <button class="btn btn-primary dropdown-toggle" type="submit" data-toggle="dropdown" aria-expanded="true">
33 |                 {% trans "Filter" %}
34 |                 <span class="caret"></span>
35 |             </button>
36 |             <ul class="dropdown-menu">
37 |                 <li><a href="{% url 'dashboard:stock-alert-list' %}">{% trans "All" %}</a></li>
38 |                 <li><a href="{% url 'dashboard:stock-alert-list' %}?status=Open">{% trans "Open" %}</a></li>
39 |                 <li><a href="{% url 'dashboard:stock-alert-list' %}?status=Closed">{% trans "Closed" %}</a></li>
40 |             </ul>
41 |         </div>
42 |     </div>
43 | </div>
44 | 
45 | <table class="table table-striped table-bordered table-hover">
46 |     {% if alerts %}
47 |     <tr>
48 |         <th>{% trans "Product" %}</th>
49 |         <th>{% trans "Partner" %}</th>
50 |         <th>{% trans "Low stock threshold" %}</th>
51 |         <th>{% trans "Current available stock" %}</th>
52 |         <th>{% trans "Date alert raised" %}</th>
53 |         <th>{% trans "Status" %}</th>
54 |         <th></th>
55 |     </tr>
56 |     {% for alert in alerts %}
57 |     <tr>
58 |         <td>
59 |             <a href="{% url 'dashboard:catalogue-product' alert.stockrecord.product.id %}{% if request.GET.urlencode %}?{{ request.GET.urlencode }}{% endif %}">
60 |                 {{ alert.stockrecord.product.get_title }}
61 |             </a>
62 |         </td>
63 |         <td>{{ alert.stockrecord.partner.display_name }}</td>
64 |         <td>{{ alert.stockrecord.low_stock_threshold }}</td>
65 |         <td>{{ alert.stockrecord.net_stock_level }}</td>
66 |         <td>{{ alert.date_created }}</td>
67 |         <td>{{ alert.status }}</td>
68 |         <td>
69 |             <a class="btn btn-info" href="{% url 'dashboard:catalogue-product' pk=alert.stockrecord.product.id %}">{% trans "Update" %}</a>
70 |         </td>
71 |     </tr>
72 |     {% endfor %}
73 | 
74 |     {% else %}
75 | 
76 |     <tr><td>{% trans "No stock alerts found." %}</td></tr>
77 | 
78 |     {% endif %}
79 | </table>
80 | 
81 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/comms/detail.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | 
  3 | 
  4 | {% load i18n %}
  5 | {% block body_class %}{{ block.super }} create-page{% endblock %}
  6 | 
  7 | {% block title %}
  8 |     {{ commtype.name }} | {{ block.super }}
  9 | {% endblock %}
 10 | 
 11 | {% block breadcrumbs %}
 12 |     <ul class="breadcrumb">
 13 |         <li>
 14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 15 |         </li>
 16 |         <li>
 17 |             <a href="{% url 'dashboard:comms-list' %}">{% trans "Emails" %}</a>
 18 |         </li>
 19 |         <li class="active"><a href=".">{{ commtype.name }}</a></li>
 20 |     </ul>
 21 | {% endblock %}
 22 | 
 23 | {% block header %}
 24 |     <div class="page-header">
 25 |         <h1>{{ commtype.name }}</h1>
 26 |     </div>
 27 | {% endblock header %}
 28 | 
 29 | 
 30 | {% block dashboard_content %}
 31 | 
 32 | 
 33 |     <form method="post" class="form-stacked">
 34 |         <div class="tabbable dashboard">
 35 |             {% if preview %}
 36 |                 <ul class="nav nav-tabs">
 37 |                     <li><a href="#email_form" data-toggle="tab">{% trans "Edit" %}</a></li>
 38 |                     <li class="active"><a href="#email_preview" data-toggle="tab">{% trans "Preview" %}</a></li>
 39 |                 </ul>
 40 |             {% else %}
 41 |                 <div class="table-header">
 42 |                     <h2><i class="icon-envelope icon-large"></i>{% trans "Edit email" %}</h2>
 43 |                 </div>
 44 |             {% endif %}
 45 | 
 46 |         <div class="{% if preview %}tab-content{% else %}well{% endif %}">
 47 |             <div class="tab-pane {% if not preview %}active{% endif %}" id="email_form">
 48 |                 {% csrf_token %}
 49 |                 {% include 'oscar/dashboard/partials/form_field.html' with field=form.name %}
 50 |                 <div class="table-header">
 51 |                     <h3>{% trans "Email content" %}</h3>
 52 |                 </div>
 53 |                 <div class="well">
 54 |                     <p>{% trans "These fields are rendered using Django's template system." %}</p>
 55 |                     <p>{% trans "You can use the following variables:" %}</p>
 56 |                     <dl>
 57 |                         <dt><code>{% templatetag openvariable %} user.get_full_name {% templatetag closevariable %}</code></dt>
 58 |                         <dd>{% trans "The full name of the user (if they have one)" %}</dd>
 59 |                         <dt><code>{% templatetag openvariable %} user.email {% templatetag closevariable %}</code></dt>
 60 |                         <dd>{% trans "The user's email address" %}</dd>
 61 |                         <dt><code>{% templatetag openvariable %} site.name {% templatetag closevariable %}</code></dt>
 62 |                         <dd>{% trans "The name of the site (eg example.com)" %}</dd>
 63 |                         {% if commtype.is_order_related %}
 64 |                             <dt><code>{% templatetag openvariable %} order.number {% templatetag closevariable %}</code></dt>
 65 |                             <dd>{% trans "Order number" %}</dd>
 66 |                         {% endif %}
 67 |                     </dl>
 68 |                 </div>
 69 |                 {% include 'oscar/dashboard/partials/form_field.html' with field=form.email_subject_template %}
 70 |                 {% include 'oscar/dashboard/partials/form_field.html' with field=form.email_body_template %}
 71 |                 {% include 'oscar/dashboard/partials/form_field.html' with field=form.email_body_html_template %}
 72 |                 <div class="table-header">
 73 |                     <h3>{% trans "Preview" %}</h3>
 74 |                 </div>
 75 |                 <div class="well">
 76 |                     {% if commtype.is_order_related %}
 77 |                         <p>{% trans "View a preview of this email using order:" %}</p>
 78 |                         {% include 'oscar/dashboard/partials/form_field.html' with field=form.preview_order_number %}
 79 |                     {% endif %}
 80 |                     <button type="submit" class="btn btn-primary btn-lg" name="show_preview" data-loading-text="{% trans 'Submitting...' %}">{% trans "View preview" %}</button>
 81 |                     <p>{% trans "or send a preview to:" %}</p>
 82 |                     {% include 'oscar/dashboard/partials/form_field.html' with field=form.preview_email %}
 83 |                     <button type="submit" class="btn btn-default" name="send_preview" data-loading-text="{% trans 'Sending...' %}">{% trans "Send preview email" %}</button>
 84 |                 </div>
 85 |             </div>
 86 |             <div class="tab-pane {% if preview %}active{% endif %}" id="email_preview">
 87 |                 <table class="table table-striped table-bordered table-hover">
 88 |                     <tr>
 89 |                         <th>{% trans "Subject" %}</th>
 90 |                         <td>{{ preview.subject }}</td>
 91 |                     </tr>
 92 |                     <tr>
 93 |                         <th>{% trans "Body text" %}</th>
 94 |                      <td><pre>{{ preview.body }}</pre></td>
 95 |                         </tr>
 96 |                         <tr>
 97 |                             <th>{% trans "Body HTML" %}</th>
 98 |                             <td>
 99 |                                 <iframe id="preview_box" width="100%" height="400">{{ preview.html }}</iframe>
100 |                             </td>
101 |                         </tr>
102 |                     </table>
103 |                 </div>
104 |                 <div class="form-actions">
105 |                     <button type="submit" class="btn btn-primary btn-lg" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button>
106 |                     {% trans "or" %} <a href="{% url 'dashboard:comms-list' %}">{% trans "cancel" %}</a>.
107 |                 </div>
108 |             </div>
109 | 
110 |         </div>
111 |     </form>
112 | 
113 | {% endblock dashboard_content %}
114 | 
115 | {% block onbodyload %}
116 | {{ block.super }}
117 | 
118 | $(function() {
119 |     // Sets the HTML email preview so it's css doesn't touch the page.
120 |     var el_preview_html = document.getElementById('preview_box');
121 |     var html = $(el_preview_html).text();
122 |     var doc = el_preview_html.contentWindow.document;
123 |     doc.open();
124 |     doc.write(html);
125 |     doc.close();
126 | });
127 | 
128 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/comms/list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | 
 3 | 
 4 | {% load i18n %}
 5 | 
 6 | {% block title %}
 7 |     {% trans "Emails" %} | {{ block.super }}
 8 | {% endblock %}
 9 | 
10 | {% block breadcrumbs %}
11 |     <ul class="breadcrumb">
12 |         <li>
13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
14 |         </li>
15 |         <li class="active"><a href=".">{% trans "Emails" %}</a></li>
16 |     </ul>
17 | {% endblock %}
18 | 
19 | {% block header %}
20 |     <div class="page-header">
21 |         <h1>{% trans "Emails" %}</h1>
22 |     </div>
23 | {% endblock header %}
24 | 
25 | {% block dashboard_content %}
26 |     <table class="table table-striped table-bordered table-hover">
27 |         <caption><i class="icon-envelope icon-large"></i>{% trans "Emails" %}</caption>
28 |         {% if commtypes %}
29 |             <thead>
30 |                 <tr>
31 |                     <th>{% trans "Code" %}</th>
32 |                     <th>{% trans "Name" %}</th>
33 |                     <th>{% trans "Category" %}</th>
34 |                     <th></th>
35 |                 </tr>
36 |             </thead>
37 |             <tbody>
38 |                 {% for commtype in commtypes %}
39 |                     <tr>
40 |                         <td><a href="{% url 'dashboard:comms-update' commtype.code %}">{{ commtype.code }}</a></td>
41 |                         <td>{{ commtype.name }}</td>
42 |                         <td>{{ commtype.category }}</td>
43 |                         <td>
44 |                             <a class="btn btn-success" href="{% url 'dashboard:comms-update' commtype.code %}">{% trans "Edit" %}</a>
45 |                         </td>
46 |                     </tr>
47 |                 {% endfor %}
48 |             </tbody>
49 | 
50 |         {% else %}
51 |             <tbody>
52 |                 <tr><td>{% trans "There are no defined emails to edit." %}</td></tr>
53 |             </tbody>
54 |         {% endif %}
55 |     </table>
56 |     {% include "oscar/dashboard/partials/pagination.html" %}
57 | 
58 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/offers/benefit_form.html

 1 | {% extends 'oscar/dashboard/offers/step_form.html' %}
 2 | 
 3 | 
 4 | {% load i18n %}
 5 | 
 6 | {% block progress %}
 7 |     {% include 'oscar/dashboard/offers/progress.html' with step=2 %}
 8 | {% endblock %}
 9 | 
10 | {% block form_fields %}
11 |     <span class="error-block">{{ form.non_field_errors }}</span>
12 | 
13 |     {% if form.fields.custom_benefit.choices %}
14 |         <h4>{% trans "Build a new incentive" %}</h4>
15 |     {% endif %}
16 |     {% include "oscar/dashboard/partials/form_field.html" with field=form.range %}
17 |     <p>
18 |         {% url 'dashboard:range-list' as range_list_url %}
19 |         {% blocktrans %}
20 |         Ranges can be created and edited from within the <a href="{{ range_list_url }}" target="_blank">range dashboard</a>.
21 |         {% endblocktrans %}
22 |     </p>
23 |     {% include "oscar/dashboard/partials/form_field.html" with field=form.type %}
24 |     {% include "oscar/dashboard/partials/form_field.html" with field=form.value %}
25 |     {% include "oscar/dashboard/partials/form_field.html" with field=form.max_affected_items %}
26 | 
27 |     {% if form.fields.custom_benefit.choices %}
28 |         <h4>{% trans "...or choose a pre-defined one" %}</h4>
29 |         {% include "oscar/dashboard/partials/form_field.html" with field=form.custom_benefit %}
30 |     {% endif %}
31 | {% endblock %}
32 | 
33 | {% block submittext %}{% trans "Continue to step 3" %}{% endblock %}
34 | 
35 | {% block onbodyload %}
36 |     {{ block.super }}
37 |     oscar.dashboard.offers.init();
38 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/offers/condition_form.html

 1 | {% extends 'oscar/dashboard/offers/step_form.html' %}
 2 | 
 3 | 
 4 | {% load i18n %}
 5 | 
 6 | {% block summary %}
 7 |     {% include 'oscar/dashboard/offers/summary.html' %}
 8 | {% endblock %}
 9 | 
10 | {% block progress %}
11 |     {% include 'oscar/dashboard/offers/progress.html' with step=3 %}
12 | {% endblock %}
13 | 
14 | {% block form_fields %}
15 |     <span class="error-block">{{ form.non_field_errors }}</span>
16 | 
17 |     {% if form.fields.custom_condition.choices %}
18 |     <h4>{% trans "Build a new condition" %}</h4>
19 |     {% endif %}
20 |     {% include "oscar/dashboard/partials/form_field.html" with field=form.range %}
21 |     <p>
22 |         {% url 'dashboard:range-list' as range_list_url %}
23 |         {% blocktrans %}
24 |         Ranges can be created and edited from within the <a href="{{ range_list_url }}" target="_blank">range dashboard</a>.
25 |         {% endblocktrans %}
26 |     </p>
27 |     {% include "oscar/dashboard/partials/form_field.html" with field=form.type %}
28 |     {% include "oscar/dashboard/partials/form_field.html" with field=form.value %}
29 | 
30 |     {% if form.fields.custom_condition.choices %}
31 |         <h4>{% trans "...or choose a pre-defined one" %}</h4>
32 |         {% include "oscar/dashboard/partials/form_field.html" with field=form.custom_condition %}
33 |     {% endif %}
34 | {% endblock %}
35 | 
36 | {% block submittext %}{% trans "Continue to step 4" %}{% endblock %}


# File: oscardropship/templates/oscar/dashboard/offers/metadata_form.html

1 | {% extends 'oscar/dashboard/offers/step_form.html' %}
2 | {% load i18n %}
3 | 
4 | {% block progress %}
5 |     {% include 'oscar/dashboard/offers/progress.html' with step=1 %}
6 | {% endblock %}
7 | 
8 | {% block submittext %}{% trans "Continue to step 2" %}{% endblock %}


# File: oscardropship/templates/oscar/dashboard/offers/offer_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 5 | 
 6 | {% block title %}
 7 |     {% trans "Delete offer" %} | {% trans "Offers" %} | {{ block.super }}
 8 | {% endblock %}
 9 | 
10 | {% block breadcrumbs %}
11 |     <ul class="breadcrumb">
12 |         <li>
13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
14 |         </li>
15 |         <li>
16 |             <a href="{% url 'dashboard:offer-list' %}">{% trans "Offers" %}</a>
17 |         </li>
18 |         <li>
19 |             <a href="{% url 'dashboard:offer-detail' pk=offer.pk %}">'{{ offer.name }}'</a>
20 |         </li>
21 |         <li class="active">{% trans "Delete?" %}</li>
22 |     </ul>
23 | {% endblock %}
24 | 
25 | {% block headertext %}
26 |     {{ offer.name }}
27 | {% endblock %}
28 | 
29 | {% block dashboard_content %}
30 |     <form method="post">
31 |         {% csrf_token %}
32 |         <p>{% trans "Are you sure you want to delete this offer?" %}</p>
33 |         <div class="form-actions">
34 |             <button class="btn btn-lg btn-danger" type="submit" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button> {% trans "or" %}
35 |             <a href="{% url 'dashboard:offer-list' %}">{% trans "cancel" %}</a>
36 |         </div>
37 |     </form>
38 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/offers/offer_detail.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load currency_filters %}
  3 | {% load i18n %}
  4 | 
  5 | {% block title %}
  6 |     {% blocktrans with name=offer.name %}
  7 |         {{ name }} | Offers
  8 |     {% endblocktrans %} | {{ block.super }}
  9 | {% endblock %}
 10 | 
 11 | {% block breadcrumbs %}
 12 |     <ul class="breadcrumb">
 13 |         <li>
 14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 15 |         </li>
 16 |         <li>
 17 |             <a href="{% url 'dashboard:offer-list' %}">{% trans "Offers" %}</a>
 18 |         </li>
 19 |         <li class="active">{{ offer.name }}</li>
 20 |     </ul>
 21 | {% endblock %}
 22 | 
 23 | {% block header %}
 24 |     <div class="page-header">
 25 |         <form id="status_form" class="pull-right" method="post">
 26 |             {% csrf_token %}
 27 |             {% if offer.is_suspended %}
 28 |                 <button type="submit" class="btn btn-success" name="unsuspend" data-loading-text="{% trans 'Reinstating...' %}">{% trans "Reinstate offer" %}</button>
 29 |             {% else %}
 30 |                 <button type="submit" class="btn btn-default" name="suspend" data-loading-text="{% trans 'Suspending...' %}">{% trans "Suspend offer" %}</button>
 31 |             {% endif %}
 32 |             <a class="btn btn-danger" href="{% url 'dashboard:offer-delete' pk=offer.pk %}">{% trans "Delete offer" %}</a>
 33 |         </form>
 34 |         <h1>{{ offer.name }}</h1>
 35 |     </div>
 36 | {% endblock header %}
 37 | 
 38 | {% block dashboard_content %}
 39 | 
 40 |     <table class="table table-bordered">
 41 |         <tr>
 42 |             <td>
 43 |                 {% if offer.is_available %}
 44 |                     <span class="label label-success">{% trans "Offer currently available" %}</span>
 45 |                 {% else %}
 46 |                     <span class="label label-danger">{% trans "Offer not available due to restrictions!" %}</span>
 47 |                 {% endif %}
 48 |             </td>
 49 |             <td>{% trans "Total cost:" %} <strong>{{ offer.total_discount|currency }}</strong></td>
 50 |             <td>{% trans "Number of orders:" %} <strong>{{ offer.num_orders }}</strong></td>
 51 |             <td>{% trans "Number of uses:" %} <strong>{{ offer.num_applications }}</strong></td>
 52 |         </tr>
 53 |     </table>
 54 | 
 55 |     <div class="table-header">
 56 |         <div class="pull-right" style="font-weight: normal">{% trans "Date created:" %} {{ offer.date_created }}</div>
 57 |         <h2>{% trans "Offer details" %}</h2>
 58 |     </div>
 59 |     <table class="table table-striped table-bordered">
 60 |         <tbody>
 61 |             <tr>
 62 |                 <th>{% trans "Name" %}</th>
 63 |                 <td>{{ offer.name }}</td>
 64 |                 <td rowspan="2"><a id="edit_metadata" href="{% url 'dashboard:offer-metadata' pk=offer.pk %}" class="btn btn-default">{% trans "Edit" %}</a></td>
 65 |             </tr>
 66 |             <tr>
 67 |                 <th>{% trans "Description" %}</th>
 68 |                 <td>{{ offer.description|safe|default:"-" }}</td>
 69 |             </tr>
 70 |             <tr>
 71 |                 <th>{% trans "Incentive" %}</th>
 72 |                 <td>{{ offer.benefit.description|safe }}</td>
 73 |                 <td><a href="{% url 'dashboard:offer-benefit' pk=offer.pk %}" class="btn btn-default">{% trans "Edit" %}</a></td>
 74 |             </tr>
 75 |             <tr>
 76 |                 <th>{% trans "Condition" %}</th>
 77 |                 <td>{{ offer.condition.description|safe }}</td>
 78 |                 <td><a href="{% url 'dashboard:offer-condition' pk=offer.pk %}" class="btn btn-default">{% trans "Edit" %}</a></td>
 79 |             </tr>
 80 |             <tr>
 81 |                 <th>{% trans "Restrictions" %}</th>
 82 |                 <td>
 83 |                     {% for restriction in offer.availability_restrictions %}
 84 |                         {% if not restriction.is_satisfied %}
 85 |                             <span class="label label-danger">
 86 |                                 {{ restriction.description }}
 87 |                             </span><br/>
 88 |                         {% else %}
 89 |                             {{ restriction.description }}</br>
 90 |                         {% endif %}
 91 |                     {% endfor %}
 92 |                 </td>
 93 |                 <td><a href="{% url 'dashboard:offer-restrictions' pk=offer.pk %}" class="btn btn-default">{% trans "Edit" %}</a></td>
 94 |             </tr>
 95 |         </tbody>
 96 |     </table>
 97 | 
 98 |     {% if order_discounts %}
 99 |         <div class="table-header">
100 |             <a class="pull-right btn" href=".?format=csv">{% trans "Export to CSV" %}</a>
101 |             <h2>{% trans "Orders that used this offer" %}</h2>
102 |         </div>
103 |         <table class="table table-bordered table-striped">
104 |             <thead>
105 |                 <th>{% trans "Order number" %}</th>
106 |                 <th>{% trans "Order date" %}</th>
107 |                 <th>{% trans "Order total" %}</th>
108 |                 <th>{% trans "Cost" %}</th>
109 |             </thead>
110 |             <tbody>
111 |                 {% for discount in order_discounts %}
112 |                     {% with order=discount.order %}
113 |                         <tr>
114 |                             <td><a href="{% url 'dashboard:order-detail' number=order.number %}">{{ order.number }}</a></td>
115 |                             <td>{{ order.date_placed }}</td>
116 |                             <td>{{ order.total_incl_tax|currency }}</td>
117 |                             <td>{{ discount.amount|currency }}</td>
118 |                         </tr>
119 |                     {% endwith %}
120 |                 {% endfor %}
121 |             </tbody>
122 |         </table>
123 |         {% include 'oscar/dashboard/partials/pagination.html' %}
124 |     {% endif %}
125 | 
126 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/offers/offer_list.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | 
  3 | {% load currency_filters %}
  4 | {% load sorting_tags %}
  5 | {% load i18n %}
  6 | 
  7 | {% block title %}
  8 |     {% trans "Offers" %} | {{ block.super }}
  9 | {% endblock %}
 10 | 
 11 | {% block breadcrumbs %}
 12 |     <ul class="breadcrumb">
 13 |         <li>
 14 |             <a href="{{ homepage_url }}">{% trans "Dashboard" %}</a>
 15 |         </li>
 16 |         <li class="active">{% trans "Offers" %}</li>
 17 |     </ul>
 18 | {% endblock %}
 19 | 
 20 | {% block header %}
 21 |     <div class="page-header">
 22 |         <a href="{% url 'dashboard:offer-metadata' %}" class="btn btn-primary btn-lg pull-right"><i class="icon-plus"></i> {% trans "Create new offer" %}</a>
 23 |         <h1>{% trans "Offers" %}</h1>
 24 |     </div>
 25 | {% endblock header %}
 26 | 
 27 | {% block dashboard_content %}
 28 |     <div class="well">
 29 |         <form method="get" class="form-inline">
 30 |             {% include 'oscar/dashboard/partials/form_fields_inline.html' with form=form %}
 31 |             <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Searching...' %}">{% trans "Search" %}</button>
 32 |         </form>
 33 |     </div>
 34 | 
 35 |     <form method="post" class="order_table">
 36 |         {% csrf_token %}
 37 |         <table class="table table-striped table-bordered">
 38 |             <caption>
 39 |                 <i class="icon-gift icon-large"></i>{{ queryset_description }}
 40 |                 {% if is_filtered %}
 41 |                     <a href="{% url 'dashboard:offer-list' %}" >{% trans "Reset" %}</a>
 42 |                 {% endif %}
 43 |             </caption>
 44 |             {% if offers %}
 45 |                 <tr>
 46 |                     <th>{% anchor 'name' _('Offer name') %}</th>
 47 |                     <th>{% anchor 'start_datetime' _('Start date') %}</th>
 48 |                     <th>{% anchor 'end_datetime' _('End date') %}</th>
 49 |                     <th>{% trans "Priority" %}</th>
 50 |                     <th>{% trans "Incentive" %}</th>
 51 |                     <th>{% trans "Condition" %}</th>
 52 |                     <th>{% trans "Is available?" %}</th>
 53 |                     <th>{% trans "Restrictions" %}</th>
 54 |                     <th>{% anchor 'num_applications' _('Uses') %}</th>
 55 |                     <th>{% anchor 'total_discount' _('Cost') %}</th>
 56 |                     <th></th>
 57 |                 </tr>
 58 |                 {% for offer in offers %}
 59 |                     <tr>
 60 |                         <td><a href="{% url 'dashboard:offer-detail' pk=offer.pk %}">{{ offer.name }}</a></td>
 61 |                         <td>{{ offer.start_datetime|default:"-" }}</td>
 62 |                         <td>{{ offer.end_datetime|default:"-" }}</td>
 63 |                         <td>{{ offer.priority }}</td>
 64 |                         <td>{{ offer.benefit.description|safe }}</td>
 65 |                         <td>{{ offer.condition.description|safe }}</td>
 66 |                         <td>{% if offer.is_available %}
 67 |                                 <span class="label label-success">{% trans "Yes" %}</span>
 68 |                             {% else %}
 69 |                                 <span class="label label-danger">{% trans "No" %}</span>
 70 |                             {% endif %}
 71 |                         </td>
 72 |                         <td>
 73 |                             {% for restriction in offer.availability_restrictions %}
 74 |                                 {% if not restriction.is_satisfied %}
 75 |                                     <label class="label label-danger">
 76 |                                         {{ restriction.description }}
 77 |                                     </label>
 78 |                                 {% else %}
 79 |                                     {{ restriction.description }}</br>
 80 |                                 {% endif %}
 81 |                             {% endfor %}
 82 |                         </td>
 83 |                         <td>{{ offer.num_applications }}</td>
 84 |                         <td>{{ offer.total_discount|currency }}</td>
 85 |                         <td>
 86 |                             <div class="btn-toolbar">
 87 |                                 <div class="btn-group">
 88 |                                     <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
 89 |                                         {% trans "Actions" %}
 90 |                                         <span class="caret"></span>
 91 |                                     </button>
 92 |                                     <ul class="dropdown-menu pull-right">
 93 |                                         <li><a class="" href="{% url 'offer:detail' slug=offer.slug %}">{% trans "Browse" %}</a></li>
 94 |                                         <li><a class="" href="{% url 'dashboard:offer-detail' pk=offer.pk %}">{% trans "Stats" %}</a></li>
 95 |                                         <li><a class="" href="{% url 'dashboard:offer-metadata' pk=offer.pk %}">{% trans "Edit" %}</a></li>
 96 |                                         <li><a class="" href="{% url 'dashboard:offer-delete' pk=offer.pk %}">{% trans "Delete" %}</a></li>
 97 |                                     </ul>
 98 |                                 </div>
 99 |                             </div>
100 |                         </td>
101 |                     </tr>
102 |                 {% endfor %}
103 | 
104 |             {% else %}
105 |                 <tr><td>{% trans "No offers found." %}</td></tr>
106 |             {% endif %}
107 |         </table>
108 |         {% include "oscar/dashboard/partials/pagination.html" %}
109 |     </form>
110 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/offers/progress.html

 1 | {% load i18n %}
 2 | 
 3 | <div data-spy="affix" class="affix-top" data-offset-top="200">
 4 |     <div class="table-header">
 5 |         <h3>{% trans "Steps" %}</h3>
 6 |     </div>
 7 |     <ul class="nav nav-list bs-docs-sidenav">
 8 |         <li class="step1 {% if step == 1 %}active{% else %}{% if step > 1 %}visited{% else %}disabled{% endif %}{% endif %}">
 9 |             {% if step == 2 or step == 3 or step == 4 %}
10 |             <a href="{% if session_offer.pk %}{% url 'dashboard:offer-metadata' pk=session_offer.pk %}{% else %}{% url 'dashboard:offer-metadata' %}{% endif %}">{% trans "1. Name and description" %}</a>
11 |             {% else %}
12 |                 <span>{% trans "1. Name and description" %}</span>
13 |             {% endif %}
14 |         </li>
15 |         <li class="step2 {% if step == 2 %}active{% else %}{% if step > 2 %}visited{% else %}disabled{% endif %}{% endif %}">
16 |             {% if step == 3 or step == 4 %}
17 |             <a href="{% if session_offer.pk %}{% url 'dashboard:offer-benefit' pk=session_offer.pk %}{% else %}{% url 'dashboard:offer-benefit' %}{% endif %}">{% trans "2. Incentive" %}</a>
18 |             {% else %}
19 |             <span>{% trans "2. Incentive" %}</span>
20 |             {% endif %}
21 |         </li>
22 |         <li class="step3 {% if step == 3 %}active{% else %}{% if step > 3 %}visited{% else %}disabled{% endif %}{% endif %}">
23 |             {% if step == 4 %}
24 |             <a href="{% if session_offer.pk %}{% url 'dashboard:offer-condition' pk=session_offer.pk %}{% else %}{% url 'dashboard:offer-condition' %}{% endif %}">{% trans "3. Condition" %}</a>
25 |             {% else %}
26 |             <span>{% trans "3. Condition" %}</span>
27 |             {% endif %}
28 |         </li>
29 |         <li class="step4 {% if step == 4 %}active{% else %}disabled{% endif %}">
30 |             <span>{% trans "4. Restrictions" %}</span>
31 |         </li>
32 |     </ul>
33 | </div>


# File: oscardropship/templates/oscar/dashboard/offers/restrictions_form.html

 1 | {% extends 'oscar/dashboard/offers/step_form.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block summary %}
 5 |     {% include 'oscar/dashboard/offers/summary.html' %}
 6 | {% endblock %}
 7 | 
 8 | {% block progress %}
 9 |     {% include 'oscar/dashboard/offers/progress.html' with step=4 %}
10 | {% endblock %}
11 | 
12 | {% block form_actions_buttons %}
13 |     <button class="btn btn-primary" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save this offer" %}</button>
14 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/offers/step_form.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | 
 3 | {% load currency_filters %}
 4 | 
 5 | {% load i18n %}
 6 | 
 7 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 8 | 
 9 | {% block title %}
10 |     {% if offer.pk %}
11 |         {{ offer.name }}:
12 |     {% else %}
13 |         {% trans "Create new offer" %}:
14 |     {% endif %}
15 |     {{ title }} | {% trans "Offers" %} | {{ block.super }}
16 | {% endblock %}
17 | 
18 | {% block breadcrumbs %}
19 | <ul class="breadcrumb">
20 |     <li>
21 |         <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
22 |     </li>
23 |     <li>
24 |         <a href="{% url 'dashboard:offer-list' %}">{% trans "Offers" %}</a>
25 |     </li>
26 |     {% if offer.pk %}
27 |     <li>
28 |         <a href="{% url 'dashboard:offer-detail' pk=offer.pk %}">{{ offer.name }}</a>
29 |     </li>
30 |     {% else %}
31 |     <li>
32 |         {% trans "Create new offer" %}
33 |     </li>
34 |     {% endif %}
35 |     <li class="active">{{ title }}</li>
36 | </ul>
37 | {% endblock %}
38 | 
39 | {% block headertext %}
40 |     {% if not offer.pk %}
41 |         {% trans "Create new offer" %}
42 |     {% else %}
43 |         {{ offer.name }}
44 |     {% endif %}
45 | {% endblock %}
46 | 
47 | {% block dashboard_content %}
48 |     <div class="row">
49 |         <div class="col-md-3">
50 |             {% block progress %}
51 |                 {% include 'oscar/dashboard/offers/progress.html' %}
52 |             {% endblock %}
53 |         </div>
54 |         <div class="{% if session_offer %}col-md-6{% else %}col-md-9{% endif %}">
55 |             <form method="post" class="form-stacked wysiwyg fixed-actions">
56 |                 <div class="table-header">
57 |                     <h3>{{ title }}</h3>
58 |                 </div>
59 |                 <div class="well">
60 |                     {% csrf_token %}
61 |                     <p>{% trans "Fields marked with * are mandatory." %}</p>
62 |                     {% block form_fields %}
63 |                         {% include "oscar/dashboard/partials/form_fields.html" with form=form %}
64 |                     {% endblock %}
65 |                     {% block form_extradata %}{% endblock %}
66 |                 </div>
67 | 
68 |                 {% block form_actions %}
69 | 
70 |                     <div class="fixed-actions-group">
71 |                         <div class="form-actions">
72 |                             <div class="pull-right">
73 |                             {% block form_actions_buttons %}
74 |                                 <button class="btn btn-primary" type="submit" data-loading-text="{% trans 'Submitting...' %}">{% block submittext %}{% trans "Continue" %}{% endblock %}</button>
75 |                                 {% if offer %}{# When editing offer, show saving button #}
76 |                                     <button class="btn btn-default" name="save" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save changes" %}</button>
77 |                                 {% endif %}
78 |                             {% endblock %}
79 |                             </div>
80 |                             <a class="btn btn-default" href="{% url 'dashboard:offer-list' %}">{% trans "cancel" %}</a>
81 |                         </div>
82 |                     </div>
83 | 
84 |                 {% endblock form_actions %}
85 |             </form>
86 |         </div>
87 |         {% if session_offer %}
88 |         <div class="col-md-3">
89 |             {% block summary %}
90 |                 {% include 'oscar/dashboard/offers/summary.html' %}
91 |             {% endblock %}
92 |         </div>
93 |         {% endif %}
94 |     </div>
95 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/offers/summary.html

 1 | {% load i18n %}
 2 | 
 3 | <div class="table-header">
 4 |     <h3>{% trans "Offer summary" %}</h3>
 5 | </div>
 6 | <div class="well-stacked">
 7 |     {% if session_offer.name %}
 8 |         <div class="well">
 9 |             <a href="{% if session_offer.pk %}{% url 'dashboard:offer-metadata' pk=session_offer.pk %}{% else %}{% url 'dashboard:offer-metadata' %}{% endif %}" class="btn btn-default pull-right">{% trans "Edit" %}</a>
10 |             <p><strong>{% trans "Name" %}:</strong><br /> {{ session_offer.name }}</p>
11 |             {% if session_offer.description %}
12 |             <p><strong>{% trans "Description" %}:</strong><br /> {{ session_offer.description|safe|striptags|truncatewords:8 }}</p>
13 |             {% endif %}
14 |         </div>
15 |     {% endif %}
16 |     {% if session_offer.benefit %}
17 |         <div class="well">
18 |             <a href="{% if session_offer.pk %}{% url 'dashboard:offer-benefit' pk=session_offer.pk %}{% else %}{% url 'dashboard:offer-benefit' %}{% endif %}" class="btn btn-default pull-right">{% trans "Edit" %}</a>
19 |             <p><strong>{% trans "Incentive" %}:</strong><br /> {{ session_offer.benefit.description|safe }}</p>
20 | 
21 |         </div>
22 |     {% endif %}
23 |     {% if session_offer.condition %}
24 |         <div class="well">
25 |             <a href="{% if session_offer.pk %}{% url 'dashboard:offer-condition' pk=session_offer.pk %}{% else %}{% url 'dashboard:offer-condition' %}{% endif %}" class="btn btn-default pull-right">{% trans "Edit" %}</a>
26 |             <p><strong>{% trans "Condition" %}:</strong><br/>{{ session_offer.condition.description|safe }}</p>
27 |         </div>
28 |     {% endif %}
29 |     {% if session_offer.pk %}
30 |         <div class="well">
31 |             <a href="{% if session_offer.pk %}{% url 'dashboard:offer-restrictions' pk=session_offer.pk %}{% else %}{% url 'dashboard:offer-restrictions' %}{% endif %}" class="btn btn-default pull-right">{% trans "Edit" %}</a>
32 |             <p><strong>{% trans "Restrictions" %}:</strong> <br/> {% if offer.availability_restrictions %}</p>
33 | 
34 |                 <ul>
35 |                 {% for restriction in offer.availability_restrictions %}
36 |                 <li>{{ restriction.description }}</li>
37 |                 {% endfor %}
38 |                 </ul>
39 |             {% else %}
40 |             -
41 |             {% endif %}
42 |         </div>
43 |     {% endif %}
44 | </div>


# File: oscardropship/templates/oscar/dashboard/orders/partials/bulk_edit_form.html

 1 | {% load i18n %}
 2 | 
 3 | {% if status %}
 4 |     <div class="well well-danger">
 5 |         {% if status == "new" or status == "processing" %}
 6 |             <button class="btn btn-primary" type="submit" name="action" value="generate_packing_slips" data-loading-text="{% trans 'Submitting...' %}">{% trans "Print Packaging Slips" %}</button>
 7 |         {% endif %}
 8 | 
 9 |         {% for slug, name in available_status_list %}
10 |             <a data-toggle="modal" href="#{{ slug }}_modal" class="btn btn-primary">{% trans "Mark as" %} {{ name }}</a>
11 | 
12 |             <div class="modal hide fade" id="{{ slug }}_modal">
13 |                 <div class="modal-header">
14 |                     <button type="button" class="close" data-dismiss="modal">×</button>
15 |                     <h3>{% trans "Change order status to" %} {{ name }}</h3>
16 |                 </div>
17 | 
18 |                 <div class="modal-body">
19 |                     <span class="form-group">
20 |                         <label for="new_status">{% trans "Change order status to" %} {{ name }}</label>
21 |                         <input type="checkbox" name="new_status" id="new_status" value="{{ slug }}"/>
22 |                     </span>
23 |                 </div>
24 | 
25 |                 <div class="modal-footer">
26 |                     <a href="#" class="btn btn-default" data-dismiss="modal">{% trans "Cancel" %}</a>
27 |                     <button type="submit" class="btn btn-primary" name="action" value="change_status_selected_orders" data-loading-text="{% trans 'Submitting...' %}">{% trans "Done" %}</button>
28 |                 </div>
29 | 
30 |             </div>
31 |         {% endfor %}
32 |     </div>
33 | {% endif %}


# File: oscardropship/templates/oscar/dashboard/orders/line_detail.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load i18n %}
  3 | 
  4 | {% block title %}
  5 |     {% blocktrans with number=line.order.number id=line.id%}
  6 |         Order {{ number }} - Line #{{ id }}
  7 |     {% endblocktrans %} | {{ block.super }}
  8 | {% endblock %}
  9 | 
 10 | {% block breadcrumbs %}
 11 |     <ul class="breadcrumb">
 12 |         <li>
 13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 14 |         </li>
 15 |         <li>
 16 |             <a href="{% url 'dashboard:order-list' %}">{% trans "Orders" %}</a>
 17 |         </li>
 18 |         <li>
 19 |             <a href="{% url 'dashboard:order-detail' number=line.order.number %}">#{{ line.order.number }}</a>
 20 |         </li>
 21 |         <li class="active">{% blocktrans with id=line.id %}Line #{{ id }}{% endblocktrans %}</li>
 22 |     </ul>
 23 | {% endblock %}
 24 | 
 25 | {% block headertext %}
 26 |     {% blocktrans with number=line.order.number id=line.id %}Order #{{ number }} - Line #{{ id }}{% endblocktrans %}
 27 | {% endblock %}
 28 | 
 29 | {% block dashboard_content %}
 30 |     <div class="row">
 31 |         <div class="col-md-4">
 32 |             <div class="table-header">
 33 |                 <h3>{% trans "Product details" %}</h3>
 34 |             </div>
 35 |             <table class="table table-striped table-bordered">
 36 |                 <tr>
 37 |                     <th>{% trans "Title" context "Product title" %}</th>
 38 |                     <td>
 39 |                         {% if line.product %}
 40 |                             <a href="{{ line.product.get_absolute_url }}">{{ line.title }}</a>
 41 |                         {% else %}
 42 |                             {{ line.title }}
 43 |                         {% endif %}
 44 |                     </td>
 45 |                 </tr>
 46 |                 <tr>
 47 |                     <th>{% trans "Product Type" %}</th><td>{{ line.product.get_product_class }}</td>
 48 |                 </tr>
 49 |                 <tr>
 50 |                     <th>{% trans "UPC" %}</th><td>{{ line.upc|default:"-" }}</td>
 51 |                 </tr>
 52 |                 <tr>
 53 |                     <th>{% trans "Quantity" %}</th><td>{{ line.quantity }}</td>
 54 |                 </tr>
 55 |                 {% if line.attributes.exists %}
 56 |                     <tr>
 57 |                         <th colspan="2">{% trans "Product Options" %}</th>
 58 |                     </tr>
 59 |                     {% for attribute in line.attributes.all %}
 60 |                         <tr>
 61 |                             <th>{{ attribute.option }}</th>
 62 |                             <td>{{ attribute.value }}</td>
 63 |                         </tr>
 64 |                     {% endfor %}
 65 |                 {% endif %}
 66 |             </table>
 67 |         </div>
 68 |         <div class="col-md-4">
 69 |             <div class="table-header">
 70 |                 <h3>{% trans "Partner details" %}</h3>
 71 |             </div>
 72 |             <table class="table table-striped table-bordered">
 73 |                 <tr>
 74 |                     <th>{% trans "Status" %}</th><td>{{ line.status|default:"-" }}</td>
 75 |                 </tr>
 76 |                 <tr>
 77 |                     <th>{% trans "Partner" %}</th><td>{{ line.partner_name }}</td>
 78 |                 </tr>
 79 |                 <tr>
 80 |                     <th>{% trans "Partner SKU" %}</th><td>{{ line.partner_sku }}</td>
 81 |                 </tr>
 82 |             </table>
 83 |         </div>
 84 |         <div class="col-md-4">
 85 |             <div class="table-header">
 86 |                 <h3>{% trans "Shipping details" %}</h3>
 87 |             </div>
 88 |             <table class="table table-striped table-bordered">
 89 |                 <tr>
 90 |                     <th>{% trans "Partner reference number" %}</th><td>{{ line.partner_line_reference|default:"-" }}</td>
 91 |                 </tr>
 92 |                 <tr>
 93 |                     <th>{% trans "Partner notes" %}</th><td>{{ line.partner_line_notes|default:"-" }}</td>
 94 |                 </tr>
 95 |                 <tr>
 96 |                     <th>{% trans "Estimate dispatch date" %}</th><td>{{ line.est_dispatch_date|default:"-" }}</td>
 97 |                 </tr>
 98 |             </table>
 99 |         </div>
100 |     </div>
101 | 
102 |     <div class="row">
103 |         <div class="col-md-4">
104 |             <div class="table-header">
105 |                 <h3>{% trans "Shipping status" %}</h3>
106 |             </div>
107 |             <table class="table table-striped table-bordered">
108 |                 <thead>
109 |                     <tr>
110 |                         <th>{% trans "State" %}</th>
111 |                         <th>{% trans "Quantity" %}</th>
112 |                     </tr>
113 |                 </thead>
114 |                 <tbody>
115 |                     {% for state in line.shipping_event_breakdown.values %}
116 |                         <tr>
117 |                             <td>{{ state.event_type.name }}</td>
118 |                             <td>{{ state.quantity }}</td>
119 |                         </tr>
120 |                     {% empty %}
121 |                         <tr>
122 |                             <td colspan="2">{% trans "No shipping events have occurred." %}</td>
123 |                         </tr>
124 |                     {% endfor %}
125 |                 </tbody>
126 |             </table>
127 |         </div>
128 |         <div class="col-md-4">
129 |             <div class="table-header">
130 |                 <h3>{% trans "Shipping events" %}</h3>
131 |             </div>
132 |             <table class="table table-striped table-bordered">
133 |                 <thead>
134 |                     <tr>
135 |                         <th>{% trans "Event" %}</th>
136 |                         <th>{% trans "Quantity" %}</th>
137 |                         <th>{% trans "Reference" %}</th>
138 |                         <th>{% trans "Date" %}</th>
139 |                     </tr>
140 |                 </thead>
141 |                 <tbody>
142 |                     {% for event_qty in line.shipping_event_quantities.all %}
143 |                         <tr>
144 |                             {% with event=event_qty.event %}
145 |                                 <td>{{ event.event_type.name }}</td>
146 |                                 <td>{{ event_qty.quantity }}</td>
147 |                                 <td>{{ event.notes }}</td>
148 |                                 <td>{{ event.date_created }}</td>
149 |                             {% endwith %}
150 |                         </tr>
151 |                     {% empty %}
152 |                         <tr>
153 |                             <td colspan="4">{% trans "No shipping events have occurred." %}</td>
154 |                         </tr>
155 |                     {% endfor %}
156 |                 </tbody>
157 |             </table>
158 |         </div>
159 |         <div class="col-md-4">
160 |             <div class="table-header">
161 |                 <h3>{% trans "Payment events" %}</h3>
162 |             </div>
163 |             <table class="table table-striped table-bordered">
164 |                 <thead>
165 |                     <tr>
166 |                         <th>{% trans "Event" %}</th>
167 |                         <th>{% trans "Quantity" %}</th>
168 |                         <th>{% trans "Date" %}</th>
169 |                     </tr>
170 |                 </thead>
171 |                 <tbody>
172 |                     {% for event_qty in line.payment_event_quantities.all %}
173 |                         <tr>
174 |                             {% with event=event_qty.event %}
175 |                                 <td>{{ event.event_type.name }}</td>
176 |                                 <td>{{ event_qty.quantity }}</td>
177 |                                 <td>{{ event.date_created }}</td>
178 |                             {% endwith %}
179 |                         </tr>
180 |                     {% empty %}
181 |                         <tr>
182 |                             <td colspan="3">{% trans "No payment events have occurred." %}</td>
183 |                         </tr>
184 |                     {% endfor %}
185 |                 </tbody>
186 |             </table>
187 |         </div>
188 |     </div>
189 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/orders/order_detail.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load i18n %}
  3 | {% load currency_filters %}
  4 | 
  5 | {% block body_class %}{{ block.super }} orders{% endblock %}
  6 | 
  7 | {% block title %}
  8 |     {% blocktrans with number=order.number %}Order {{ number }}{% endblocktrans %} | {{ block.super }}
  9 | {% endblock %}
 10 | 
 11 | {% block breadcrumbs %}
 12 |     <ul class="breadcrumb">
 13 |         <li>
 14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 15 |         </li>
 16 |         <li>
 17 |             <a href="{% url 'dashboard:order-list' %}">{% trans "Orders" %}</a>
 18 |         </li>
 19 |         <li class="active">#{{ order.number }}</li>
 20 |     </ul>
 21 | {% endblock %}
 22 | 
 23 | {% block headertext %}
 24 |     {% blocktrans with number=order.number %}Order #{{ number }}{% endblocktrans %}
 25 | {% endblock  %}
 26 | 
 27 | {% block dashboard_content %}
 28 |     {% block customer_information %}
 29 |     <table class="table  table-bordered table-hover">
 30 |         <caption><i class="icon-group icon-large"></i>{% trans "Customer Information" %}</caption>
 31 |         {% if order.guest_email %}
 32 |             <tr>
 33 |                 <th>{% trans "Name" %}</th>
 34 |                 <th>{% trans "Email address" %}</th>
 35 |             </tr>
 36 |             <tr>
 37 |                 <td>
 38 |                     {% trans "Customer checked out as a guest." %}
 39 |                 </td>
 40 |                 <td>{{ order.email }}</td>
 41 |             </tr>
 42 |         {% elif order.user %}
 43 |             <tr>
 44 |                 <th>{% trans "Name" %}</th>
 45 |                 <th>{% trans "Email address" %}</th>
 46 |             </tr>
 47 |             <tr>
 48 |                 <td>{{ order.user.get_full_name|default:"-" }}</td>
 49 |                 <td>{{ order.user.email|default:"-" }}</td>
 50 |             </tr>
 51 |         {% else %}
 52 |             <tr><td>{% trans "Customer has deleted their account." %}</td></tr>
 53 |         {% endif %}
 54 |     </table>
 55 |     {% endblock customer_information %}
 56 | 
 57 |     {% block order_information %}
 58 |     <table class="table table-striped table-bordered table-hover">
 59 |         <caption><i class="icon-shopping-cart icon-large"></i>{% trans "Order information" %}</caption>
 60 |         <tr>
 61 |             <th>{% trans "Order Total" %}</th>
 62 |             <th>{% trans "Date of purchase" %}</th>
 63 |             <th>{% trans "Time of purchase" %}</th>
 64 |             <th>{% trans "Status" %}</th>
 65 |         </tr>
 66 |         <tr>
 67 |             <td>{{ order.total_incl_tax|currency:order.currency }}</td>
 68 |             <td>{{ order.date_placed|date }}</td>
 69 |             <td>{{ order.date_placed|time }}</td>
 70 |             <td>{{ order.status|default:"N/A" }}</td>
 71 |         </tr>
 72 |     </table>
 73 |     {% endblock order_information %}
 74 | 
 75 |     {% block additional_order_information %}
 76 |     {% endblock additional_order_information %}
 77 | 
 78 |     <div class="sub-header">
 79 |         <h2>{% trans "Order Details" %}</h2>
 80 |     </div>
 81 | 
 82 |     <div class="tabbable dashboard">
 83 | 
 84 |         <ul class="nav nav-tabs">
 85 |             {% block nav_tabs %}
 86 |                 <li class="{% if active_tab == 'lines' %}active{% endif %}"><a href="#lines" data-toggle="tab">{% trans "Order contents" %}</a></li>
 87 |                 <li class="{% if active_tab == 'shipping' %}active{% endif %}"><a href="#shipping" data-toggle="tab">{% trans "Shipping" %}</a></li>
 88 |                 <li class="{% if active_tab == 'payment' %}active{% endif %}"><a href="#payment" data-toggle="tab">{% trans "Payment" %}</a></li>
 89 |                 <li class="{% if active_tab == 'discounts' %}active{% endif %}"><a href="#discounts" data-toggle="tab">{% trans "Discounts" %}</a></li>
 90 |                 <li class="{% if active_tab == 'notes' %}active{% endif %}"><a href="#notes" data-toggle="tab">{% trans "Notes" %}</a></li>
 91 |             {% endblock nav_tabs %}
 92 |         </ul>
 93 | 
 94 |         <div class="tab-content">
 95 |             <div class="tab-pane {% if active_tab == 'lines' %}active{% endif %}" id="lines">
 96 |                 <div class="table-header">
 97 |                     <h3>{% trans "Items ordered" %}</h3>
 98 |                 </div>
 99 |                 <form id="order_lines_form" method="post" class="form-inline">
100 |                     {% csrf_token %}
101 |                     {% block order_lines %}
102 |                         <table class="table table-striped table-bordered table-hover">
103 |                             <thead>
104 |                                 <tr>
105 |                                     <th></th>
106 |                                     <th></th>
107 |                                     <th>{% trans "Line ID" %}</th>
108 |                                     <th>{% trans "Quantity" %}</th>
109 |                                     <th>{% trans "Product" %}</th>
110 |                                     <th>{% trans "UPC" %}</th>
111 |                                     <th>{% trans "Status" %}</th>
112 |                                     <th>{% trans "Supplier" %}</th>
113 |                                     <th>{% trans "Supplier SKU" %}</th>
114 |                                     <th>{% trans "Est. dispatch date" %}</th>
115 |                                     <th>{% trans "Price excl tax (before discounts)" %}</th>
116 |                                     <th>{% trans "Price inc tax (before discounts)" %}</th>
117 |                                     <th>{% trans "Actions" %}</th>
118 |                                 </tr>
119 |                             </thead>
120 |                             <tbody>
121 |                                 {% for line in lines %}
122 |                                     <tr>
123 |                                         <td>
124 |                                             <input type="checkbox" name="selected_line" value="{{ line.id }}" />
125 |                                         </td>
126 |                                         <td>
127 |                                             <input type="text" name="selected_line_qty_{{ line.id }}" value="{{ line.quantity }}" size="2" style="width:40px" />
128 |                                         </td>
129 |                                         <td><a href="{% url 'dashboard:order-line-detail' number=order.number line_id=line.id %}">#{{ line.id }}</a></td>
130 |                                         <td>{{ line.quantity }}</td>
131 |                                         <td>
132 |                                             {% if line.product %}
133 |                                                 <a href="{% url 'dashboard:catalogue-product' pk=line.product.id %}">{{ line.title }}</a>
134 |                                             {% else %}
135 |                                                 {{ line.title }}
136 |                                             {% endif %}
137 |                                         </td>
138 |                                         <td>{{ line.upc|default:"-" }}</td>
139 |                                         <td>{{ line.status|default:"-" }}</td>
140 |                                         <td>
141 |                                             {% if line.partner %}
142 |                                                 <a href="{% url 'dashboard:partner-manage' pk=line.partner.id %}">{{ line.partner_name }}</a>
143 |                                             {% else %}
144 |                                                 {{ line.partner_name }}
145 |                                             {% endif %}
146 |                                         </td>
147 |                                         <td>{{ line.partner_sku }}</td>
148 |                                         <td>{{ line.est_dispatch_date|default:"-" }}</td>
149 |                                         <td class="text-right">{{ line.line_price_before_discounts_excl_tax|currency:order.currency }}</td>
150 |                                         <td class="text-right">{{ line.line_price_before_discounts_incl_tax|currency:order.currency }}</td>
151 |                                         <td>
152 |                                             <a href="{% url 'dashboard:order-line-detail' number=order.number line_id=line.id %}" class="btn btn-info">{% trans "View" %}</a>
153 |                                         </td>
154 |                                     </tr>
155 |                                 {% endfor %}
156 | 
157 |                                 <tr>
158 |                                     <td colspan="9"></td>
159 |                                     <th>{% trans "Discount" %}</th>
160 |                                     <td class="text-right">{{ order.total_discount_excl_tax|currency:order.currency }}</td>
161 |                                     <td class="text-right">{{ order.total_discount_incl_tax|currency:order.currency }}</td>
162 |                                     <td></td>
163 |                                 </tr>
164 |                                 {% with discounts=order.basket_discounts %}
165 |                                     {% if discounts %}
166 |                                         <tr>
167 |                                             <td colspan="9"></td>
168 |                                             <th>{% trans "Basket total (excl. discounts)" %}</th>
169 |                                             <td class="text-right">{{ order.basket_total_before_discounts_excl_tax|currency:order.currency }}</td>
170 |                                             <td class="text-right">{{ order.basket_total_before_discounts_incl_tax|currency:order.currency }}</td>
171 |                                             <td></td>
172 |                                         </tr>
173 |                                         {% for discount in discounts %}
174 |                                             <tr>
175 |                                                 <td colspan="9"></td>
176 |                                                 <td>
177 |                                                     <span class="label label-success">{% trans "Discount" %}</span>
178 |                                                     {{ discount.offer_name }}
179 |                                                 </td>
180 |                                                 <td class="text-right"></td>
181 |                                                 <td class="text-right">- {{ discount.amount|currency:order.currency }}</td>
182 |                                                 <td></td>
183 |                                             </tr>
184 |                                         {% endfor %}
185 |                                         <tr>
186 |                                             <td colspan="9"></td>
187 |                                             <th>{% trans "Basket total (inc. discounts)" %}</th>
188 |                                             <th class="text-right">{{ order.basket_total_excl_tax|currency:order.currency }}</th>
189 |                                             <th class="text-right">{{ order.basket_total_incl_tax|currency:order.currency }}</th>
190 |                                             <td></td>
191 |                                         </tr>
192 |                                     {% else %}
193 |                                         <tr>
194 |                                             <td colspan="9"></td>
195 |                                             <th>{% trans "Basket total" %}</th>
196 |                                             <th class="text-right">{{ order.basket_total_excl_tax|currency:order.currency }}</th>
197 |                                             <th class="text-right">{{ order.basket_total_incl_tax|currency:order.currency }}</th>
198 |                                             <td></td>
199 |                                         </tr>
200 |                                     {% endif %}
201 |                                 {% endwith %}
202 | 
203 |                                 {% if order.has_shipping_discounts %}
204 |                                     <tr>
205 |                                         <td colspan="9"></td>
206 |                                         <td>{% trans "Shipping total (excl. discounts)" %}</td>
207 |                                         <td class="text-right">{{ order.shipping_before_discounts_excl_tax|currency:order.currency }}</td>
208 |                                         <td class="text-right">{{ order.shipping_before_discounts_incl_tax|currency:order.currency }}</td>
209 |                                         <td></td>
210 |                                     </tr>
211 |                                     {% for discount in order.shipping_discounts %}
212 |                                         <tr>
213 |                                             <td colspan="9"></td>
214 |                                             <td>
215 |                                                 <span class="label label-success">{% trans "Discount" %}</span>
216 |                                                 {{ discount.offer_name }}
217 |                                             </td>
218 |                                             <td></td>
219 |                                             <td class="text-right">- {{ discount.amount|currency:order.currency }}</td>
220 |                                             <td></td>
221 |                                         </tr>
222 |                                     {% endfor %}
223 |                                     <tr>
224 |                                         <td colspan="9"></td>
225 |                                         <th>{% trans "Shipping total (inc. discounts)" %}</th>
226 |                                         <th class="text-right">{{ order.shipping_excl_tax|currency:order.currency }}</th>
227 |                                         <th class="text-right">{{ order.shipping_incl_tax|currency:order.currency }}</th>
228 |                                         <td></td>
229 |                                     </tr>
230 |                                 {% else %}
231 |                                     <tr>
232 |                                         <td colspan="9"></td>
233 |                                         <th>{% trans "Shipping total" %}</th>
234 |                                         <th class="text-right">{{ order.shipping_excl_tax|currency:order.currency }}</th>
235 |                                         <th class="text-right">{{ order.shipping_incl_tax|currency:order.currency }}</th>
236 |                                         <td></td>
237 |                                     </tr>
238 |                                 {% endif %}
239 | 
240 |                                 {% with surcharges=order.surcharges.all %}
241 |                                 {% if surcharges %}
242 |                                     {% for charge in surcharges %}
243 |                                         <tr>
244 |                                             <td colspan="9"></td>
245 |                                             <th>{% blocktrans with name=charge.name %}Surcharge (name){% endblocktrans %}</th>
246 |                                             <th class="text-right">{{ charge.excl_tax|currency:order.currency }}</th>
247 |                                             <th class="text-right">{{ charge.incl_tax|currency:order.currency }}</th>
248 |                                             <td></td>
249 |                                         </tr>
250 |                                     {% endfor %}
251 |                                 {% endif %}
252 |                                 {% endwith %}
253 | 
254 |                                 <tr>
255 |                                     <td colspan="9"></td>
256 |                                     <th>{% trans "Order total" %}</th>
257 |                                     <th class="text-right">{{ order.total_excl_tax|currency:order.currency }}</th>
258 |                                     <th class="text-right">{{ order.total_incl_tax|currency:order.currency }}</th>
259 |                                     <td></td>
260 |                                 </tr>
261 |                             </tbody>
262 |                         </table>
263 |                     {% endblock order_lines %}
264 | 
265 |                     {% comment %}
266 |                         This is the important block within this template: you will almost certainly want to
267 |                         override this block to provide your own form widgets that suit your order processing
268 |                         flow.  The default contents shows a range of widgets - more than is sensible really.
269 |                     {% endcomment %}
270 |                     {% block line_actions %}
271 |                         <div class="well">
272 |                             <h3>{% trans "With selected lines" %}:</h3>
273 | 
274 |                             <div class="form-group">
275 |                                 <div class="">
276 |                                     <label class="radio-inline">
277 |                                         <input type="radio" name="line_action" value="change_line_statuses" /> {% trans "Change line status to" %}
278 |                                     </label>
279 |                                     <label class="radio-inline">
280 |                                         <select name="new_status">
281 |                                             <option value=""> -- {% trans "choose new status" %} -- </option>
282 |                                             {% for status in line_statuses %}
283 |                                                 <option>{{ status }}</option>
284 |                                             {% endfor %}
285 |                                         </select>
286 |                                     </label>
287 |                                 </div>
288 |                             </div>
289 |                             <div class="form-group">
290 |                                 <div class="">
291 |                                     <label class="radio-inline">
292 |                                         <input type="radio" name="line_action" value="create_shipping_event" /> {% trans "Create shipping event" %}
293 |                                     </label>
294 |                                     <label class="radio-inline">
295 |                                         <select name="shipping_event_type">
296 |                                             <option value=""> -- {% trans "choose event type" %} -- </option>
297 |                                             {% for event_type in shipping_event_types %}
298 |                                                 <option value="{{ event_type.code }}">{{ event_type.name }}</option>
299 |                                             {% endfor %}
300 |                                         </select>
301 |                                     </label>
302 |                                     <label class="radio-inline">
303 |                                         {% trans "with reference" %} <input type="text" name="reference" value="" />
304 |                                     </label>
305 |                                 </div>
306 |                             </div>
307 |                             <div class="form-group">
308 |                                 <div class="">
309 |                                     <label class="radio-inline">
310 |                                         <input type="radio" name="line_action" value="create_payment_event" /> {% trans "Create payment event" %}
311 |                                     </label>
312 |                                     <label class="radio-inline">
313 |                                         <select name="payment_event_type">
314 |                                             <option value=""> -- {% trans "choose event type" %} -- </option>
315 |                                             {% for event_type in payment_event_types %}
316 |                                                 <option value="{{ event_type.code }}">{{ event_type.name }}</option>
317 |                                             {% endfor %}
318 |                                         </select>
319 |                                     </label>
320 |                                     <label class="radio-inline">
321 |                                         {% trans "with amount" %} <input type="text" name="amount" value="" />
322 |                                     </label>
323 |                                 </div>
324 |                             </div>
325 |                             <input type="submit" value="{% trans "Go!" %}" class="btn btn-primary" />
326 |                         </div>
327 |                     {% endblock line_actions %}
328 |                 </form>
329 | 
330 |                 <form method="post" id="order_status_form">
331 |                     {% csrf_token %}
332 |                     {% block order_actions %}
333 |                         <div class="well">
334 |                             <h3><i class="icon-warning-sign"></i> {% trans "Change order status" %}:</h3>
335 |                             {% if order_status_form.has_choices %}
336 |                                 {% include "oscar/dashboard/partials/form_fields.html" with form=order_status_form %}
337 |                                 <input type="hidden" value="change_order_status" name="order_action" />
338 |                                 <input type="submit" value="{% trans "Change status" %}" class="btn btn-primary" />
339 |                             {% else %}
340 |                                 {% trans "This order can't have its status changed." %}
341 |                             {% endif %}
342 |                         </div>
343 |                     {% endblock %}
344 |                 </form>
345 | 
346 |                 {% block order_status_changes %}
347 |                     <div class="table-header">
348 |                         <h3>{% trans "Status Changes" %}</h3>
349 |                     </div>
350 |                     {% with status_changes=order.status_changes.all %}
351 |                         <table class="table table-striped table-bordered table-hover">
352 |                             {% if status_changes %}
353 |                                 <thead>
354 |                                     <tr>
355 |                                         <th>{% trans "From" %}</th>
356 |                                         <th>{% trans "To" %}</th>
357 |                                         <th>{% trans "Date" %}</th>
358 |                                     </tr>
359 |                                 </thead>
360 |                                 <tbody>
361 |                                     {% for status_change in status_changes %}
362 |                                         <tr>
363 |                                             <td>{{ status_change.old_status }}</td>
364 |                                             <td>{{ status_change.new_status }}</td>
365 |                                             <td>{{ status_change.date_created }}</td>
366 |                                         </tr>
367 |                                     {% endfor %}
368 |                                 </tbody>
369 |                             {% else %}
370 |                                 <tbody>
371 |                                     <tr>
372 |                                         <td>{% trans "No status changes." %}</td>
373 |                                     </tr>
374 |                                 </tbody>
375 |                             {% endif %}
376 |                         </table>
377 |                     {% endwith %}
378 |                 {% endblock %}
379 | 
380 |                 {% block shipping_events %}
381 |                     <div class="table-header">
382 |                         <h3>{% trans "Shipping Events" %}</h3>
383 |                     </div>
384 |                     {% with events=order.shipping_events.all %}
385 |                         <table class="table table-striped table-bordered table-hover">
386 |                             {% if events %}
387 |                                 <thead>
388 |                                     <tr>
389 |                                         <th>{% trans "Date" %}</th>
390 |                                         <th>{% trans "Event" %}</th>
391 |                                         <th>{% trans "Lines" %}</th>
392 |                                         <th>{% trans "Reference" %}</th>
393 |                                     </tr>
394 |                                 </thead>
395 |                                 <tbody>
396 |                                     {% for event in events %}
397 |                                         {% with line_qtys=event.line_quantities.all %}
398 |                                             <tr>
399 |                                                 <td>{{ event.date_created }}</td>
400 |                                                 <td>{{ event.event_type.name }}</td>
401 |                                                 <td>
402 |                                                     {% for line_qty in event.line_quantities.all %}
403 |                                                         <a href="{% url 'dashboard:order-line-detail' number=order.number line_id=line_qty.line.id %}">
404 |                                                             {% blocktrans with title=line_qty.line.title event_qty=line_qty.quantity total_qty=line_qty.line.quantity %}
405 |                                                                 {{ title }} (quantity {{ event_qty }}/{{ total_qty }})
406 |                                                             {% endblocktrans %}
407 |                                                         </a>
408 |                                                     {% endfor %}
409 |                                                 </td>
410 |                                                 <td>{{ event.notes|default:"-" }}</td>
411 |                                             </tr>
412 |                                         {% endwith %}
413 |                                     {% endfor %}
414 |                                 </tbody>
415 |                             {% else %}
416 |                                 <tbody>
417 |                                     <tr>
418 |                                         <td>{% trans "No shipping events." %}</td>
419 |                                     </tr>
420 |                                 </tbody>
421 |                             {% endif %}
422 |                         </table>
423 |                     {% endwith %}
424 |                 {% endblock %}
425 | 
426 |                 {% block payment_events %}
427 |                     <div class="table-header">
428 |                         <h3 >{% trans "Payment Events" %}</h3>
429 |                     </div>
430 |                     {% with events=order.payment_events.all %}
431 |                         <table class="table table-striped table-bordered table-hover">
432 |                             {% if events %}
433 |                                 <thead>
434 |                                     <tr>
435 |                                         <th>{% trans "Date" %}</th>
436 |                                         <th>{% trans "Event" %}</th>
437 |                                         <th>{% trans "Amount" %}</th>
438 |                                         <th>{% trans "Lines" %}</th>
439 |                                         <th>{% trans "Reference" %}</th>
440 |                                     </tr>
441 |                                 </thead>
442 |                                 <tbody>
443 |                                     {% for event in events %}
444 |                                         {% with line_qtys=event.line_quantities.all %}
445 |                                             <tr>
446 |                                                 <td >{{ event.date_created }}</td>
447 |                                                 <td >{{ event.event_type.name }}</td>
448 |                                                 <td >{{ event.amount|currency:order.currency }}</td>
449 |                                                 <td>
450 |                                                     {% for line_qty in event.line_quantities.all %}
451 |                                                         {% trans "Product:" %} {{ line_qty.line.title }} - {% trans "quantity" %} {{ line_qty.quantity }}</br>
452 |                                                     {% endfor %}
453 |                                                 </td>
454 |                                                 <td >{{ event.reference|default:"-" }}</td>
455 |                                             </tr>
456 |                                         {% endwith %}
457 |                                     {% endfor %}
458 |                                 </tbody>
459 |                             {% else %}
460 |                                 <tbody>
461 |                                     <tr><td>{% trans "No payment events." %}</td></tr>
462 |                                 </tbody>
463 |                             {% endif %}
464 |                         </table>
465 |                     {% endwith %}
466 |                 {% endblock %}
467 |             </div>
468 | 
469 |             <div class="tab-pane {% if active_tab == 'shipping' %}active{% endif %}" id="shipping">
470 |                 {% block tab_shipping %}
471 |                     <div class="table-header">
472 |                         <h3>{% trans "Shipping" %}</h3>
473 |                     </div>
474 |                     <table class="table table-striped table-bordered table-hover">
475 |                         <tbody>
476 |                             <tr>
477 |                                 <th>{% trans "Method name" %}</th>
478 |                                 <td>{{ order.shipping_method }}</td>
479 |                             </tr>
480 |                             <tr>
481 |                                 <th>{% trans "Method code" %}</th>
482 |                                 <td>{{ order.shipping_code|upper }}</td>
483 |                             </tr>
484 |                             <tr>
485 |                                 <th>{% trans "Charge (incl tax)" %}</th>
486 |                                 <td>{{ order.shipping_incl_tax|currency:order.currency }}</td>
487 |                             </tr>
488 |                             <tr>
489 |                                 <th>{% trans "Charge (excl tax)" %}</th>
490 |                                 <td>{{ order.shipping_excl_tax|currency:order.currency }}</td>
491 |                             </tr>
492 |                             <tr>
493 |                                 <th>{% trans "Address" %}</th>
494 |                                 <td>
495 |                                     {% for field in order.shipping_address.active_address_fields %}
496 |                                         {{ field }}<br/>
497 |                                     {% endfor %}
498 |                                     <a class="btn btn-default" href="{% url 'dashboard:order-shipping-address' order.number %}">
499 |                                         {% trans "Update" %}
500 |                                     </a>
501 |                                 </td>
502 |                             </tr>
503 |                             <tr>
504 |                                 <th>{% trans "Phone" %}</th>
505 |                                 <td>{{ order.shipping_address.phone_number|default:"-" }}</td>
506 |                             </tr>
507 |                             <tr>
508 |                                 <th>{% trans "Instructions" %}</th>
509 |                                 <td>{{ order.shipping_address.notes|default:"-"|linebreaks }}</td>
510 |                             </tr>
511 |                         </tbody>
512 |                     </table>
513 |                 {% endblock %}
514 |             </div>
515 | 
516 |             <div class="tab-pane {% if active_tab == 'payment' %}active{% endif %}" id="payment">
517 |                 {% block tab_payment %}
518 | 
519 |                     {% if order.billing_address %}
520 |                         <div class="sub-header">
521 |                             <h3 >{% trans "Billing address" %}</h3>
522 |                         </div>
523 |                         <p>
524 |                             {% for field in order.billing_address.active_address_fields %}
525 |                                 {{ field }}<br/>
526 |                             {% endfor %}
527 |                         </p>
528 |                     {% endif %}
529 | 
530 |                     {% with sources=order.sources.all %}
531 |                         <div class="table-header">
532 |                             <h3 >{% trans "Payment sources" %}</h3>
533 |                         </div>
534 |                         {% if sources %}
535 |                             <table class="table table-striped table-bordered table-hover">
536 |                                 <thead>
537 |                                     <tr>
538 |                                         <th>{% trans "Source" %}</th>
539 |                                         <th>{% trans "Allocation" %}</th>
540 |                                         <th>{% trans "Amount debited" %}</th>
541 |                                         <th>{% trans "Amount refunded" %}</th>
542 |                                         <th>{% trans "Reference" %}</th>
543 |                                     </tr>
544 |                                 </thead>
545 |                                 <tbody>
546 |                                     {% for source in sources %}
547 |                                         <tr>
548 |                                             <td>{{ source.source_type }}</td>
549 |                                             <td>{{ source.amount_allocated|currency:order.currency }}</td>
550 |                                             <td>{{ source.amount_debited|currency:order.currency }}</td>
551 |                                             <td>{{ source.amount_refunded|currency:order.currency }}</td>
552 |                                             <td>{{ source.reference|default:"-" }}</td>
553 |                                         </tr>
554 |                                     {% endfor %}
555 |                                 </tbody>
556 |                             </table>
557 |                         {% else %}
558 |                             <table class="table table-striped table-bordered table-hover">
559 |                                 <tr><td>{% trans "No payment sources found for this order." %}</td></tr>
560 |                             </table>
561 |                         {% endif %}
562 |                     {% endwith %}
563 | 
564 |                     {% block payment_transactions %}
565 |                         {% if payment_transactions %}
566 |                             <div class="table-header">
567 |                                 <h3>{% trans "Transactions" %}</h3>
568 |                             </div>
569 |                             <table class="table table-striped table-bordered table-hover">
570 |                                 <thead>
571 |                                     <tr>
572 |                                         <th>{% trans "Source" %}</th>
573 |                                         <th>{% trans "Amount" %}</th>
574 |                                         <th>{% trans "Reference" %}</th>
575 |                                         <th>{% trans "Status" %}</th>
576 |                                         <th>{% trans "Date" %}</th>
577 |                                     </tr>
578 |                                 </thead>
579 |                                 <tbody>
580 |                                     {% for txn in payment_transactions %}
581 |                                         <tr>
582 |                                             <td>{{ txn.source.source_type }}</td>
583 |                                             <td>{{ txn.amount|currency:order.currency }}</td>
584 |                                             <td>{{ txn.reference|default:"-" }}</td>
585 |                                             <td>{{ txn.status|default:"-" }}</td>
586 |                                             <td>{{ txn.date_created }}</td>
587 |                                         </tr>
588 |                                     {% endfor %}
589 |                                 </tbody>
590 |                             </table>
591 |                         {% endif %}
592 |                     {% endblock %}
593 | 
594 |                 {% endblock %}
595 |             </div>
596 | 
597 |             <div class="tab-pane {% if active_tab == 'discounts' %}active{% endif %}" id="discounts">
598 |                 {% block tab_discounts %}
599 | 
600 |                     {% with discounts=order.discounts.all %}
601 |                         <div class="table-header">
602 |                             <h3>{% trans "Discounts" %}</h3>
603 |                         </div>
604 |                         {% if discounts %}
605 |                             <table class="table table-striped table-bordered table-hover">
606 |                                 <thead>
607 |                                     <tr>
608 |                                         <th>{% trans "Type" %}</th>
609 |                                         <th>{% trans "Voucher" %}</th>
610 |                                         <th>{% trans "Offer name" %}</th>
611 |                                         <th>{% trans "Frequency" %}</th>
612 |                                         <th>{% trans "Message" %}</th>
613 |                                         <th>{% trans "Amount" %}</th>
614 |                                     </tr>
615 |                                 </thead>
616 |                                 <tbody>
617 |                                     {% for discount in discounts %}
618 |                                         <tr>
619 |                                             <td>{{ discount.get_category_display }}</td>
620 |                                             <td>
621 |                                                 {{ discount.voucher.code|default:"-" }}
622 |                                             </td>
623 |                                             <td>
624 |                                                 {% if discount.offer %}
625 |                                                     <a href="{% url 'dashboard:offer-detail' pk=discount.offer.id %}">{{ discount.offer.name }}</a>
626 |                                                 {% else %}
627 |                                                     {{ discount.offer_name }}
628 |                                                 {% endif %}
629 |                                             </td>
630 |                                             <td>{{ discount.frequency }}</td>
631 |                                             <td>{{ discount.message|default:"-" }}</td>
632 |                                             <td>{{ discount.amount|currency:order.currency }}</td>
633 |                                         </tr>
634 |                                     {% endfor %}
635 |                                 </tbody>
636 |                             </table>
637 |                         {% else %}
638 |                             <table class="table table-striped table-bordered table-hover">
639 |                                 <tr><td>{% trans "No discounts were applied to this order." %}</td></tr>
640 |                             </table>
641 |                         {% endif %}
642 |                     {% endwith %}
643 | 
644 |                 {% endblock %}
645 |             </div>
646 | 
647 |             <div class="tab-pane {% if active_tab == 'notes' %}active{% endif %}" id="notes">
648 |                 {% block tab_notes %}
649 |                     <div class="table-header">
650 |                         <h3>{% trans "Notes" %}</h3>
651 |                     </div>
652 |                     {% with notes=order.notes.all %}
653 |                         <table class="table table-striped table-bordered table-hover">
654 |                             {% if notes %}
655 |                                 <tr>
656 |                                     <th>{% trans "Date" %}</th>
657 |                                     <th>{% trans "User" %}</th>
658 |                                     <th>{% trans "Type" %}</th>
659 |                                     <th>{% trans "Message" %}</th>
660 |                                     <th>{% trans "Admin" %}</th>
661 |                                 </tr>
662 |                                 {% for note in notes %}
663 |                                     <tr>
664 |                                         <td>{{ note.date_created }}</td>
665 |                                         <td>{{ note.x_user|default:"-" }}</td>
666 |                                         <td>{{ note.note_type|default:"-" }}</td>
667 |                                         <td>{{ note.message|linebreaks }}</td>
668 |                                         <td>
669 |                                             {% if note.is_editable %}
670 |                                                 &nbsp;<a href="{% url 'dashboard:order-detail-note' number=order.number note_id=note.id %}#notes" class="btn btn-info">{% trans "Edit" %}</a>
671 |                                                 <form method="post" class="pull-left flat">
672 |                                                     {% csrf_token %}
673 |                                                     <input type="hidden" name="order_action" value="delete_note" />
674 |                                                     <input type="hidden" name="note_id" value="{{ note.id }}" />
675 |                                                     <input type="submit" value="{% trans "Delete" %}" class="btn btn-danger" />
676 |                                                 </form>
677 |                                             {% endif %}
678 |                                         </td>
679 |                                     </tr>
680 |                                 {% endfor %}
681 |                             {% else %}
682 |                                 <tr>
683 |                                     <td>{% trans "No notes available." %}</td>
684 |                                 </tr>
685 |                             {% endif %}
686 |                         </table>
687 |                     {% endwith %}
688 | 
689 |                     <form id="order_note_form" action=".?note={{ note_id }}" method="post" class="form-stacked">
690 |                         {% csrf_token %}
691 |                         <input type="hidden" value="save_note" name="order_action" />
692 |                         {% include "oscar/dashboard/partials/form_fields.html" with form=note_form %}
693 |                         <div class="form-actions">
694 |                             <input type="submit" value="{% trans "Save note" %}" class="btn btn-primary" />
695 |                             {% trans "Notes are only editable for 5 minutes after being saved." %}
696 |                         </div>
697 |                     </form>
698 |                 {% endblock %}
699 |             </div>
700 | 
701 |             {% block extra_tabs %}{% endblock %}
702 |         </div>
703 |     </div>
704 | {% endblock dashboard_content %}
705 | 
706 | {% block onbodyload %}
707 |     {{ block.super }}
708 |     oscar.dashboard.orders.initTabs();
709 |     oscar.dashboard.orders.initTable();
710 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/orders/order_list.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load currency_filters %}
  3 | {% load sorting_tags %}
  4 | {% load i18n %}
  5 | {% load widget_tweaks %}
  6 | 
  7 | {% block body_class %}{{ block.super }} orders{% endblock %}
  8 | 
  9 | {% block title %}
 10 |     {% trans "Orders" %} | {{ block.super }}
 11 | {% endblock %}
 12 | 
 13 | {% block breadcrumbs %}
 14 |     <ul class="breadcrumb">
 15 |         <li>
 16 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 17 |         </li>
 18 |         <li class="active">{% trans "Orders" %}</li>
 19 |     </ul>
 20 | {% endblock %}
 21 | 
 22 | {% block header %}
 23 |     <div class="page-header">
 24 |         <h1>{% trans "Orders" %}</h1>
 25 |     </div>
 26 | {% endblock header %}
 27 | 
 28 | {% block dashboard_content %}
 29 |     <div class="table-header">
 30 |         <h3><i class="icon-search icon-large"></i>{% trans "Search" %}</h3>
 31 |     </div>
 32 |     <div class="well">
 33 |         <form method="get" class="form-inline" id="search_form">
 34 |             {% for field in form %}
 35 |                 {% if "order" in field.id_for_label %}
 36 |                     {% if field.is_hidden %}
 37 |                         {% render_field field class+='form-control' %}
 38 |                     {% else %}
 39 |                         <span class="form-group{% if field.errors %} has-error{% endif %}">
 40 |                             {{ field.label_tag }}
 41 |                             {% render_field field class+='form-control' %}
 42 |                             {% for error in field.errors %}
 43 |                                 <ul class="error-block">
 44 |                                     <li>{{ error }}</li>
 45 |                                 </ul>
 46 |                             {% endfor %}
 47 |                         </span>
 48 |                     {% endif %}
 49 |                 {% endif %}
 50 |             {% endfor %}
 51 |             <input type="submit" value="{% trans "Search" %}" class="btn btn-primary" />
 52 |             <a data-toggle="modal" data-target="#SearchModal" href="#">{% trans "Advanced Search" %}</a>
 53 |         </form>
 54 | 
 55 |         {# Search modal, if there are form errors the form is automatically openend #}
 56 |         <div class="modal fade" data-show="true" id="SearchModal" role="dialog">
 57 |             <div class="modal-dialog">
 58 |                 <div class="modal-content">
 59 |                     <div class="modal-header">
 60 |                         <button type="button" class="close" data-dismiss="modal">&times;</button>
 61 |                         <h3>{% trans "Advanced Search" %}</h3>
 62 |                     </div>
 63 |                     <form method="get" class="form-horizontal">
 64 |                         <div class="modal-body">
 65 |                             <div class="container-fluid">
 66 |                             {% csrf_token %}
 67 |                             {% include "oscar/dashboard/partials/form_fields.html" with form=form style='horizontal' %}
 68 | 
 69 |                             </div>
 70 |                         </div>
 71 |                         <div class="modal-footer">
 72 |                             <a href="#" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</a>
 73 |                             <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Searching...' %}">{% trans "Search" %}</button>
 74 |                         </div>
 75 |                     </form>
 76 |                 </div>
 77 |             </div>
 78 |         </div>
 79 | 
 80 |         {% if search_filters %}
 81 |         <div class="search-filter-list">
 82 |             <label>Filters:</label>
 83 |             {% for filter in search_filters %}
 84 |             <span class="label label-success">{{ filter }}</span>
 85 |             {% endfor %}
 86 |         </div>
 87 | 
 88 |         {% endif %}
 89 |     </div>
 90 | 
 91 |     {% if orders %}
 92 |         <form method="post" class="order_table" id="orders_form">
 93 |             {% csrf_token %}
 94 |             {% include "oscar/dashboard/orders/partials/bulk_edit_form.html" with status=active_status %}
 95 | 
 96 |             {% block order_list %}
 97 |             <table class="table table-striped table-bordered table-hover">
 98 |                 <caption>
 99 |                     <h3 class="pull-left"><i class="icon-shopping-cart icon-large"></i>
100 |                         {% if search_filters %}
101 |                         {% trans "Order Search Results" %}
102 |                         {% else %}
103 |                         {% trans "All Orders" %}
104 |                         {% endif %}
105 |                     </h3>
106 |                     <div class="pull-right">
107 |                         <div class="form-inline">
108 |                             <label>{% trans "Download selected orders as a CSV" %}</label>
109 |                             <button type="submit" class="btn btn-primary" name="action" value="download_selected_orders" data-loading-text="{% trans 'Submitting...' %}">{% trans "Download" %}</button>
110 |                         </div>
111 |                     </div>
112 |                 </caption>
113 | 
114 |                 <thead>
115 |                     <tr>
116 |                         <th></th>
117 |                         <th>{% anchor 'number' _("Order number") %}</th>
118 |                         <th>{% anchor 'total_incl_tax' _("Total inc tax") %}</th>
119 |                         <th>{% trans "Number of items" %}</th>
120 |                         <th>{% trans "Status" %}</th>
121 |                         <th>{% trans "Customer" %}</th>
122 |                         <th>{% trans "Shipping address" %}</th>
123 |                         <th>{% trans "Billing address" %}</th>
124 |                         <th>{% trans "Date of purchase" %}</th>
125 |                         <th></th>
126 |                     </tr>
127 |                 </thead>
128 |                 <tbody>
129 |                 {% for order in orders %}
130 |                     <tr>
131 |                         <td><input type="checkbox" name="selected_order" class="selected_order" value="{{ order.id }}"/></td>
132 |                         <td><a href="{% url 'dashboard:order-detail' number=order.number %}">{{ order.number }}</a></td>
133 |                         <td>{{ order.total_incl_tax|currency:order.currency }}</td>
134 |                         <td>{{ order.num_items }}</td>
135 |                         <td>{{ order.status|default:"-" }}</td>
136 |                         <td>
137 |                             {% if order.guest_email %}
138 |                                 {{ order.guest_email }}
139 |                             {% elif order.user %}
140 |                                 <a href="{% url 'dashboard:user-detail' pk=order.user.id %}">{{ order.user.get_full_name|default:"-" }}</a>
141 |                             {% else %}
142 |                                 &lt;{% trans "Deleted" %}&gt;
143 |                             {% endif %}
144 |                         </td>
145 |                         <td>{{ order.shipping_address|default:"-" }}</td>
146 |                         <td>{{ order.billing_address|default:"-" }}</td>
147 |                         <td>{{ order.date_placed }}</td>
148 |                         <td>
149 |                             <a class="btn btn-info" href="{% url 'dashboard:order-detail' number=order.number %}">{% trans "View" %}</a>
150 |                         </td>
151 |                     </tr>
152 |                 {% endfor %}
153 |                 </tbody>
154 |             </table>
155 |             {% endblock order_list %}
156 |             {% block order_actions %}
157 |                 <div class="well">
158 |                     <h3><i class="icon-warning-sign"></i> {% trans "Change order status" %}:</h3>
159 |                     {% if order_statuses %}
160 |                         <div class="form-group">
161 |                             <div class="controls">
162 | 
163 |                             <select name="new_status">
164 |                                 <option value=""> -- {% trans "choose new status" %} -- </option>
165 |                                 {% for status in order_statuses %}
166 |                                     <option>{{ status }}</option>
167 |                                 {% endfor %}
168 |                             </select>
169 |                             </div>
170 |                         </div>
171 |                         <button type="submit" name="action" value="change_order_statuses" class="btn btn-primary" data-loading-text="{% trans 'Changing...' %}">{% trans "Change status" %}</button>
172 |                     {% else %}
173 |                         {% trans "This order can't have its status changed." %}
174 |                     {% endif %}
175 |                 </div>
176 |             {% endblock %}
177 | 
178 |             {% include "oscar/dashboard/orders/partials/bulk_edit_form.html" with status=active_status %}
179 |             {% include "oscar/dashboard/partials/pagination.html" %}
180 |         </form>
181 |     {% else %}
182 |         <table class="table table-striped table-bordered">
183 |             <caption><i class="icon-shopping-cart icon-large"></i>
184 |                 {% if search_filters %}
185 |                 {% trans "Order Search Results" %}
186 |                 {% else %}
187 |                 {% trans "All Orders" %}
188 |                 {% endif %}
189 |             </caption>
190 |             <tr><td>{% trans "No orders found." %}</td></tr>
191 |         </table>
192 |     {% endif %}
193 | 
194 |     {% endblock dashboard_content %}
195 | 
196 |     {% block onbodyload %}
197 |         {{ block.super }}
198 |         oscar.dashboard.orders.initTable();
199 |         oscar.dashboard.search.init();
200 |         {% if form.errors %}
201 |         $('#SearchModal').modal('show');
202 |         {% endif %}
203 |     {% endblock onbodyload %}


# File: oscardropship/templates/oscar/dashboard/orders/shippingaddress_form.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {% trans "Shipping address" %} | {% trans "Order" %} {{ order.number }} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block breadcrumbs %}
 9 |     <ul class="breadcrumb">
10 |         <li>
11 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
12 |         </li>
13 |         <li>
14 |             <a href="{% url 'dashboard:order-list' %}">{% trans "Orders" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:order-detail' number=order.number %}">{{ order.number }}</a>
18 |         </li>
19 |         <li class="active">{% trans "Edit shipping address" %}</li>
20 |     </ul>
21 | {% endblock %}
22 | 
23 | {% block headertext %}
24 |     {% blocktrans %}Edit shipping address for order {{ order.number }}{% endblocktrans %}
25 | {% endblock  %}
26 | 
27 | {% block content %}
28 | 
29 |     <form method="post" class="well form-horizontal">
30 |         {% csrf_token %}
31 |         {% include "oscar/dashboard/partials/form_fields.html" with form=form %}
32 |         <div class="form-actions">
33 |             <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Updating...' %}">{% trans "Update address" %}</button>
34 |             {% trans "or" %} <a href="{% url 'dashboard:order-detail' number=order.number %}">{% trans "cancel" %}</a>
35 |         </div>
36 |     </form>
37 | 
38 | {% endblock content %}
39 | 


# File: oscardropship/templates/oscar/dashboard/orders/statistics.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | {% load django_tables2 %}
 5 | 
 6 | {% block body_class %}{{ block.super }} orders{% endblock %}
 7 | 
 8 | {% block title %}
 9 |     {% trans "Order statistics" %} | {{ block.super }}
10 | {% endblock %}
11 | 
12 | {% block breadcrumbs %}
13 |     <ul class="breadcrumb">
14 |         <li>
15 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
16 |         </li>
17 |         <li>
18 |             <a href="{% url 'dashboard:order-list' %}">{% trans "Orders" %}</a>
19 |         </li>
20 |         <li class="active">{% trans "Statistics" %}</li>
21 |     </ul>
22 | {% endblock %}
23 | 
24 | {% block headertext %}{{ title }}{% endblock %}
25 | 
26 | {% block dashboard_content %}
27 |     <div class="table-header">
28 |         <h3><i class="icon-filter icon-large"></i> {% trans "Filter" %}</h3>
29 |     </div>
30 |     <div class="well">
31 |         <form method="get" action="{% url 'dashboard:order-stats' %}" class="form-inline">
32 |             {% include "oscar/dashboard/partials/form_fields_inline.html" with form=form %}
33 |             <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Filtering...' %}">{% trans "Filter result" %}</button>
34 |             <a href="{% url 'dashboard:order-stats' %}" class="btn btn-default">{% trans "Reset" %}</a>
35 |         </form>
36 |     </div>
37 | 
38 |     <table class="table table-striped table-bordered table-hover">
39 |         <caption><i class="icon-shopping-cart icon-large"></i>{% trans "Summary" %}</caption>
40 |         <tr>
41 |             <th>{% trans "Total orders" %}</th>
42 |             <td>{{ total_orders }}</td>
43 |         </tr>
44 |         <tr>
45 |             <th>{% trans "Total lines" %}</th>
46 |             <td>{{ total_lines }}</td>
47 |         </tr>
48 |         <tr>
49 |             <th>{% trans "Total revenue" %}</th>
50 |             <td>{{ total_revenue|currency }}</td>
51 |         </tr>
52 |     </table>
53 | 
54 |     {% if order_status_breakdown %}
55 |         <table class="table table-striped table-bordered table-hover">
56 |             <caption><i class="icon-shopping-cart icon-large"></i>{% trans "Order status breakdown" %}</caption>
57 |             <tr>
58 |                 <th>{% trans "Status" %}</th>
59 |                 <th>{% trans "Frequency" %}</th>
60 |             </tr>
61 |             {% for dict in order_status_breakdown %}
62 |                 <tr>
63 |                     <td><a href="{% url 'dashboard:order-list' %}{% querystring 'status'=dict.status %}">{{ dict.status }}</a></td>
64 |                     <td>{{ dict.freq }}</td>
65 |                 </tr>
66 |             {% endfor %}
67 |         </table>
68 |     {% endif %}
69 | 
70 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/pages/messages/saved.html

 1 | {% load i18n %}
 2 | 
 3 | <p>
 4 |     {% blocktrans with title=page.title %}
 5 |         Page <strong>{{ title }}</strong> saved!
 6 |     {% endblocktrans %}
 7 | </p>
 8 | <p>
 9 |     <a href="{{ page.url }}" class="btn btn-success">{% trans "View on site" %}</a>
10 |     <a href="{% url 'dashboard:page-update' pk=page.pk %}" class="btn btn-success">{% trans "Edit again" %}</a>
11 | </p>


# File: oscardropship/templates/oscar/dashboard/pages/delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 5 | 
 6 | {% block title %}
 7 |     {% blocktrans with title=object.title %}Delete page '{{ title }}'?{% endblocktrans %}
 8 |     | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:page-list' %}">{% trans "Pages" %}</a>
18 |         </li>
19 |         <li class="active">{% blocktrans with title=object.title %}Delete page '{{ title }}'?{% endblocktrans %}</li>
20 |     </ul>
21 | {% endblock %}
22 | 
23 | {% block headertext %}
24 |     {% blocktrans with title=object.title %}Delete page '{{ title }}'?{% endblocktrans %}
25 | {% endblock %}
26 | 
27 | {% block dashboard_content %}
28 |     <div class="table-header">
29 |         <h2>{% trans "Delete page" %}</h2>
30 |     </div>
31 |     <form method="post" class="well">
32 |         {% csrf_token %}
33 |         {{ form }}
34 |         <p>{% blocktrans with title=object.title %}Delete page <strong>{{ title }}</strong> - are you sure?{% endblocktrans %}</p>
35 |         <div class="form-actions">
36 |             <button type="submit" class="btn btn-danger" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button>
37 |             {% trans "or" %} <a href="{% url 'dashboard:page-list' %}">{% trans "cancel" %}</a>.
38 |         </div>
39 |     </form>
40 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/pages/index.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load dashboard_tags %}
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} pages{% endblock %}
 6 | 
 7 | {% block title %}
 8 |     {% trans "Pages" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li class="active">{% trans "Pages" %}</li>
17 |     </ul>
18 | {% endblock %}
19 | 
20 | {% block header %}
21 |     <div class="page-header">
22 |         <a href="{% url 'dashboard:page-create' %}" class="btn btn-primary btn-lg pull-right"><i class="icon-plus"></i> {% trans "Create new page" %}</a>
23 |         <h1>{% trans "Pages" %}</h1>
24 |     </div>
25 | {% endblock header %}
26 | 
27 | {% block dashboard_content %}
28 |     <div class="table-header">
29 |         <h3><i class="icon-search icon-large"></i>{% trans "Search" %}</h3>
30 |     </div>
31 |     <div class="well">
32 |         <form method="get" class="form-inline">
33 |             {% include "oscar/dashboard/partials/form_fields_inline.html" with form=form %}
34 |             <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Searching...' %}">{% trans "Search" %}</button>
35 |             <a href="{% url 'dashboard:page-list' %}" class="btn btn-default">{% trans "Reset" %}</a>
36 |         </form>
37 |     </div>
38 | 
39 |     <div class="table-header">
40 |         <h2><i class="icon-file icon-large"></i>{{ queryset_description }}</h2>
41 |     </div>
42 | 
43 | 
44 |     {% if flatpage_list %}
45 |         <form method="post">
46 |             {% csrf_token %}
47 |             <table class="table table-striped table-bordered table-hover">
48 |                 <thead>
49 |                     <tr>
50 |                         <th>{% trans "Title" context "Page title" %}</th>
51 |                         <th>{% trans "URL" %}</th>
52 |                         <th></th>
53 |                     </tr>
54 |                 </thead>
55 |                 <tbody>
56 |                     {% for page in flatpage_list %}
57 |                         <tr>
58 |                             <td><a href="{% url 'dashboard:page-update' pk=page.id %}">{{ page.title}}</a></td>
59 |                             <td><a title="{% trans "View on site" %}" href="{{ page.get_absolute_url }}">{{ page.url }}</a></td>
60 |                             <td>
61 |                                 <div class="btn-toolbar">
62 |                                     <div class="btn-group">
63 |                                         <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
64 |                                             {% trans "Actions" %}
65 |                                             <span class="caret"></span>
66 |                                         </button>
67 |                                         <ul class="dropdown-menu pull-right">
68 |                                             <li><a href="{{ page.get_absolute_url }}">{% trans "View" %}</a></li>
69 |                                             <li><a id="edit_page_{{ page.id }}" href="{% url 'dashboard:page-update' pk=page.id %}">{% trans "Edit" %}</a></li>
70 |                                             <li><a id="delete_page_{{ page.id }}" href="{% url 'dashboard:page-delete' pk=page.id %}">{% trans "Delete" %}</a></li>
71 |                                         </ul>
72 |                                     </div>
73 |                                 </div>
74 |                             </td>
75 |                         </tr>
76 |                     {% endfor %}
77 |                 </tbody>
78 |             </table>
79 |             {% include "oscar/dashboard/partials/pagination.html" %}
80 |         </form>
81 |     {% else %}
82 |         <table class="table table-striped table-bordered table-hover">
83 |             <tr><td>{% trans "No pages found." %}</td></tr>
84 |         </table>
85 |     {% endif %}
86 | 
87 | {% endblock dashboard_content %}
88 | 
89 | {% block onbodyload %}
90 |     {{ block.super }}
91 |     oscar.dashboard.search.init();
92 | {% endblock onbodyload %}


# File: oscardropship/templates/oscar/dashboard/pages/update.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} create-page pages{% endblock %}
 6 | {% block title %}
 7 | {{ title }} | {{ block.super }}
 8 | {% endblock %}
 9 | 
10 | {% block breadcrumbs %}
11 | <ul class="breadcrumb">
12 |     <li>
13 |         <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
14 |     </li>
15 |     <li>
16 |         <a href="{% url 'dashboard:page-list' %}">{% trans "Pages" %}</a>
17 |     </li>
18 |     <li class="active">{{ title }}</li>
19 | </ul>
20 | {% endblock %}
21 | 
22 | {% block headertext %}
23 | {{ title }}
24 | {% endblock %}
25 | 
26 | {% block dashboard_content %}
27 | <div class="table-header">
28 |     <h2>{{ title }}</h2>
29 | </div>
30 | 
31 | <form method="post" class="well form-stacked wysiwyg" enctype="multipart/form-data">
32 |     {% csrf_token %}
33 |     {% include 'oscar/dashboard/partials/form_fields.html' with form=form %}
34 |     <div class="form-actions">
35 |         <button class="btn btn-lg btn-primary" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button>
36 |         {% trans "or" %} <a href="{% url 'dashboard:page-list' %}">{% trans "cancel" %}</a>.
37 |     </div>
38 | </form>
39 | 
40 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/partials/alert_messages.html

 1 | {% load string_filters %}
 2 | 
 3 | {% comment %}
 4 | Use message tags to control these alerts.  Available tags include:
 5 | - safe: allow HTML in the message
 6 | - block: for longer messages - this adds extra padding
 7 | - noicon: don't show an icon
 8 | - error/success/info - these change the connotation of the alert
 9 | {% endcomment %}
10 | 
11 | <div id="messages">
12 | {% if messages %}
13 |     {% for message in messages %}
14 |     <div class="alert {% for tag in message.tags|split %}alert-{% if tag == 'error' %}danger{% else %}{{ tag }}{% endif %} {% endfor %} fade in" role="alert">
15 |         <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
16 |         <div class="alertinner {% if 'noicon' not in message.tags %}wicon{% endif %}">
17 |             {# Allow HTML to be embedded in messages #}
18 |             {% if 'safe' in message.tags %}
19 |                 {{ message|safe }}
20 |             {% else %}
21 |                 {{ message }}
22 |             {% endif %}
23 | 
24 |             {% if 'noicon' not in message.tags %}
25 |                 {# Include an icon by default #}
26 |                 {% if 'success' in message.tags %}
27 |                     <i class="icon-ok-sign"></i>
28 |                 {% elif 'info' in message.tags %}
29 |                     <i class="icon-info-sign"></i>
30 |                 {% elif 'warning' in message.tags %}
31 |                     <i class="icon-warning-sign"></i>
32 |                 {% elif 'danger' in message.tags or 'error' in message.tags %}
33 |                     <i class="icon-exclamation-sign"></i>
34 |                 {% endif %}
35 |             {% endif %}
36 |         </div>
37 |     </div>
38 |     {% endfor %}
39 | {% endif %}
40 | </div>


# File: oscardropship/templates/oscar/dashboard/partials/form.html

 1 | {% load i18n %}
 2 | 
 3 | <form {% if form_id %}id="{{ form_id }}"{% endif %} class="form-{{ style|default:"stacked" }} {{ class }}" method="{{ method|default:"post" }}"
 4 |     {% if action %}action="{{ action }}"{% endif %}
 5 |     {% if includes_files %}enctype="multipart/form-data"{% endif %}>
 6 | 
 7 |     {% if not method == "get" %}{% csrf_token %}{% endif %}
 8 |     {% include 'oscar/dashboard/partials/form_fields.html' %}
 9 |     <div class="form-group form-actions">
10 |         <button class="btn btn-lg btn-primary" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button>
11 |         {% trans "or" %} <a href="#" onclick="window.history.go(-1);return false" >{% trans "cancel" %}</a>.
12 |     </div>
13 | </form>
14 | 


# File: oscardropship/templates/oscar/dashboard/partials/form_field.html

 1 | {% load form_tags %}
 2 | {% load widget_tweaks %}
 3 | 
 4 | {% if field.is_hidden %}
 5 |     {{ field }}
 6 | {% else %}
 7 |     {% comment %}
 8 |         Make the field widget type available to templates so we can mark-up
 9 |         checkboxes differently to other widgets.
10 |     {% endcomment %}
11 |     {% annotate_form_field field %}
12 | 
13 |     {% block control_group %}
14 |         <div class="form-group {% if field.errors %}error{% endif %}">
15 | 
16 |             {% block label %}
17 |                 {% if not nolabel and field.widget_type != 'CheckboxInput' %}
18 |                     <label for="{{ field.auto_id }}" class="{% if style|default:"stacked" != 'stacked' %}col-sm-4{% endif%} control-label{% if field.field.required %} required{% endif %}">
19 |                         {{ field.label|safe }}
20 |                         {% if field.field.required %} <span>*</span>{% endif %}
21 |                     </label>
22 |                 {% endif %}
23 |             {% endblock %}
24 | 
25 |             {% block controls %}
26 |                 <div class="{% if style|default:"stacked" != 'stacked' %}col-sm-8{% endif %}{% if field.widget_type == 'CheckboxInput' %} checkbox{% endif %}">
27 |                     {% block widget %}
28 |                         {% if field.widget_type == 'CheckboxInput' %}
29 |                             <label for="{{ field.auto_id }}" class="checkbox {% if field.field.required %}required{% endif %}">
30 |                                 {% render_field field %}
31 |                                 {{ field.label|safe }}{% if field.field.required %} <span>*</span>{% endif %}
32 |                             </label>
33 |                         {% elif field.widget_type == 'RadioSelect' %}
34 |                             <label for="{{ field.auto_id }}" class="controls {% if field.field.required %}required{% endif %}">
35 |                             {% render_field field %}
36 |                             </label>
37 |                         {% else %}
38 |                             {% render_field field class+="form-control" %}
39 |                         {% endif %}
40 |                     {% endblock %}
41 | 
42 |                     {% block errors %}
43 |                         {% for error in field.errors %}
44 |                             <span class="error-block"><i class="icon-exclamation-sign"></i> {{ error }}</span>
45 |                         {% endfor %}
46 |                     {% endblock %}
47 | 
48 |                     {% block help_text %}
49 |                         {% if field.help_text %}
50 |                             <span class='help-block'>
51 |                                 {# We allow HTML within form help fields #}
52 |                                 {{ field.help_text|safe }}
53 |                             </span>
54 |                         {% endif %}
55 |                     {% endblock %}
56 |                 </div>
57 |             {% endblock %}
58 |         </div>
59 |     {% endblock %}
60 | {% endif %}


# File: oscardropship/templates/oscar/dashboard/partials/form_fields.html

 1 | {% load i18n %}
 2 | 
 3 | {% if form.is_bound and not form.is_valid %}
 4 |     <div class="alert alert-danger">
 5 |         <strong>{% trans "Oops! We found some errors" %}</strong> - {% trans "please check the error messages below and try again" %}
 6 |     </div>
 7 | {% endif %}
 8 | 
 9 | {% if form.non_field_errors %}
10 |     {% for error in form.non_field_errors %}
11 |         <div class="alert alert-danger form-group has-error">
12 |             <span class="help-inline"><i class="icon-exclamation-sign"></i> {{ error }}</span>
13 |         </div>
14 |     {% endfor %}
15 | {% endif %}
16 | 
17 | {% for field in form %}
18 |     {% include 'oscar/dashboard/partials/form_field.html' with field=field style=style %}
19 | {% endfor %}


# File: oscardropship/templates/oscar/dashboard/partials/form_fields_inline.html

 1 | {% load widget_tweaks %}
 2 | <span class="error-block">{{ form.non_field_errors }}</span>
 3 | {% for field in form %}
 4 |     {% if field.is_hidden %}
 5 |         {{ field }}
 6 |     {% else %}
 7 |         <span class="form-group {% if field.errors %}error{% endif %}">
 8 |             {{ field.label_tag }}
 9 |             {% render_field field class+='form-control' %}
10 |             {% for error in field.errors %}
11 |                 <ul class="error-block">
12 |                     <li>{{ error }}</li>
13 |                 </ul>
14 |             {% endfor %}
15 |             {# No help text as it wraps #}
16 |         </span>
17 |     {% endif %}
18 | {% endfor %}
19 | 


# File: oscardropship/templates/oscar/dashboard/partials/pagination.html

 1 | {% load display_tags %}
 2 | {% load i18n %}
 3 | 
 4 | {% if paginator.num_pages > 1 %}
 5 |     <div>
 6 |         <ul class="pager">
 7 |             {% if page_obj.has_previous %}
 8 |                 <li class="previous"><a href="?{% get_parameters page %}page={{ page_obj.previous_page_number }}">{% trans "previous" %}</a></li>
 9 |             {% endif %}
10 |             <li class="current">
11 |             {% blocktrans with page_num=page_obj.number total_pages=paginator.num_pages %}
12 |                 Page {{ page_num }} of {{ total_pages }}
13 |             {% endblocktrans %}
14 |             </li>
15 |             {% if page_obj.has_next %}
16 |                 <li class="next"><a href="?{% get_parameters page %}page={{ page_obj.next_page_number }}">{% trans "next" %}</a></li>
17 |             {% endif %}
18 |         </ul>
19 |     </div>
20 | {% endif %}


# File: oscardropship/templates/oscar/dashboard/partials/product_images.html

 1 | {% load i18n %}
 2 | <li class='sortable-handle'>
 3 |     {% for field in form %}
 4 |         {% if field.is_hidden %}
 5 |             {{ field }}
 6 |         {% elif "original" in field.id_for_label %}
 7 |             <div>{{ field }}</div>
 8 |             {% for error in field.errors %}
 9 |                 <ul class="error-block">
10 |                     <li>{{ error }}</li>
11 |                 </ul>
12 |             {% endfor %}
13 |             <a href="#" class="btn btn-info btn-handle btn-reorder {% if not form.instance.id %}disabled{% endif %}" {% if not form.instance.id %}disabled{% endif %}><i class="icon-move icon-large"></i> {% trans "Re-order" context "Change the sequence order" %}</a><br>
14 |         {% else %}
15 |             {{ field.label_tag }}
16 |             {{ field }}
17 |             {% for error in field.errors %}
18 |                 <ul class="error-block">
19 |                     <li>{{ error }}</li>
20 |                 </ul>
21 |             {% endfor %}
22 |         {% endif %}
23 |     {% endfor %}
24 |     {{ form.non_field_errors }}
25 | </li>


# File: oscardropship/templates/oscar/dashboard/partials/stock_info.html

 1 | <div class="form-group">
 2 |     {{ field.label_tag }}
 3 |     <div>
 4 |         {{ field }}
 5 |         {% for error in field.errors %}
 6 |             <ul class="error-block">
 7 |                 <li>{{ error }}</li>
 8 |             </ul>
 9 |         {% endfor %}
10 |     </div>
11 | </div>


# File: oscardropship/templates/oscar/dashboard/partners/messages/user_unlinked.html

1 | {% load i18n %}
2 | {% blocktrans %}
3 | User {{ user_name }} was unlinked from {{ partner_name }}.
4 | {% endblocktrans %}
5 | <a href="{% url 'dashboard:partner-user-link' partner_pk=partner_pk user_pk=user_pk %}">{% trans 'Undo' %}.</a>


# File: oscardropship/templates/oscar/dashboard/partners/partner_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 5 | 
 6 | {% block title %}
 7 |     {% trans "Delete partner" %} | {% trans "Partners" %} | {{ block.super }}
 8 | {% endblock %}
 9 | 
10 | {% block breadcrumbs %}
11 |     <ul class="breadcrumb">
12 |         <li>
13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
14 |         </li>
15 |         <li>
16 |             <a href="{% url 'dashboard:partner-list' %}">{% trans "Partners" %}</a>
17 |         </li>
18 |         <li>
19 |             <a href="{% url 'dashboard:partner-manage' pk=partner.pk %}">{{ partner.name }}</a>
20 |         </li>
21 |         <li class="active">{% trans "Delete?" %}</li>
22 |     </ul>
23 | {% endblock %}
24 | 
25 | {% block headertext %}
26 |     {{ partner.name }}
27 | {% endblock %}
28 | 
29 | {% block dashboard_content %}
30 |     <form method="post">
31 |         {% csrf_token %}
32 |         <p>{% trans "Are you sure you want to delete this partner?" %}</p>
33 |         <div class="form-actions">
34 |             <button class="btn btn-lg btn-danger" type="submit" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button> {% trans "or" %}
35 |             <a href="{% url 'dashboard:partner-list' %}">{% trans "cancel" %}</a>
36 |         </div>
37 |     </form>
38 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/partners/partner_form.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load category_tags %}
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} create-page partner{% endblock %}
 6 | 
 7 | {% block title %}
 8 |     {{ title }} | {% trans "Partners" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:partner-list' %}">{% trans "Partners" %}</a>
18 |         </li>
19 |         <li class="active">{{ title }}</li>
20 |     </ul>
21 | {% endblock %}
22 | 
23 | {% block headertext %}{{ title }}{% endblock %}
24 | 
25 | {% block dashboard_content %}
26 |     <div class="well">
27 |         {% include 'oscar/dashboard/partials/form.html' with form=form %}
28 |     </div>
29 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/partners/partner_list.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load sorting_tags %}
  3 | {% load i18n %}
  4 | 
  5 | {% block title %}
  6 |     {% trans "Partners" %} | {{ block.super }}
  7 | {% endblock %}
  8 | 
  9 | {% block breadcrumbs %}
 10 |     <ul class="breadcrumb">
 11 |         <li>
 12 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 13 |         </li>
 14 |         <li class="active">{% trans "Partners" %}</li>
 15 |     </ul>
 16 | {% endblock %}
 17 | 
 18 | {% block header %}
 19 |     <div class="page-header">
 20 |         <a href="{% url 'dashboard:partner-create' %}" class="btn btn-lg btn-primary pull-right"><i class="icon-plus"></i> {% trans "Create new partner" %}</a>
 21 |         <h1>{% trans "Partners" %}</h1>
 22 |     </div>
 23 | {% endblock header %}
 24 | 
 25 | {% block dashboard_content %}
 26 |     <div class="well">
 27 |         <form method="get" class="form-inline">
 28 |             {% include 'oscar/dashboard/partials/form_fields_inline.html' with form=form %}
 29 |             <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Searching...' %}">{% trans "Search" %}</button>
 30 |             {% if is_filtered %}
 31 |                 <a class="btn btn-default" href="{% url 'dashboard:partner-list' %}" >{% trans "Reset" %}</a>
 32 |             {% endif %}
 33 |         </form>
 34 |     </div>
 35 | 
 36 |     <form method="post" class="order_table">
 37 |         {% csrf_token %}
 38 |         <table class="table table-striped table-bordered">
 39 |             <caption>
 40 |                 <i class="icon-briefcase icon-large"></i>{{ queryset_description }}
 41 |             </caption>
 42 |             {% if partners %}
 43 |                 <tr>
 44 |                     <th>{% anchor 'name' _('Name') %}</th>
 45 |                     <th>{% trans 'Users' %}</th>
 46 |                     <th>{% trans 'Addresses' %}</th>
 47 |                     <th>&nbsp;</th>
 48 |                 </tr>
 49 |                 {% for partner in partners %}
 50 |                     <tr>
 51 |                         <td>
 52 |                             <a href="{% url 'dashboard:partner-manage' pk=partner.pk %}">{{ partner.name }}</a>
 53 |                         </td>
 54 |                         <td>
 55 |                             {% with users=partner.users.all %}
 56 |                                 {% if users %}
 57 |                                     <ul>
 58 |                                         {% for user in users %}
 59 |                                             <li>
 60 |                                                 <a href="{% url 'dashboard:partner-user-update' partner_pk=partner.pk user_pk=user.id %}" title="{% trans "Edit the user's details" %}">
 61 |                                                     {{ user.get_full_name|default:user.email }}
 62 |                                                 </a>
 63 |                                             </li>
 64 |                                         {% endfor %}
 65 |                                     </ul>
 66 |                                 {% else %}
 67 |                                     {% trans 'No users associated.' %}
 68 |                                 {% endif %}
 69 |                             {% endwith %}
 70 |                         </td>
 71 |                         <td>
 72 |                             {% with addresses=partner.addresses.all %}
 73 |                             {% if addresses %}
 74 |                                 <ul>
 75 |                                     {% for address in addresses %}
 76 |                                         <li>{{ address.summary }}</li>
 77 |                                     {% endfor %}
 78 |                                 </ul>
 79 |                             {% else %}
 80 |                                 {% trans 'No address associated.' %}
 81 |                             {% endif %}
 82 |                             {% endwith %}
 83 |                         </td>
 84 |                         <td>
 85 |                             <div class="btn-toolbar">
 86 |                                 <div class="btn-group">
 87 |                                     <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
 88 |                                         {% trans "Actions" %}
 89 |                                         <span class="caret"></span>
 90 |                                     </button>
 91 |                                     <ul class="dropdown-menu pull-right">
 92 |                                         <li><a href="{% url 'dashboard:partner-manage' pk=partner.pk %}">{% trans "Manage partner and users" %}</a></li>
 93 |                                         <li><a href="{% url 'dashboard:partner-delete' pk=partner.pk %}">{% trans "Delete partner" %}</a></li>
 94 |                                         <li><a href="{% url 'dashboard:partner-user-select' partner_pk=partner.pk %}">{% trans "Link an existing user" %}</a></li>
 95 |                                         <li><a href="{% url 'dashboard:partner-user-create' partner_pk=partner.pk %}">{% trans "Link a new user" %}</a></li>
 96 |                                     </ul>
 97 |                                 </div>
 98 |                             </div>
 99 |                         </td>
100 |                     </tr>
101 |                 {% endfor %}
102 |             {% else %}
103 |                 <tr><td>{% trans "No partners found." %}</td></tr>
104 |             {% endif %}
105 |         </table>
106 |         {% include "oscar/dashboard/partials/pagination.html" %}
107 |     </form>
108 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/partners/partner_manage.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load sorting_tags %}
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} create-page partners{% endblock %}
 6 | {% block title %}
 7 |     {{ partner.name }} | {% trans "Partners" %} | {{ block.super }}
 8 | {% endblock %}
 9 | 
10 | {% block breadcrumbs %}
11 |     <ul class="breadcrumb">
12 |         <li>
13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
14 |         </li>
15 |         <li>
16 |             <a href="{% url 'dashboard:partner-list' %}">{% trans "Partners" %}</a>
17 |         </li>
18 |         <li class="active">{{ partner.name }}</li>
19 |     </ul>
20 | {% endblock %}
21 | 
22 | {% block headertext %}{{ partner.name }}{% endblock %}
23 | 
24 | {% block dashboard_content %}
25 | 
26 |     <div class="row">
27 |         <div class="col-md-12">
28 |             <div class="table-header">
29 |                 <h2>{{ title }}</h2>
30 |             </div>
31 |             {% include "oscar/dashboard/partials/form.html" with form=form class="well" %}
32 |         </div>
33 |     </div>
34 |     <div class="row">
35 |         <div class="col-md-12">
36 |         <h2>{% trans "Users" %}</h2>
37 |         {% if users %}
38 |             <table class="table table-striped table-bordered">
39 |                 <thead>
40 |                     <tr>
41 |                         <th>{% trans 'Email' %}</th>
42 |                         <th>{% trans 'First name' %}</th>
43 |                         <th>{% trans 'Last name' %}</th>
44 |                         <th>&nbsp;</th>
45 |                     </tr>
46 |                 </thead>
47 |                 <tbody>
48 |                     {% for user in users %}
49 |                         <tr>
50 |                             <td><a href="{% url 'dashboard:partner-user-update' partner_pk=partner.pk user_pk=user.id %}">{{ user.email }}</a></td>
51 |                             <td>{{ user.first_name|default:"-" }}</td>
52 |                             <td>{{ user.last_name|default:"-" }}</td>
53 |                             <td>
54 |                                 <form action="{% url 'dashboard:partner-user-unlink' partner_pk=partner.id user_pk=user.id %}" method="post">
55 |                                     {% csrf_token %}
56 |                                     <button type="submit" class="btn btn-danger" data-loading-text="{% trans 'Unlinking...' %}">{% trans 'Unlink user' %}</button>
57 |                                 </form>
58 |                             </td>
59 |                         </tr>
60 |                     {% endfor %}
61 |                 </tbody>
62 |             </table>
63 |         {% else %}
64 |             <p>{% trans "No users linked." %}</p>
65 |         {% endif %}
66 |         <div class="form-group">
67 |             <a class="btn btn-info" href="{% url 'dashboard:partner-user-create' partner_pk=partner.pk %}" >{% trans "Link a new user" %}</a>
68 |             <a class="btn btn-info" href="{% url 'dashboard:partner-user-select' partner_pk=partner.pk %}" >{% trans "Link an existing user" %}</a>
69 |         </div>
70 |     </div>
71 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/partners/partner_user_form.html

 1 | {% extends "oscar/dashboard/layout.html" %}
 2 | {% load category_tags %}
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} create-page partner{% endblock %}
 6 | 
 7 | {% block title %}
 8 |     {{ title }} | {{ partner.name }} | {% trans "Partners" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:partner-list' %}">{% trans "Partners" %}</a>
18 |         </li>
19 |         {% if partner %}
20 |             <li>
21 |                 <a href="{% url 'dashboard:partner-manage' pk=partner.id %}">{{ partner.name }}</a>
22 |             </li>
23 |         {% endif %}
24 |         <li class="active">{{ title }}</li>
25 |     </ul>
26 | {% endblock %}
27 | 
28 | {% block headertext %}{{ title }}{% endblock %}
29 | 
30 | {% block dashboard_content %}
31 |     <form method="post" class="well form-stacked wysiwyg" enctype="multipart/form-data">
32 |         {% csrf_token %}
33 |         {% include 'oscar/dashboard/partials/form_fields.html' with form=form %}
34 |         <div class="form-actions">
35 |             <button class="btn btn-lg btn-primary" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button>
36 |             {% trans "or" %} <a href="{% url 'dashboard:partner-manage' pk=partner.pk %}">{% trans "cancel" %}</a>.
37 |         </div>
38 |     </form>
39 | 
40 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/partners/partner_user_list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load sorting_tags %}
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}
 6 |     {% trans "Partners" %} | {{ block.super }}
 7 | {% endblock %}
 8 | 
 9 | {% block breadcrumbs %}
10 |     <ul class="breadcrumb">
11 |         <li>
12 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
13 |         </li>
14 |         <li>
15 |             <a href="{% url 'dashboard:partner-list' %}">{% trans "Partners" %}</a>
16 |         </li>
17 |         <li class="active">{{ partner.name }}</li>
18 |     </ul>
19 | {% endblock %}
20 | 
21 | {% block header %}
22 |     <div class="page-header">
23 |         <div class="btn-group pull-right">
24 |             <a class="btn btn-lg btn-primary dropdown-toggle" data-toggle="dropdown" href="#">
25 |                 <i class="icon-plus"></i>
26 |                 {% trans 'Link a user' %}
27 |                 <span class="caret"></span>
28 |             </a>
29 |             <ul class="dropdown-menu">
30 |                 <li><a href="{% url 'dashboard:partner-user-create' partner_pk=partner.pk %}" >{% trans "Link a new user" %}</a></li>
31 |                 <li><a href="{% url 'dashboard:partner-user-select' partner_pk=partner.pk %}" >{% trans "Link an existing user" %}</a></li>
32 |             </ul>
33 |         </div>
34 |         <h1>{% trans "Manage users" %}</h1>
35 |     </div>
36 | {% endblock header %}
37 | 
38 | {% block dashboard_content %}
39 |     {% if users %}
40 |         <table class="table table-striped table-bordered">
41 |             <thead>
42 |                 <tr>
43 |                     <th>{% trans 'Email' %}</th>
44 |                     <th>{% trans 'First name' %}</th>
45 |                     <th>{% trans 'Last name' %}</th>
46 |                     <th>&nbsp;</th>
47 |                 </tr>
48 |             </thead>
49 |             <tbody>
50 |                 {% for user in users %}
51 |                     <tr>
52 |                         <td><a href="{% url 'dashboard:partner-user-update' partner_pk=partner.pk user_pk=user.id %}">{{ user.email }}</a></td>
53 |                         <td>{{ user.first_name|default:"-" }}</td>
54 |                         <td>{{ user.last_name|default:"-" }}</td>
55 |                         <td>
56 |                             <form action="{% url 'dashboard:partner-user-unlink' partner_pk=partner.id user_pkuser.id %}" method="post">
57 |                                 {% csrf_token %}
58 |                                 <button type="submit" class="btn btn-danger" data-loading-text="{% trans 'Unlinking...' %}">{% trans 'Unlink user' %}</button>
59 |                             </form>
60 |                         </td>
61 |                     </tr>
62 |                 {% endfor %}
63 |             </tbody>
64 |         </table>
65 |     {% else %}
66 |         <p>{% trans "No users linked." %}</p>
67 |     {% endif %}
68 |     {% include "oscar/dashboard/partials/pagination.html" %}
69 | 
70 |     <h1>{% trans "Update details" %}</h1>
71 |     {% include 'oscar/dashboard/partials/form.html' %}
72 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/partners/partner_user_select.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load sorting_tags %}
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}
 6 |     {% trans "Link an existing user" %} | {{ partner.name }} | {% trans "Partners" %} | {{ block.super }}
 7 | {% endblock %}
 8 | 
 9 | {% block breadcrumbs %}
10 |     <ul class="breadcrumb">
11 |         <li>
12 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
13 |         </li>
14 |         <li>
15 |             <a href="{% url 'dashboard:partner-list' %}">{% trans "Partners" %}</a>
16 |         </li>
17 |         <li>
18 |             <a href="{% url 'dashboard:partner-manage' pk=partner.id %}">{{ partner.name }}</a>
19 |         </li>
20 |         <li class="active">{% trans "Link an existing user" %}</li>
21 |     </ul>
22 | {% endblock %}
23 | 
24 | {% block headertext %}
25 |     {% trans "Link an existing user" %}
26 | {% endblock %}
27 | 
28 | {% block dashboard_content %}
29 |     {% block users_form %}
30 |         <div class="well">
31 |             <form method="get" class="form-inline">
32 |                 {% include 'oscar/dashboard/partials/form_fields_inline.html' with form=form %}
33 |                 <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Searching...' %}">{% trans "Search" %}</button>
34 |                 {% if form.is_bound %}
35 |                     <a class="btn btn-default" href="{% url 'dashboard:partner-user-select' partner_pk=partner.id %}" >{% trans "Reset" %}</a>
36 |                 {% endif %}
37 |                 <div style="margin-top:5px">{% trans "A partial email address can be entered (eg '@example.com') to match multiple addresses." %}</div>
38 |             </form>
39 |         </div>
40 |     {% endblock %}
41 | 
42 |     {% if form.is_bound %}
43 |         {% if users %}
44 |             {% with partner_users=partner.users.all %}
45 |                 <table class="table table-striped table-bordered">
46 |                     {% block users_header %}
47 |                         <thead>
48 |                             <tr>
49 |                                 <th>{% trans 'Email' %}</th>
50 |                                 <th>{% trans 'First name' %}</th>
51 |                                 <th>{% trans 'Last name' %}</th>
52 |                                 <th>&nbsp;</th>
53 |                             </tr>
54 |                         </thead>
55 |                     {% endblock %}
56 |                     <tbody>
57 |                         {% for user in users %}
58 |                             {% block users_row %}
59 |                                 <tr>
60 |                                     <td>{{ user.email }}</td>
61 |                                     <td>{{ user.first_name|default:"-" }}</td>
62 |                                     <td>{{ user.last_name|default:"-" }}</td>
63 |                                     <td>
64 |                                         {% if user in partner_users %}
65 |                                             {% blocktrans with name=partner.name %}
66 |                                                 User is already linked to {{ name }}.
67 |                                             {% endblocktrans %}
68 |                                         {% else %}
69 |                                             <form action="{% url 'dashboard:partner-user-link' partner_pk=partner.id user_pk=user.id %}" method="post">
70 |                                                 {% csrf_token %}
71 |                                                 <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Linking...' %}">{% trans 'Link user' %}</button>
72 |                                             </form>
73 |                                         {% endif %}
74 |                                     </td>
75 |                                 </tr>
76 |                             {% endblock %}
77 |                         {% endfor %}
78 |                     </tbody>
79 |                 </table>
80 |             {% endwith %}
81 |             {% include "oscar/dashboard/partials/pagination.html" %}
82 |         {% else %}
83 |             {% trans "No users found." %}
84 |         {% endif %}
85 |     {% endif %}
86 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/ranges/messages/range_products_saved.html

 1 | {% load i18n %}
 2 | {% blocktrans with range_name=range.name filename=upload.filepath %}
 3 |     <p>File <strong>{{ filename }}</strong> processed.</p>
 4 | {% endblocktrans %}
 5 | 
 6 | <ul>
 7 |     {% if upload.num_new_skus %}
 8 |         <li>
 9 |             {% blocktrans count n=upload.num_new_skus %}
10 |                 <strong>{{ n }}</strong> product added
11 |             {% plural %}
12 |                 <strong>{{ n }}</strong> products added
13 |             {% endblocktrans %}
14 |         </li>
15 |     {% endif %}
16 |     {% if upload.num_duplicate_skus %}
17 |         <li>
18 |             {% blocktrans count n=upload.num_duplicate_skus %}
19 |                 There was <strong>{{ n }}</strong> duplicate product in the file
20 |             {% plural %}
21 |                 There were <strong>{{ n }}</strong> duplicate products in the file
22 |             {% endblocktrans %}
23 |         </li>
24 |     {% endif %}
25 |     {% if upload.num_unknown_skus %}
26 |         <li>
27 |             {% blocktrans count n=upload.num_unknown_skus %}
28 |                 There was <strong>{{ n }}</strong> product in the file that couldn't be found in the catalogue
29 |             {% plural %}
30 |                 There were <strong>{{ n }}</strong> products in the file that couldn't be found in the catalogue
31 |             {% endblocktrans %}
32 |         </li>
33 |     {% endif %}
34 | </ul>
35 | <p>
36 |     <a href="{% url 'dashboard:range-update' pk=range.pk %}" class="btn btn-success">{% trans "Edit range metadata" %}</a>
37 |     <a href="{% url 'dashboard:range-list' %}" class="btn btn-success">{% trans "Return to ranges homepage" %}</a>
38 | </p>


# File: oscardropship/templates/oscar/dashboard/ranges/messages/range_saved.html

1 | {% load i18n %}
2 | {% blocktrans with name=range.name %}
3 | <p>Range <strong>{{ name }}</strong> saved.</p>
4 | {% endblocktrans %}
5 | <p>
6 |     <a href="{% url 'dashboard:range-update' pk=range.pk %}" class="btn btn-success">{% trans "Edit again" %}</a>
7 |     <a href="{% url 'dashboard:range-products' pk=range.pk %}" class="btn btn-success">{% trans "Edit included products" %}</a>
8 | </p>


# File: oscardropship/templates/oscar/dashboard/ranges/range_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 5 | 
 6 | {% block title %}
 7 |     {% blocktrans with name=range.name %}Delete range '{{ name }}'?{% endblocktrans %} | {% trans "Ranges" %} | {{ block.super }}
 8 | {% endblock %}
 9 | 
10 | {% block breadcrumbs %}
11 |     <ul class="breadcrumb">
12 |         <li>
13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
14 |         </li>
15 |         <li>
16 |             <a href="{% url 'dashboard:range-list' %}">{% trans "Ranges" %}</a>
17 |         </li>
18 |         <li>
19 |             <a href="{% url 'dashboard:range-update' pk=range.pk %}">'{{ range.name }}'</a>
20 |         </li>
21 |         <li class="active">{% trans "Delete?" %}</li>
22 |     </ul>
23 | {% endblock %}
24 | 
25 | {% block headertext %}
26 |     {{ range.name }}
27 | {% endblock %}
28 | 
29 | {% block dashboard_content %}
30 |     <form method="post" class="well">
31 |         <p>{% trans "Are you sure you want to delete this range?" %}</p>
32 |         {% csrf_token %}
33 |         <div class="form-actions">
34 |             <button class="btn btn-danger" type="submit" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button> {% trans "or" %}
35 |             <a href="{% url 'dashboard:range-list' %}">{% trans "cancel" %}</a>
36 |         </div>
37 |     </form>
38 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/ranges/range_form.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 5 | 
 6 | {% block title %}
 7 |     {{ title }} | {% trans "Ranges" %} | {{ block.super }}
 8 | {% endblock %}
 9 | 
10 | {% block breadcrumbs %}
11 |     <ul class="breadcrumb">
12 |         <li>
13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
14 |         </li>
15 |         <li>
16 |             <a href="{% url 'dashboard:range-list' %}">{% trans "Ranges" %}</a>
17 |         </li>
18 |         {% if range %}
19 |             <li class="active">'{{ range.name }}'</li>
20 |         {% else %}
21 |             <li class="active">{{ title }}</li>
22 |         {% endif %}
23 |     </ul>
24 | {% endblock %}
25 | 
26 | {% block headertext %}
27 |     {% if range %}{{ range.name }}{% else %}{% trans "Create new range" %}{% endif %}
28 | {% endblock %}
29 | 
30 | {% block dashboard_content %}
31 |     <form method="post" class="form-stacked well wysiwyg">
32 |         {% csrf_token %}
33 |         {% include "oscar/dashboard/partials/form_fields.html" with form=form %}
34 |         {% block form_actions %}
35 |             <div class="form-actions">
36 |                 <button class="btn btn-primary btn-lg" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button> {% trans "or" %}
37 |                 {# This is an input so we distinguish between which button was pressed #}
38 |                 <input class="btn btn-primary btn-lg" type="submit" name="action" value="{% trans "Save and edit products" %}"/>
39 |                 {% trans "or" %}
40 |                 <a href="{% url 'dashboard:range-list' %}">{% trans "cancel" %}</a>
41 |             </div>
42 |         {% endblock form_actions %}
43 |     </form>
44 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/ranges/range_list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {% trans "Ranges" %} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block breadcrumbs %}
 9 |     <ul class="breadcrumb">
10 |         <li>
11 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
12 |         </li>
13 |         <li class="active">{% trans "Ranges" %}</li>
14 |     </ul>
15 | {% endblock %}
16 | 
17 | {% block header %}
18 |     <div class="page-header">
19 |         <a href="{% url 'dashboard:range-create' %}" class="btn btn-primary btn-lg pull-right"><i class="icon-plus"></i> {% trans "Create new range" %}</a>
20 |         <h1>{% trans "Ranges" %}</h1>
21 |     </div>
22 | {% endblock header %}
23 | 
24 | {% block dashboard_content %}
25 | 
26 |     <table class="table table-striped table-bordered">
27 |         <caption><i class="icon-reorder icon-large"></i> {% trans "Ranges" %}</caption>
28 |         {% if ranges %}
29 |             <thead>
30 |                 <tr>
31 |                     <th>{% trans "Name" %}</th>
32 |                     <th>{% trans "Num products" %}</th>
33 |                     <th>{% trans "Is public?" %}</th>
34 |                     <th>{% trans "Date created" %}</th>
35 |                     <th></th>
36 |                 </tr>
37 |             </thead>
38 |             <tbody>
39 |                 {% for range in ranges %}
40 |                     <tr>
41 |                         <td>
42 |                             {% if range.is_editable %}
43 |                                 <a href="{% url 'dashboard:range-update' pk=range.id %}">{{ range.name }}</a>
44 |                             {% else %}
45 |                                 {{ range.name }}
46 |                             {% endif %}
47 |                         </td>
48 |                         {% if range.includes_all_products %}
49 |                             <td>{% trans 'All' %}</td>
50 |                         {% else %}
51 |                             <td>{{ range.num_products|default:"-" }}</td>
52 |                         {% endif %}
53 | 
54 |                         {% if range.is_public %}
55 |                             <td>{% trans "Yes" %}</td>
56 |                         {% else %}
57 |                             <td>{% trans "No" %}</td>
58 |                         {% endif %}
59 |                         <td>{{ range.date_created }}</td>
60 |                         <td>
61 |                             <div class="btn-toolbar">
62 |                                 <div class="btn-group">
63 |                                     <button class="btn btn-default dropdown-toggle" type="submit" data-toggle="dropdown" aria-expanded="true">
64 |                                         {% trans "Actions" %}
65 |                                         <span class="caret"></span>
66 |                                     </button>
67 |                                     <ul class="dropdown-menu pull-right">
68 |                                         {% if range.is_editable %}
69 |                                             <li><a href="{% url 'dashboard:range-update' pk=range.id %}">{% trans "Edit" %}</a></li>
70 |                                             {% if not range.includes_all_products %}
71 |                                                 <li><a href="{% url 'dashboard:range-products' pk=range.id %}">{% trans "Edit products" %}</a></li>
72 |                                             {% endif %}
73 |                                         {% endif %}
74 |                                         {% if range.is_public %}
75 |                                             <li><a href="{{ range.get_absolute_url }}">{% trans "View on site" %}</a></li>
76 |                                         {% endif %}
77 |                                         <li><a href="{% url 'dashboard:range-delete' pk=range.id %}">{% trans "Delete" %}</a></li>
78 |                                     </ul>
79 |                                 </div>
80 |                             </div>
81 |                         </td>
82 |                     </tr>
83 |                 {% endfor %}
84 |             </tbody>
85 |         {% else %}
86 |             <tr><td>{% trans "No ranges found." %}</td></tr>
87 |         {% endif %}
88 |     </table>
89 |     {% include "oscar/dashboard/partials/pagination.html" %}
90 | 
91 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/ranges/range_product_list.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load i18n %}
  3 | 
  4 | {% block body_class %}{{ block.super }} create-page{% endblock %}
  5 | 
  6 | {% block title %}
  7 |     {% blocktrans with name=range.name %}Products in range '{{ name }}'{% endblocktrans %} | {{ block.super }}
  8 | {% endblock %}
  9 | 
 10 | {% block breadcrumbs %}
 11 |     <ul class="breadcrumb">
 12 |         <li>
 13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 14 |         </li>
 15 |         <li>
 16 |             <a href="{% url 'dashboard:range-list' %}">{% trans "Ranges" %}</a>
 17 |         </li>
 18 |         <li>
 19 |             <a href="{% url 'dashboard:range-update' pk=range.id %}">'{{ range.name }}'</a>
 20 |         </li>
 21 |         <li class="active">{% trans "Products" %}</li>
 22 |     </ul>
 23 | {% endblock %}
 24 | 
 25 | {% block headertext %}
 26 |     {{ range.name }}: {% trans "products" %}
 27 | {% endblock %}
 28 | 
 29 | {% block dashboard_content %}
 30 | 
 31 |     {% if range.includes_all_products %}
 32 |         {% trans "This range contains all products. To add products manually, please unselect the 'Includes All Products' option on the edit range page." %}
 33 |     {% else %}
 34 | 
 35 |     <div class="table-header">
 36 |         <h3>{% trans "Add products" %}</h3>
 37 |     </div>
 38 | 
 39 |         <div class="well">
 40 | 
 41 |             <form method="post" class="form-stacked" enctype="multipart/form-data">
 42 |                 {% csrf_token %}
 43 |                 <input type="hidden" name="action" value="add_products"/>
 44 |                 {% include 'oscar/dashboard/partials/form_fields.html' with form=form %}
 45 |                 <div class="controls">
 46 |                     <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Running...' %}">{% trans "Go!" %}</button>
 47 |                 </div>
 48 |             </form>
 49 | 
 50 |             {% with uploads=range.file_uploads.all %}
 51 |                 {% if uploads %}
 52 |                     <div class="table-header">
 53 |                         <h3>{% trans "Upload history" %}</h3>
 54 |                     </div>
 55 |                     <table class="table table-striped table-bordered table-hover">
 56 |                         <thead>
 57 |                             <tr>
 58 |                                 <th>{% trans "Filename" %}</th>
 59 |                                 <th>{% trans "New products" %}</th>
 60 |                                 <th>{% trans "Duplicate products" %}</th>
 61 |                                 <th>{% trans "Unknown products" %}</th>
 62 |                                 <th>{% trans "Date uploaded" %}</th>
 63 |                             </tr>
 64 |                         </thead>
 65 |                         <tbody>
 66 |                             {% for upload in uploads %}
 67 |                                 <tr>
 68 |                                     <td>{{ upload.filepath }}</td>
 69 |                                     <td>{{ upload.num_new_skus }}</td>
 70 |                                     <td>{{ upload.num_duplicate_skus }}</td>
 71 |                                     <td>{{ upload.num_unknown_skus }}</td>
 72 |                                     <td>{{ upload.date_uploaded }}</td>
 73 |                                 </tr>
 74 |                             {% endfor %}
 75 |                         </tbody>
 76 |                     </table>
 77 |                 {% endif %}
 78 |             {% endwith %}
 79 | 
 80 |             {% if products %}
 81 |                 <form method="post">
 82 |                     {% csrf_token %}
 83 |                     <table class="table table-striped table-bordered table-hover">
 84 |                         <caption>
 85 |                             <h3 class="pull-left">{% trans "Products in range" %}</h3>
 86 |                             <div class="pull-right">
 87 |                                 <input type="hidden" name="action" value="remove_selected_products" />
 88 |                                 <button type="submit" class="btn btn-default" data-loading-text="{% trans 'Removing...' %}">{% trans "Remove selected products" %}</button>
 89 |                             </div>
 90 |                         </caption>
 91 |                         <thead>
 92 |                             <tr>
 93 |                                 <th></th>
 94 |                                 <th>{% trans "UPC" %}</th>
 95 |                                 <th>{% trans "Title" context "Product title" %}</th>
 96 |                                 <th>{% trans "Is product discountable?" %}</th>
 97 |                                 <th></th>
 98 |                             </tr>
 99 |                         </thead>
100 |                         <tbody class="product_list">
101 |                         {% for product in products %}
102 |                             <tr id="product_{{ product.pk }}">
103 |                                 <td>
104 |                                     <input type="checkbox" name="selected_product" value="{{ product.id }}" />
105 |                                 </td>
106 |                                 <td>{{ product.upc|default:"-" }}</td>
107 |                                 <td><a href="{% url 'dashboard:catalogue-product' pk=product.id %}">{{ product.get_title }}</a></td>
108 |                                 <td>{% if product.get_is_discountable %}{% trans "Yes" %}{% else %}{% trans "No" %}{% endif %}</td>
109 |                                 <td>
110 |                                     <a class="btn btn-danger" href="#" data-behaviours="remove">{% trans "Remove" %}</a>
111 |                                     {% if range.is_reorderable %}
112 |                                         <a href="#" class="btn btn-info btn-handle"><i class="icon-move icon-large"></i> {% trans "Re-order" context "Change the sequence order" %}</a>
113 |                                     {% endif %}
114 |                                 </td>
115 |                             </tr>
116 |                         {% endfor %}
117 |                         </tbody>
118 |                     </table>
119 |                     {% include "oscar/dashboard/partials/pagination.html" %}
120 |                 </form>
121 | 
122 |             {% else %}
123 |                 <table class="table table-striped table-bordered table-hover">
124 |                     <caption>
125 |                         {% trans "Products in Range" %}
126 |                     </caption>
127 |                     <tr><td>{% trans "No products found." %}</td></tr>
128 |                 </table>
129 |             {% endif %}
130 | 
131 | 
132 |     </div>
133 |         {% endif %}
134 |         <div class="form-actions">
135 |             <a href="{% url 'dashboard:range-update' pk=range.id %}" class="btn btn-lg btn-primary">{% trans "Edit range" %}</a> {% trans "or" %}
136 |             <a href="{% url 'dashboard:range-list' %}" class="">{% trans "return to range list" %}</a>
137 |         </div>
138 | 
139 | {% endblock dashboard_content %}
140 | 
141 | {% block onbodyload %}
142 |     {{ block.super }}
143 |     oscar.dashboard.ranges.init();
144 |     oscar.dashboard.reordering.init({
145 |         wrapper: '.product_list',
146 |         submit_url: '{% url 'dashboard:range-reorder' pk=range.id %}'
147 |     });
148 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/reports/partials/offer_report.html

 1 | {% extends 'oscar/dashboard/reports/index.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block report %}
 6 | <table class="table table-striped table-bordered table-hover">
 7 |     {% if objects %}
 8 |         <tr>
 9 |             <th>{% trans "Offer" %}</th>
10 |             <th>{% trans "Total discount" %}</th>
11 |         </tr>
12 |         {% for offer_discount in objects %}
13 |         <tr>
14 |             <td><a href="{% url 'dashboard:offer-detail' offer_discount.offer.pk %}">{{ offer_discount.offer.name }}</a></td>
15 |             <td>{{ offer_discount.total_discount|currency }}</td>
16 |         </tr>
17 |     {% endfor %}
18 | 
19 |     {% else %}
20 |         <tr><td>{% trans "No results found." %}</td></tr>
21 |     {% endif %}
22 | </table>
23 | {% include "oscar/dashboard/partials/pagination.html" %}
24 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/reports/partials/open_basket_report.html

 1 | {% extends 'oscar/dashboard/reports/index.html' %}
 2 | {% load currency_filters %}
 3 | {% load datetime_filters %}
 4 | {% load i18n %}
 5 | 
 6 | {% block report %}
 7 |     <table class="table table-striped table-bordered table-hover">
 8 |         <tr>
 9 |             <th>{% trans "Email" %}</th>
10 |             <th>{% trans "Name" %}</th>
11 |             <th>{% trans "Num lines" %}</th>
12 |             <th>{% trans "Num items" %}</th>
13 |             <th>{% trans "Date of creation" %}</th>
14 |             <th>{% trans "Time since creation" %}</th>
15 |         </tr>
16 |         {% for basket in objects %}
17 |             <tr>
18 |                 <td>
19 |                     {% if basket.owner %}
20 |                         <a href="{% url 'dashboard:user-detail' basket.owner.id %}">{{ basket.owner.email }}</a>
21 |                     {% else %}
22 |                         -
23 |                     {% endif %}
24 |                 </td>
25 |                 <td>
26 |                     {% if basket.owner %}
27 |                         <a href="{% url 'dashboard:user-detail' basket.owner.id %}">{{ basket.owner.get_full_name|default:"-" }}</a></td>
28 |                     {% else %}
29 |                         -
30 |                     {% endif %}
31 |                 </td>
32 |                 <td>{{ basket.num_lines }}</td>
33 |                 <td>{{ basket.num_items }}</td>
34 |                 <td>{{ basket.date_created }}</td>
35 |                 <td>{{ basket.time_since_creation|timedelta }}</td>
36 |             </tr>
37 |         {% endfor %}
38 |     </table>
39 |     {% include "oscar/dashboard/partials/pagination.html" %}
40 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/reports/partials/order_report.html

 1 | {% extends 'oscar/dashboard/reports/index.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block report %}
 6 |     <table class="table table-striped table-bordered table-hover">
 7 |         {% if objects %}
 8 |             <tr>
 9 |                 <th>{% trans "Order number" %}</th>
10 |                 <th>{% trans "Name" %}</th>
11 |                 <th>{% trans "Email" %}</th>
12 |                 <th>{% trans "Total incl. tax" %}</th>
13 |                 <th>{% trans "Date placed" %}</th>
14 |                 <th></th>
15 |             </tr>
16 |             {% for order in objects %}
17 |                 <tr>
18 |                     <td><a href="{% url 'dashboard:order-detail' order.number %}">{{ order.number }}</a></td>
19 |                     <td>
20 |                         {% if order.user %}
21 |                             <a href="{% url 'dashboard:user-detail' order.user.id %}">{{ order.user|default:"-" }}</a>
22 |                         {% else %}
23 |                             -
24 |                         {% endif %}
25 |                     </td>
26 |                     <td>{{ order.email }}</td>
27 |                     <td>{{ order.total_incl_tax|currency:order.currency }}</td>
28 |                     <td>{{ order.date_placed }}</td>
29 |                     <td>
30 |                         <a class="btn btn-info" href="{% url 'dashboard:order-detail' number=order.number %}">{% trans "View" %}</a>
31 |                     </td>
32 |                 </tr>
33 |             {% endfor %}
34 |         {% else %}
35 |             <tr><td>{% trans "No results found." %}</td></tr>
36 |         {% endif %}
37 |     </table>
38 |     {% include "oscar/dashboard/partials/pagination.html" %}
39 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/reports/partials/product_report.html

 1 | {% extends 'oscar/dashboard/reports/index.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block report %}
 6 | <table class="table table-striped table-bordered table-hover">
 7 |     <tr>
 8 |         <th>{% trans "Product" %}</th>
 9 |         <th>{% trans "Views" %}</th>
10 |         <th>{% trans "Basket additions" %}</th>
11 |         <th>{% trans "Purchases" %}</th>
12 |     </tr>
13 |     {% for product in objects %}
14 |     <tr>
15 |         <td>
16 |         <a href="{% url 'dashboard:catalogue-product' product.product.id %}">{{ product.product }}</a>
17 |         </td>
18 |         <td>{{ product.num_views }}</td>
19 |         <td>{{ product.num_basket_additions }}</td>
20 |         <td>{{ product.num_purchases }}</td>
21 |     </tr>
22 |     {% endfor %}
23 | </table>
24 | {% include "oscar/dashboard/partials/pagination.html" %}
25 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/reports/partials/submitted_basket_report.html

 1 | {% extends 'oscar/dashboard/reports/index.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block report %}
 6 |     <table class="table table-striped table-bordered table-hover">
 7 |         <tr>
 8 |             <th>{% trans "Email" %}</th>
 9 |             <th>{% trans "Name" %}</th>
10 |             <th>{% trans "Num lines" %}</th>
11 |             <th>{% trans "Num items" %}</th>
12 |             <th>{% trans "Date created" %}</th>
13 |             <th>{% trans "Time between creation and submission" %}</th>
14 |         </tr>
15 |         {% for basket in objects %}
16 |             <tr>
17 |                 <td>
18 |                 {% if basket.owner %}
19 |                     <a href="{% url 'dashboard:user-detail' basket.owner.id %}">{{ basket.owner.email }}</a>
20 |                 {% else %}
21 |                     -
22 |                 {% endif %}
23 |                 </td>
24 |                 <td>
25 |                 {% if basket.owner %}
26 |                     <a href="{% url 'dashboard:user-detail' basket.owner.id %}">{{ basket.owner.get_full_name|default:"-" }}</a>
27 |                 {% else %}
28 |                     -
29 |                 {% endif %}
30 |                 </td>
31 |                 <td>{{ basket.num_lines }}</td>
32 |                 <td>{{ basket.num_items }}</td>
33 |                 <td>{{ basket.date_created }}</td>
34 |                 <td>{{ basket.time_before_submit }}</td>
35 |             </tr>
36 |         {% endfor %}
37 |     </table>
38 |     {% include "oscar/dashboard/partials/pagination.html" %}
39 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/reports/partials/user_report.html

 1 | {% extends 'oscar/dashboard/reports/index.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block report %}
 6 |     <table class="table table-striped table-bordered table-hover">
 7 |         <tr>
 8 |             <th>{% trans "Email" %}</th>
 9 |             <th>{% trans "Name" %}</th>
10 |             <th>{% trans "Date registered" %}</th>
11 |             <th>{% trans "Product views" %}</th>
12 |             <th>{% trans "Basket additions" %}</th>
13 |             <th>{% trans "Orders" %}</th>
14 |             <th>{% trans "Order lines" %}</th>
15 |             <th>{% trans "Order items" %}</th>
16 |             <th>{% trans "Total spent" %}</th>
17 |             <th>{% trans "Date of last order" %}</th>
18 |         </tr>
19 |         {% for user in objects %}
20 |             <tr>
21 |                 <td><a href="{% url 'dashboard:user-detail' user.user.id %}">{{ user.user.email }}</a></td>
22 |                 <td><a href="{% url 'dashboard:user-detail' user.user.id %}">{{ user.user.get_full_name|default:"-" }}</a></td>
23 |                 <td>{{ user.user.date_joined }}</td>
24 |                 <td>{{ user.num_product_views }}</td>
25 |                 <td>{{ user.num_basket_additions }}</td>
26 |                 <td>{{ user.num_orders }}</td>
27 |                 <td>{{ user.num_order_lines }}</td>
28 |                 <td>{{ user.num_order_items }}</td>
29 |                 <td>{{ user.total_spent|currency }}</td>
30 |                 <td>{{ user.date_last_order|default:"-" }}</td>
31 |             </tr>
32 |         {% endfor %}
33 |     </table>
34 |     {% include "oscar/dashboard/partials/pagination.html" %}
35 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/reports/partials/voucher_report.html

 1 | {% extends 'oscar/dashboard/reports/index.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block report %}
 6 | <table class="table table-striped table-bordered table-hover">
 7 |     {% if objects %}
 8 |         <tr>
 9 |             <th>{% trans "Voucher code" %}</th>
10 |             <th>{% trans "Added to a basket" %}</th>
11 |             <th>{% trans "Used in an order" %}</th>
12 |             <th>{% trans "Total discount" %}</th>
13 |         </tr>
14 |         {% for voucher in objects %}
15 |         <tr>
16 |             <td><a href="{% url 'dashboard:voucher-stats' voucher.id %}">{{ voucher.code }}</a></td>
17 |             <td>{{ voucher.num_basket_additions }}</td>
18 |             <td>{{ voucher.num_orders }}</td>
19 |             <td>{{ voucher.total_discount|currency }}</td>
20 |         </tr>
21 |         {% endfor %}
22 |     {% else %}
23 |         <tr><td>{% trans "No vouchers were used in this period" %}</td></tr>
24 |     {% endif %}
25 | </table>
26 | {% include "oscar/dashboard/partials/pagination.html" %}
27 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/reports/index.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block body_class %}{{ block.super }} reports{% endblock %}
 5 | {% block title %}
 6 |     {% trans "Reports" %} | {{ block.super }}
 7 | {% endblock %}
 8 | 
 9 | {% block breadcrumbs %}
10 |     <ul class="breadcrumb">
11 |         <li>
12 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
13 |         </li>
14 |         <li class="active">{% trans "Reporting Dashboard" %}</li>
15 |     </ul>
16 | {% endblock %}
17 | 
18 | {% block headertext %}
19 |     {% trans "Reporting dashboard" %}
20 | {% endblock %}
21 | 
22 | {% block dashboard_content %}
23 |     <div class="table-header">
24 |         <h3><i class="icon-bar-chart icon-large"></i>{% trans "Reporting dashboard" %}</h3>
25 |     </div>
26 |     <div class="well">
27 |         <form method="get" class="form-inline">
28 |             {% include "oscar/dashboard/partials/form_fields_inline.html" with form=form %}
29 |             <span class="form-group">
30 |                 <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Generating...' %}">{% trans "Generate report" %}</button>
31 |             </span>
32 |         </form>
33 |     </div>
34 | 
35 |     {% if description %}
36 |         <div class="table-header">
37 |             <h3><i class="icon-bar-chart icon-large"></i>{{ description }}</h3>
38 |         </div>
39 |     {% endif %}
40 | 
41 |     {% block report %}
42 |     {% endblock %}
43 | 
44 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/reviews/review_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 6 | 
 7 | {% block title %}
 8 |     {% blocktrans with title=review.title|truncatechars:30 %}Delete review '{{ title }}'?{% endblocktrans %} | {% trans "Reviews" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:reviews-list' %}">{% trans "Reviews" %}</a>
18 |         </li>
19 |         <li class="active">{% blocktrans with title=review.title|truncatechars:30 %}Delete review "{{ title }}"?{% endblocktrans %}</li>
20 |     </ul>
21 | {% endblock %}
22 | 
23 | {% block headertext %}
24 |     {% blocktrans with title=review.title|truncatechars:30 %}Delete review "{{ title }}"?{% endblocktrans %}
25 | {% endblock %}
26 | 
27 | {% block dashboard_content %}
28 |     <div class="table-header">
29 |         <h2>{% trans "Review" %}</h2>
30 |     </div>
31 |     <form method="post" class="well">
32 |         {% csrf_token %}
33 | 
34 |         <table class="table table-striped table-bordered table-hover">
35 |             <tbody>
36 |                 <tr><th>{% trans "Title" context "Product review title" %}</th><td>{{ review.title }}</td></tr>
37 |                 <tr><th>{% trans "Product" %}</th><td>{{ review.product.title }}</td></tr>
38 |                 <tr><th>{% trans "User" %}</th><td>{{ review.user.reviewer_name|default:"-" }}</td></tr>
39 |                 <tr><th>{% trans "Score" %}</th><td>{{ review.score|floatformat:1 }}</td></tr>
40 |                 <tr><th>{% trans "Votes" %}</th><td>{{ review.total_votes }}</td></tr>
41 |                 <tr><th>{% trans "Status" %}</th><td>{{ review.status }}</td></tr>
42 |                 <tr><th>{% trans "Date created" %}</th><td>{{ review.date_created }}</td></tr>
43 |             </tbody>
44 |         </table>
45 | 
46 |         <div class="form-actions">
47 |             <button class="btn btn-danger" type="submit" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button> {% trans "or" %}
48 |             <a href="{% url 'dashboard:reviews-list' %}">{% trans "cancel" %}</a>
49 |         </div>
50 |     </form>
51 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/reviews/review_list.html

  1 | {% extends "oscar/dashboard/layout.html" %}
  2 | {% load currency_filters %}
  3 | {% load sorting_tags %}
  4 | {% load i18n %}
  5 | 
  6 | {% block body_class %}{{ block.super }} reviews{% endblock %}
  7 | {% block title %}
  8 |     {% trans "Reviews" %} | {{ block.super }}
  9 | {% endblock %}
 10 | 
 11 | {% block breadcrumbs %}
 12 |     <ul class="breadcrumb">
 13 |         <li>
 14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 15 |         </li>
 16 |         <li class="active">{% trans "Reviews" %}</li>
 17 |     </ul>
 18 | {% endblock %}
 19 | 
 20 | {% block header %}
 21 |     <div class="page-header">
 22 |         <h1>{% trans "Reviews" %}</h1>
 23 |     </div>
 24 | {% endblock header %}
 25 | 
 26 | {% block dashboard_content %}
 27 | 
 28 |     <div class="table-header">
 29 |         <h3><i class="icon-search icon-large"></i>{% trans "Review Search" %}</h3>
 30 |     </div>
 31 |     <div class="well">
 32 |         <form method="get" class="form-inline">
 33 |             {% include 'oscar/dashboard/partials/form_fields_inline.html' with form=form %}
 34 |             <button type="submit" class="btn btn-primary top-spacer" data-loading-text="{% trans 'Searching...' %}">{% trans "Search" %}</button>
 35 |         </form>
 36 |     </div>
 37 | 
 38 |     {% if review_list %}
 39 | 
 40 |         <form method="post">
 41 |             {% csrf_token %}
 42 |             <table class="table table-striped table-bordered table-hover">
 43 |                 <caption>
 44 |                     <h3 class="pull-left"><i class="icon-thumbs-up icon-large"></i>{{ description }}</h3>
 45 |                     <div class="pull-right">
 46 |                         <div class="form-inline">
 47 |                             {% trans "Update status of selected reviews" %}
 48 |                             {{ review_form.status }}
 49 |                             <input type="hidden" name="action" value="update_selected_review_status" />
 50 |                             <button type="submit" name="update" class="btn btn-success" data-loading-text="{% trans 'Updating...' %}">{% trans "Update" %}</button>
 51 |                         </div>
 52 |                     </div>
 53 |                 </caption>
 54 |                 <tr>
 55 |                     <th></th>
 56 |                     <th>{% trans "Title" context "Review title" %}</th>
 57 |                     <th>{% trans "Product" %}</th>
 58 |                     <th>{% trans "User" %}</th>
 59 |                     <th>{% anchor 'score' _("Score") %}</th>
 60 |                     <th>{% anchor 'total_votes' _("Votes") %}</th>
 61 |                     <th>{% trans "Status" %}</th>
 62 |                     <th>{% anchor 'date_created' _("Date created") %}</th>
 63 |                     <th></th>
 64 |                 </tr>
 65 |                 {% for review in review_list %}
 66 |                     <tr>
 67 |                         <td><input type="checkbox" name="selected_review" class="selected_review" value="{{ review.id }}"/></td>
 68 |                         <td>
 69 |                             <a href="{% url 'dashboard:reviews-update' pk=review.id %}">{{ review.title }}</a>
 70 |                         </td>
 71 |                         <td>
 72 |                             {% if review.product %}
 73 |                                 <a href='{% url 'catalogue:detail' product_slug=review.product.slug pk=review.product.id %}'>{{ review.product.title }}</a> </td>
 74 |                         {% else %}
 75 |                             {% trans "[Product deleted]" %}
 76 |                         {% endif %}
 77 |                         <td>
 78 |                             {% if not review.is_anonymous %}
 79 |                                 <a href="{% url 'dashboard:user-detail' pk=review.user.id %}">{{ review.reviewer_name }}</a>
 80 |                             {% else %}
 81 |                                 {{ review.name }}
 82 |                             {% endif %}
 83 |                         </td>
 84 |                         <td>
 85 |                             {{ review.score|floatformat:1 }} / {{ 5.0|floatformat:1 }}
 86 |                         </td>
 87 |                         <td>{{ review.total_votes }}</td>
 88 |                         <td>
 89 |                             {% if review.status == 1 %}
 90 |                                 <span class="label label-success">
 91 |                                     {% elif review.status == 2 %}
 92 |                                     <span class="label label-danger">
 93 |                                     {% else %}
 94 |                                         <span class="label label-info">
 95 |                                         {% endif %}
 96 |                                         {{ review.get_status_display }}
 97 |                                     </span>
 98 |                                 </td>
 99 |                                 <td>{{ review.date_created }}</td>
100 |                                 <td>
101 |                                     <div class="btn-toolbar">
102 |                                         <div class="btn-group">
103 |                                             <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
104 |                                                 {% trans "Actions" %}
105 |                                                 <span class="caret"></span>
106 |                                             </button>
107 |                                             <ul class="dropdown-menu pull-right">
108 |                                                 {% if review.title and review.product %}
109 |                                                     <li><a href="{% url 'catalogue:reviews-detail' product_slug=review.product.slug product_pk=review.product.id pk=review.id %}">{% trans "View on site" %}</a></li>
110 |                                                 {% endif %}
111 |                                                 <li><a href="{% url 'dashboard:reviews-update' pk=review.id %}">{% trans "Edit" %}</a></li>
112 |                                                 <li><a href="{% url 'dashboard:reviews-delete' pk=review.id %}">{% trans "Delete" %}</a></li>
113 |                                             </ul>
114 |                                         </div>
115 |                                     </div>
116 |                                 </td>
117 |                             </tr>
118 |                         {% endfor %}
119 |                     </table>
120 |                     {% include "oscar/dashboard/partials/pagination.html" %}
121 |                 </form>
122 |             {% else %}
123 |                 <table class="table table-striped table-bordered table-hover">
124 |                     <caption>{{ description }}</caption>
125 |                     <tr><td>{% trans "No reviews found." %}</td></tr>
126 |                 </table>
127 |             {% endif %}
128 | 
129 |         {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/reviews/review_update.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 6 | 
 7 | {% block title %}
 8 |     {% trans "Update review" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:reviews-list' %}">{% trans "Reviews" %}</a>
18 |         </li>
19 |         <li class="active">{% blocktrans %}Review #{{ review.id }}{% endblocktrans %}</li>
20 |     </ul>
21 | {% endblock %}
22 | 
23 | {% block headertext %}
24 |     {% blocktrans with review_id=review.id %}Review #{{ review_id }}{% endblocktrans %}
25 | {% endblock %}
26 | 
27 | {% block dashboard_content %}
28 |     <form method="post" class="form-stacked" enctype="multipart/form-data">
29 |         {% csrf_token %}
30 |         <div class="table-header">
31 |             <h3>{% trans "Review information" %}</h3>
32 |         </div>
33 |         <div class="well">
34 |             <div class="clearfix">
35 |                 {{ form.first }}
36 |                 {% for field in form %}
37 |                     {# display title (first) and body (last) as full lines #}
38 |                     {% if forloop.counter < 3 %}
39 |                         <div class="form-group{% for error in field.errors %} has-error{% endfor %}">
40 |                             {% if field.is_hidden %}
41 |                                 {{ field }}
42 |                             {% else %}
43 |                                 {{ field.label_tag }}
44 |                                 <div class="controls">
45 |                                     {{ field }}
46 |                                     {% for error in field.errors %}
47 |                                         <span class="error-block">
48 |                                             {{ error|escape }}
49 |                                         </span>
50 |                                     {% endfor %}
51 |                                     {% if field.help_text %}
52 |                                         <span class='help-block'>
53 |                                             {{ field.help_text }}
54 |                                         </span>
55 |                                     {% endif %}
56 |                                 </div>
57 |                             {% endif %}
58 |                         </div>
59 |                     {% else %}
60 |                         <div class="form-inline pull-left">
61 |                             {% if field.is_hidden %}
62 |                                 {{ field }}
63 |                             {% else %}
64 |                                 <span class="form-group{% if field.errors %} has-error{% endif %}">
65 |                                     {{ field.label_tag }}
66 |                                     {{ field }}
67 |                                     {% for error in field.errors %}
68 |                                         <ul class="error-block">
69 |                                             <li>{{ error|escape }}</li>
70 |                                         </ul>
71 |                                     {% endfor %}
72 |                                 </span>
73 |                             {% endif %}
74 |                         </div>
75 |                     {% endif %}
76 |                 {% endfor %}
77 |             </div>
78 |             <div class="form-actions">
79 |                 <button class="btn btn-primary btn-lg" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button> {% trans "or" %}
80 |                 <a href="{% url 'dashboard:reviews-list' %}">{% trans "cancel" %}</a>
81 |             </div>
82 |         </div>
83 |     </form>
84 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/shipping/messages/band_created.html

1 | {% load i18n %}
2 | 
3 | {% blocktrans with name=band.method.name %}
4 |     <p>A weight band has been added to the <strong>{{ name }}</strong> shipping method.</p>
5 | {% endblocktrans %}


# File: oscardropship/templates/oscar/dashboard/shipping/messages/band_deleted.html

1 | {% load i18n %}
2 | 
3 | {% blocktrans with name=band.method.name %}
4 |     <p>Weight band deleted from the <strong>{{ name }}</strong> shipping method 
5 | {% endblocktrans %}


# File: oscardropship/templates/oscar/dashboard/shipping/messages/band_updated.html

1 | {% load i18n %}
2 | 
3 | <p>{% trans "Weight band updated" %}</p>


# File: oscardropship/templates/oscar/dashboard/shipping/messages/method_created.html

1 | {% load i18n %}
2 | 
3 | {% blocktrans with name=method.name %}
4 | <p>A shipping method <strong>{{ name }}</strong> has been created.</p>
5 | {% endblocktrans %}


# File: oscardropship/templates/oscar/dashboard/shipping/messages/method_deleted.html

1 | {% load i18n %}
2 | 
3 | {% blocktrans with name=method.name %}
4 |     <p>The <strong>{{ name }}</strong> shipping method has been deleted.</p>
5 | {% endblocktrans %}


# File: oscardropship/templates/oscar/dashboard/shipping/messages/method_updated.html

1 | {% load i18n %}
2 | 
3 | {% blocktrans with name=method.name %}
4 |     <p>The <strong>{{ name }}</strong> shipping method has been updated.</p>
5 | {% endblocktrans %}


# File: oscardropship/templates/oscar/dashboard/shipping/weight_band_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | {% load currency_filters %}
 4 | 
 5 | {% block title %}
 6 |     {% trans "Delete weight band?" %} |
 7 |     {{ band.method.name }} |
 8 |     {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:shipping-method-list' %}">{% trans "Shipping methods" %}</a>
18 |         </li>
19 |         <li>
20 |             {{ band.method.name }}
21 |         </li>
22 |         <li class="active">{% trans "Delete weight band?" %}</li>
23 |     </ul>
24 | {% endblock %}
25 | 
26 | {% block headertext %}
27 |     {% trans "Delete weight band?" %}
28 | {% endblock %}
29 | 
30 | {% block dashboard_content %}
31 |     <table class="table table-bordered">
32 |         <thead>
33 |             <tr>
34 |                 <th>{% trans "Weight range (kg)" %}</th>
35 |                 <th>{% trans "Charge" %}</th>
36 |             </tr>
37 |         </thead>
38 |         <tbody>
39 |             <tr>
40 |                 <td>{{ band.weight_from|floatformat:3 }} - {{ band.weight_to|floatformat:3 }}</td>
41 |                 <td>{{ band.charge|currency }}</td>
42 |             </tr>
43 |         </tbody>
44 |     </table>
45 |     <form method="post" class="well">
46 |         <p>{% trans "Are you sure you want to delete this weight band method?" %}</p>
47 |         {% csrf_token %}
48 |         <div class="form-actions">
49 |             <button class="btn btn-danger" type="submit" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button> {% trans "or" %}
50 |             <a href="{% url 'dashboard:shipping-method-detail' pk=band.method.pk %}">{% trans "cancel" %}</a>
51 |         </div>
52 |     </form>
53 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/shipping/weight_band_form.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | {% load currency_filters %}
 4 | 
 5 | {% block title %}
 6 |     {% trans "Edit weight band" %} |
 7 |     {{ band.method.name }} |
 8 |     {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:shipping-method-list' %}">{% trans "Shipping methods" %}</a>
18 |         </li>
19 |         <li>
20 |             {{ band.method.name }}
21 |         </li>
22 |         <li class="active">{% trans "Edit weight band" %}</li>
23 |     </ul>
24 | {% endblock %}
25 | 
26 | {% block headertext %}
27 |     {% trans "Edit weight band" %}
28 | {% endblock %}
29 | 
30 | {% block dashboard_content %}
31 |     <div class="well">
32 |         <form method="post" class="form-stacked">
33 |             {% csrf_token %}
34 |             {% include "oscar/dashboard/partials/form_fields.html" with form=form %}
35 |             {% block form_actions %}
36 |                 <div class="form-actions">
37 |                     <button class="btn btn-primary btn-lg" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button> {% trans "or" %}
38 |                     <a href="{% url 'dashboard:shipping-method-list' %}">{% trans "cancel" %}</a>
39 |                 </div>
40 |             {% endblock form_actions %}
41 |         </form>
42 |     </div>
43 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/shipping/weight_based_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {% blocktrans with name=method.name %}Delete shipping method '{{ name }}'?{% endblocktrans %} | {% trans "Shipping methods" %} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block breadcrumbs %}
 9 |     <ul class="breadcrumb">
10 |         <li>
11 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
12 |         </li>
13 |         <li>
14 |             <a href="{% url 'dashboard:shipping-method-list' %}">{% trans "Shipping methods" %}</a>
15 |         </li>
16 |         <li>
17 |             {{ method.name }}
18 |         </li>
19 |         <li class="active">{% trans "Delete?" %}</li>
20 |     </ul>
21 | {% endblock %}
22 | 
23 | {% block headertext %}
24 |     {{ method.name }}
25 | {% endblock %}
26 | 
27 | {% block dashboard_content %}
28 |     <form method="post" class="well">
29 |         <p>{% trans "Are you sure you want to delete this shipping method?" %}</p>
30 |         {% csrf_token %}
31 |         <div class="form-actions">
32 |             <button class="btn btn-danger" type="submit" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button> {% trans "or" %}
33 |             <a href="{% url 'dashboard:shipping-method-list' %}">{% trans "cancel" %}</a>
34 |         </div>
35 |     </form>
36 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/shipping/weight_based_detail.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | {% load currency_filters %}
 4 | 
 5 | {% block title %}
 6 |     {{ method.name }} | {{ block.super }}
 7 | {% endblock %}
 8 | 
 9 | {% block breadcrumbs %}
10 |     <ul class="breadcrumb">
11 |         <li>
12 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
13 |         </li>
14 |         <li>
15 |             <a href="{% url 'dashboard:shipping-method-list' %}">{% trans "Shipping methods" %}</a>
16 |         </li>
17 |         <li class="active">{{ method.name }}</li>
18 |     </ul>
19 | {% endblock %}
20 | 
21 | {% block headertext %}
22 |     {{ method.name }}
23 | {% endblock %}
24 | 
25 | {% block dashboard_content %}
26 |     <div class="well">
27 |         <h2>{% trans "Shipping method" %}</h2>
28 |         <table class="table table-bordered">
29 |             <tbody>
30 |                 <tr>
31 |                     <th>{% trans "Name" %}</th>
32 |                     <td>{{ method.name }}</td>
33 |                 </tr>
34 |                 <tr>
35 |                     <th>{% trans "Description" %}</th>
36 |                     <td>{{ method.description|safe|default:"-" }}</td>
37 |                 </tr>
38 |                 {% with countries=method.countries.all %}
39 |                     {% if countries %}
40 |                         <tr>
41 |                             <th>{% trans "Applies to countries" %}</th>
42 |                             <td>{{ countries|join:", " }}</td>
43 |                         </tr>
44 |                     {% endif %}
45 |                 {% endwith %}
46 |                 <tr>
47 |                     <th>{% trans "Default product weight (kg)" %}</th>
48 |                     <td>{{ method.default_weight }}</td>
49 |                 </tr>
50 |             </tbody>
51 |         </table>
52 | 
53 |         <p>
54 |             <a id="edit_method" href="{% url 'dashboard:shipping-method-edit' pk=method.pk %}" class="btn btn-primary">
55 |                 {% trans 'Edit shipping method' %}
56 |             </a>
57 |             <a id="delete_method" href="{% url 'dashboard:shipping-method-delete' pk=method.pk %}" class="btn btn-danger">
58 |                 {% trans 'Delete shipping method' %}
59 |             </a>
60 |         </p>
61 | 
62 |         <h2>{% trans "Weight bands" %}</h2>
63 |         {% if method.bands.all.count %}
64 |             <table class="table table-bordered">
65 |                 <thead>
66 |                     <tr>
67 |                         <th>{% trans "Weight range (kg)" %}</th>
68 |                         <th>{% trans "Charge" %}</th>
69 |                         <th></th>
70 |                     </tr>
71 |                 </thead>
72 |                 <tbody>
73 |                     {% for band in method.bands.all %}
74 |                         <tr>
75 |                             <td>{{ band.weight_from|floatformat:3 }} - {{ band.weight_to|floatformat:3 }}</td>
76 |                             <td>{{ band.charge|currency }}</td>
77 |                             <td>
78 |                                 <a id="edit_band_{{ band.id }}" href="{% url 'dashboard:shipping-method-band-edit' method_pk=band.method.pk pk=band.pk %}" class="btn btn-primary">{% trans "Edit" %}</a>
79 |                                 <a id="delete_band_{{ band.id }}" href="{% url 'dashboard:shipping-method-band-delete' method_pk=band.method.pk pk=band.pk %}" class="btn btn-danger">{% trans "Delete" %}</a>
80 |                             </td>
81 |                         </tr>
82 |                     {% endfor %}
83 |                 </tbody>
84 |             </table>
85 |         {% else %}
86 |             <p>{% trans "No weight bands have been added yet." %}</p>
87 |         {% endif %}
88 | 
89 |         <h2>{% trans "Add a new weight band" %}</h2>
90 |         <form method="post">
91 |             {% csrf_token %}
92 |             {% include "oscar/dashboard/partials/form_fields.html" with form=form %}
93 |             <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Adding...' %}">{% trans 'Add weight band' %}</button>
94 |         </form>
95 |     </div>
96 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/shipping/weight_based_form.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | {% load currency_filters %}
 4 | 
 5 | {% block title %}
 6 |     {% if method %}
 7 |         {{ method.name }}
 8 |     {% else %}
 9 |         {% trans "Create a new shipping method" %}
10 |     {% endif %}
11 |     | {{ block.super }}
12 | {% endblock %}
13 | 
14 | {% block breadcrumbs %}
15 |     <ul class="breadcrumb">
16 |         <li>
17 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
18 |         </li>
19 |         <li>
20 |             <a href="{% url 'dashboard:shipping-method-list' %}">{% trans "Shipping methods" %}</a>
21 |         </li>
22 |         {% if method %}
23 |             <li>
24 |                 {{ method.name }}
25 |             </li>
26 |             <li class="active">{% trans "Edit" %}</li>
27 |         {% else %}
28 |             <li class="active">{% trans "Create a new shipping method" %}</li>
29 |         {% endif %}
30 |     </ul>
31 | {% endblock %}
32 | 
33 | {% block headertext %}
34 |     {% if method %}
35 |         {{ method.name }}
36 |     {% else %}
37 |         {% trans "Create a new shipping method" %}
38 |     {% endif %}
39 | {% endblock %}
40 | 
41 | {% block dashboard_content %}
42 |     <form method="post" class="form-stacked well wysiwyg">
43 |         {% csrf_token %}
44 |         {% include "oscar/dashboard/partials/form_fields.html" with form=form %}
45 |         {% block form_actions %}
46 |             <div class="form-actions">
47 |                 <button class="btn btn-primary btn-lg" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button> {% trans "or" %}
48 |                 <a href="{% url 'dashboard:shipping-method-list' %}">{% trans "cancel" %}</a>
49 |             </div>
50 |         {% endblock form_actions %}
51 |     </form>
52 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/shipping/weight_based_list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | {% load currency_filters %}
 4 | 
 5 | {% block title %}
 6 |     {% trans "Shipping methods" %} | {{ block.super }}
 7 | {% endblock %}
 8 | 
 9 | {% block breadcrumbs %}
10 |     <ul class="breadcrumb">
11 |         <li>
12 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
13 |         </li>
14 |         <li class="active">{% trans "Shipping methods" %}</li>
15 |     </ul>
16 | {% endblock %}
17 | 
18 | {% block header %}
19 |     <div class="page-header">
20 |         <a id="create_new_shipping_method" href="{% url 'dashboard:shipping-method-create' %}" class="btn btn-primary btn-lg pull-right"><i class="icon-plus"></i> {% trans "Create new shipping charge" %}</a>
21 |         <h1>{% trans "Shipping methods" %}</h1>
22 |     </div>
23 | {% endblock header %}
24 | 
25 | {% block dashboard_content %}
26 |     <table class="table table-striped table-bordered">
27 |         <caption><i class="icon-reorder icon-large"></i> {% trans "Shipping methods" %}</caption>
28 |         {% if methods %}
29 |             <thead>
30 |                 <tr>
31 |                     <th>{% trans "Name" %}</th>
32 |                     <th>{% trans "Number of weight bands" %}</th>
33 |                     <th>{% trans "Default weight (kg)" %}</th>
34 |                     <th></th>
35 |                 </tr>
36 |             </thead>
37 |             <tbody>
38 |                 {% for method in methods %}
39 |                     <tr>
40 |                         <td>
41 |                             <a href="{% url 'dashboard:shipping-method-detail' pk=method.pk %}">{{ method.name }}</a>
42 |                         </td>
43 |                         <td>{{ method.num_bands }}</td>
44 |                         <td>{{ method.default_weight }}</td>
45 |                         <td>
46 |                             <a href="{% url 'dashboard:shipping-method-detail' pk=method.pk %}" class="btn btn-default">{% trans "View" %}</a>
47 |                             <a href="{% url 'dashboard:shipping-method-edit' pk=method.pk %}" class="btn btn-primary">{% trans "Edit" %}</a>
48 |                             <a href="{% url 'dashboard:shipping-method-delete' pk=method.pk %}" class="btn btn-danger">{% trans "Delete" %}</a>
49 |                         </td>
50 |                     </tr>
51 |                 {% endfor %}
52 |             </tbody>
53 |         {% else %}
54 |             <tr><td>{% trans "No shipping methods found." %}</td></tr>
55 |         {% endif %}
56 |     </table>
57 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/users/alerts/partials/alert.html

 1 | {% load i18n %}
 2 | 
 3 | <table class="table table-striped table-bordered table-hover">
 4 |     <tbody>
 5 |         <tr>
 6 |             <th>{% trans "Product" %}</th>
 7 |             <td><a href="{{ alert.product.get_absolute_url }}">{{ alert.product }}</a></td>
 8 |         </tr>
 9 |         <tr>
10 |             <th>{% trans "User" %}</th>
11 |             <td>
12 |                 {% if alert.user %}
13 |                     {{ alert.user }}
14 |                 {% else %}
15 |                     {{ alert.email }}
16 |                 {% endif %}
17 |             </td>
18 |         </tr>
19 |         <tr>
20 |             <th>{% trans "Status" %}</th>
21 |             <td>{{ alert.status }}</td>
22 |         </tr>
23 |         <tr>
24 |             <th>{% trans "Date created" %}</th>
25 |             <td>{{ alert.date_created }}</td>
26 |         </tr>
27 |         {% if not alert.user %}
28 |         <tr>
29 |             <th>{% trans "Date confirmed" %}</th>
30 |             <td>{{ alert.date_confirmed|default:"-" }}</td>
31 |         </tr>
32 |         {% endif %}
33 |         {% if alert.is_cancelled %}
34 |         <tr>
35 |             <th>{% trans "Date cancelled" %}</th>
36 |             <td>{{ alert.date_cancelled }}</td>
37 |         </tr>
38 |         {% else %}
39 |         <tr>
40 |             <th>{% trans "Date alert sent" %}</th>
41 |             <td>{{ alert.date_closed|default:"-" }}</td>
42 |         </tr>
43 |         {% endif %}
44 |     </tbody>
45 | </table>


# File: oscardropship/templates/oscar/dashboard/users/alerts/delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | 
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} create-page users{% endblock %}
 6 | 
 7 | {% block title %}
 8 |     {% blocktrans with id=alert.id %}Alert #{{ id }}{% endblocktrans %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:user-alert-list' %}">{% trans "Product alerts" %}</a>
18 |         </li>
19 |         <li class="active">{% blocktrans with id=alert.id %}Alert #{{ id }}{% endblocktrans %}</li>
20 |     </ul>
21 | {% endblock %}
22 | 
23 | {% block headertext %}
24 |     {% blocktrans with id=alert.id %}Delete alert #{{ id }}?{% endblocktrans %}
25 | {% endblock %}
26 | 
27 | {% block dashboard_content %}
28 |     <div class="table-header">
29 |         <h2>{% blocktrans with id=alert.id %}Product alert #{{ id }}{% endblocktrans %}</h2>
30 |     </div>
31 |     <div class="well">
32 |         {% include 'oscar/dashboard/users/alerts/partials/alert.html' %}
33 |         <form method="post">
34 |             {% csrf_token %}
35 |             <div class="form-actions">
36 |                 <p>{% trans "Are you sure that you want to delete this alert?" %}</p>
37 |                 <button type='submit' class="btn btn-lg btn-danger" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button> {% trans "or" %}
38 |                 <a href="{% url 'dashboard:user-alert-list' %}">{% trans "cancel" %}</a>
39 |             </div>
40 |         </form>
41 |     </div>
42 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/users/alerts/list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | {% load currency_filters %}
 4 | 
 5 | {% block body_class %}{{ block.super }} users{% endblock %}
 6 | 
 7 | {% block title %}
 8 |     {% trans "Product alerts" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li class="active">{% trans "Product alerts" %}</li>
17 |     </ul>
18 | {% endblock %}
19 | 
20 | {% block headertext %}
21 |     {% trans "Product alerts" %}
22 | {% endblock %}
23 | 
24 | {% block dashboard_content %}
25 |     <div class="table-header">
26 |         <h3><i class="icon-search icon-large"></i> {% trans "Search product alerts" %}</h3>
27 |     </div>
28 |     <div class="well">
29 |         <form method="get" class="form-inline">
30 |             {% include "oscar/dashboard/partials/form_fields_inline.html" with form=form %}
31 |             <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Searching...' %}">{% trans "Search" %}</button>
32 |             {% trans "or" %}
33 |             <a href="{% url 'dashboard:user-alert-list' %}" class="btn btn-default">{% trans "reset" %}</a>
34 |         </form>
35 |     </div>
36 | 
37 |     <div class="table-header">
38 |         <h2><i class="icon-group icon-large"></i>{{ queryset_description }}</h2>
39 |     </div>
40 | 
41 |     {% if alerts %}
42 |         <table class="table table-striped table-bordered table-hover">
43 |             <tr>
44 |                 <th>{% trans "Product" %}</th>
45 |                 <th>{% trans "User" %}</th>
46 |                 <th>{% trans "Status" %}</th>
47 |                 <th>{% trans "Date created" %}</th>
48 |                 <th>{% trans "Date alert sent" %}</th>
49 |                 <th></th>
50 |             </tr>
51 |             {% for alert in alerts %}
52 |                 <tr>
53 |                     <td>
54 |                         <a href="{{ alert.product.get_absolute_url }}">{{ alert.product }}</a>
55 |                     </td>
56 |                     <td>
57 |                         {% if alert.user %}
58 |                             <a href="{% url 'dashboard:user-detail' pk=alert.user.id %}">{{ alert.user.email }}</a>
59 |                         {% else %}
60 |                             {{ alert.email }} {% trans "(Anonymous)" %}
61 |                         {% endif %}
62 |                     </td>
63 |                     <td>
64 |                         {{ alert.status }}
65 |                     </td>
66 |                     <td>{{ alert.date_created }}</td>
67 |                     <td>{{ alert.date_closed|default:"-" }}</td>
68 |                     <td>
69 |                         <div class="btn-toolbar">
70 |                             <div class="btn-group">
71 |                                 <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
72 |                                     {% trans "Actions" %}
73 |                                     <span class="caret"></span>
74 |                                 </button>
75 |                                 <ul class="dropdown-menu pull-right">
76 |                                     <li><a href="{% url 'dashboard:user-alert-update' pk=alert.id %}">{% trans "Edit" %}</a></li>
77 |                                     <li><a href="{% url 'dashboard:user-alert-delete' pk=alert.id %}">{% trans "Delete" %}</a></li>
78 |                                 </ul>
79 |                             </div>
80 |                         </div>
81 | 
82 | 
83 |                     </td>
84 |                 </tr>
85 |             {% endfor %}
86 |         </table>
87 | 
88 |         {% include "oscar/dashboard/partials/pagination.html" %}
89 | 
90 |     {% else %}
91 |         <table class="table table-striped table-bordered table-hover">
92 |             <tr><td>{% trans "No alerts found." %}</td></tr>
93 |         </table>
94 |     {% endif %}
95 | 
96 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/users/alerts/update.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block body_class %}{{ block.super }} users{% endblock %}
 5 | 
 6 | {% block title %}
 7 |     {% blocktrans with id=alert.id %}Update alert #{{ id }}{% endblocktrans %} | {{ block.super }}
 8 | {% endblock %}
 9 | 
10 | {% block breadcrumbs %}
11 |     <ul class="breadcrumb">
12 |         <li>
13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
14 |         </li>
15 |         <li>
16 |             <a href="{% url 'dashboard:user-alert-list' %}">{% trans "Product alerts" %}</a>
17 |         </li>
18 |         <li class="active">{% blocktrans with id=alert.id %}Alert #{{ id }}{% endblocktrans %}</li>
19 |     </ul>
20 | {% endblock %}
21 | 
22 | {% block headertext %}
23 |     {% blocktrans with id=alert.id %}Product alert #{{ id }}{% endblocktrans %}
24 | {% endblock %}
25 | 
26 | {% block dashboard_content %}
27 |     <div class="table-header">
28 |         <h2 class="pull-left">{% blocktrans with id=alert.id %}Product alert #{{ id }}{% endblocktrans %}</h2>
29 |         <div class="pull-right">
30 |             <form method="post" class="form-inline">
31 |                 {% csrf_token %}
32 |                 {% include 'oscar/dashboard/partials/form_fields_inline.html' %}
33 |                 <button type='submit' class="btn btn-primary" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button>
34 |                 <a href="{% url 'dashboard:user-alert-list' %}" class="btn btn-default">{% trans "cancel" %}</a>
35 |             </form>
36 |         </div>
37 |     </div>
38 |     {% include 'oscar/dashboard/users/alerts/partials/alert.html' %}
39 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/users/detail.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load currency_filters %}
  3 | {% load i18n %}
  4 | 
  5 | {% block body_class %}{{ block.super }} users{% endblock %}
  6 | 
  7 | {% block title %}{{ customer.email }} | {{ block.super }}{% endblock %}
  8 | 
  9 | {% block breadcrumbs %}
 10 |     <ul class="breadcrumb">
 11 |         <li>
 12 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 13 |         </li>
 14 |         <li>
 15 |             <a href="{% url 'dashboard:users-index' %}">{% trans "Customers" %}</a>
 16 |         </li>
 17 |         <li class="active">{{ customer.email }}</li>
 18 |     </ul>
 19 | {% endblock %}
 20 | 
 21 | {% block headertext %}{{ customer.email }}{% endblock %}
 22 | 
 23 | {% block dashboard_content %}
 24 |     <div class="row">
 25 |         {% block user_general_info %}
 26 |             <div class="col-md-12">
 27 |                 <div class="table-header">
 28 |                     <h2>{% trans "General" %}</h2>
 29 |                 </div>
 30 |                 <table class="table table-bordered">
 31 |                     <tr>
 32 |                         <th>{% trans "Name" %}</th>
 33 |                         <td>{{ customer.get_full_name|default:"-" }}</td>
 34 |                     </tr>
 35 |                     <tr>
 36 |                         <th>{% trans "Email" %}</th>
 37 |                         <td>{{ customer.email }}</td>
 38 |                     </tr>
 39 |                     <tr>
 40 |                         <th>{% trans "Active" %}?</th>
 41 |                         <td>
 42 |                             {{ customer.is_active|yesno:_("Yes,No") }}
 43 |                         </td>
 44 |                     </tr>
 45 |                     <tr>
 46 |                         <th>{% trans "Superuser" %}?</th>
 47 |                         <td>{{ customer.is_superuser|yesno:_("True,False") }}</td>
 48 |                     </tr>
 49 |                     <tr>
 50 |                         <th>{% trans "Staff" %}?</th>
 51 |                         <td>{{ customer.is_staff|yesno:_("True,False") }}</td>
 52 |                     </tr>
 53 |                     <tr>
 54 |                         <th>{% trans "Last login" %}</th>
 55 |                         <td>{{ customer.last_login }}</td>
 56 |                     </tr>
 57 |                     <tr>
 58 |                         <th>{% trans "Date joined" %}</th>
 59 |                         <td>{{ customer.date_joined }}</td>
 60 |                     </tr>
 61 |                     {% if customer.userrecord %}
 62 |                         {% with record=customer.userrecord %}
 63 |                             <tr>
 64 |                                 <th>{% trans "Products viewed" %}</th>
 65 |                                 <td>{{ record.num_product_views|default:0 }}</td>
 66 |                             </tr>
 67 |                             <tr>
 68 |                                 <th>{% trans "Number of orders" %}</th>
 69 |                                 <td>{{ record.num_orders|default:0 }}</td>
 70 |                             </tr>
 71 |                             <tr>
 72 |                                 <th>{% trans "Number of ordered items" %}</th>
 73 |                                 <td>{{ record.num_order_items|default:0 }}</td>
 74 |                             </tr>
 75 |                             <tr>
 76 |                                 <th>{% trans "Total spent" %}</th>
 77 |                                 <td>{{ record.total_spent|default:0|currency }}</td>
 78 |                             </tr>
 79 |                         {% endwith %}
 80 |                     {% endif %}
 81 |                     <tr>
 82 |                         <th>{% trans "Reviews written" %}</th>
 83 |                         <td>{{ customer.reviews.count }}</td>
 84 |                     </tr>
 85 |                     {% if customer.email %}
 86 |                         <tr>
 87 |                             <th>{% trans "Actions" %}</th>
 88 |                             <td>
 89 |                                 <form id="password_reset_form" action="{% url 'dashboard:user-password-reset' pk=customer.id %}" method="post" class="form-horizontal">
 90 |                                     {% csrf_token %}
 91 |                                     <button type="submit" class="btn btn-primary btn-lg" data-loading-text="{% trans 'Sending...' %}">{% trans 'Send password reset email' %}</button>
 92 |                                 </form>
 93 |                             </td>
 94 |                         </tr>
 95 |                     {% endif %}
 96 |                 </table>
 97 |             </div>
 98 |         {% endblock %}
 99 |     </div>
100 |     <div class="row">
101 |         {% block user_additional_info %}
102 |             <div class="tabbable dashboard col-md-12">
103 |                 {% block tab_nav %}
104 |                     <ul class="nav nav-tabs">
105 |                         <li class="active"><a href="#user_orders" data-toggle="tab">{% trans "Orders" %}</a></li>
106 |                         <li><a href="#user_addresses" data-toggle="tab">{% trans "Addresses" %}</a></li>
107 |                         <li><a href="#user_reviews" data-toggle="tab">{% trans "Reviews" %}</a></li>
108 |                     </ul>
109 |                 {% endblock %}
110 | 
111 |                 <div class="tab-content">
112 |                     {% block user_orders %}
113 |                         <div id="user_orders" class="tab-pane active">
114 |                             <table class="table table-striped table-bordered table-hover">
115 |                                 <caption>{% trans "Orders" %}</caption>
116 |                                 {% with orders=customer.orders.all %}
117 |                                     {% if orders %}
118 |                                         <tr>
119 |                                             <th>{% trans "Order Number" %}</th>
120 |                                             <th>{% trans "Num items" %}</th>
121 |                                             <th>{% trans "Total value" %}</th>
122 |                                             <th>{% trans "Date placed" %}</th>
123 |                                             <th>{% trans "Status" %}</th>
124 |                                             <th></th>
125 |                                         </tr>
126 |                                         {% for order in orders %}
127 |                                             <tr>
128 |                                                 <td><a href="{% url 'dashboard:order-detail' order.number %}">{{ order.number }}</a></td>
129 |                                                 <td>{{ order.num_items }}</td>
130 |                                                 <td>{{ order.basket_total_incl_tax|currency }}</td>
131 |                                                 <td>{{ order.date_placed|date }}</td>
132 |                                                 <td>{{ order.status|default:"-" }}</td>
133 |                                                 <td><a href="{% url 'dashboard:order-detail' number=order.number %}" class="btn btn-info">{% trans "View" %}</a></td>
134 |                                             </tr>
135 |                                         {% endfor %}
136 |                                     {% else %}
137 |                                         <tr><td>{% trans "This customer has not placed any orders yet." %}</td></tr>
138 |                                     {% endif %}
139 |                                 {% endwith %}
140 |                             </table>
141 | 
142 |                         </div>
143 |                     {% endblock %}
144 | 
145 |                     {% block user_addresses %}
146 |                         <div id="user_addresses" class="tab-pane">
147 |                             <h2>{% trans "Addresses" %}</h2>
148 |                             <div class="row">
149 |                                 {% for address in customer.addresses.all %}
150 | 
151 |                                     <div class="col-md-3">
152 |                                         <div class="well well-info">
153 |                                             {% for field in address.active_address_fields %}
154 |                                                 {{ field }}<br/>
155 |                                             {% endfor %}
156 |                                         </div>
157 |                                     </div>
158 |                                     {% if forloop.counter|divisibleby:4 %}
159 |                                     </div>
160 |                                     <div class="row">
161 |                                     {% endif %}
162 |                                 {% empty %}
163 |                                     <p>{% trans "This customer has not saved any addresses." %}</p>
164 |                                 {% endfor %}
165 |                             </div>
166 |                         </div>
167 |                     {% endblock %}
168 | 
169 |                     {% block user_reviews %}
170 |                         <div id="user_reviews" class="tab-pane">
171 |                             <table class="table table-striped table-bordered table-hover">
172 |                                 <caption>{% trans "Reviews" %}</caption>
173 |                                 {% if customer.reviews.count %}
174 |                                     <tr>
175 |                                         <th>{% trans "Product ID" %}</th>
176 |                                         <th>{% trans "Score" %}</th>
177 |                                         <th>{% trans "Title" context "Product review title" %}</th>
178 |                                         <th>{% trans "Body" %}</th>
179 |                                         <th>{% trans "Date created" %}</th>
180 |                                     </tr>
181 |                                     {% for review in customer.reviews.all %}
182 |                                         <tr>
183 |                                             <td>{{ review.product_id }}</td>
184 |                                             <td>{{ review.score }}</td>
185 |                                             <td>{{ review.title }}</td>
186 |                                             <td>{{ review.body }}</td>
187 |                                             <td>{{ review.date_created }}</td>
188 |                                         </tr>
189 |                                     {% endfor %}
190 |                                 {% else %}
191 |                                     <tr><td>{% trans "This customer has not written any reviews yet." %}</td></tr>
192 |                                 {% endif %}
193 |                             </table>
194 | 
195 |                         </div>
196 |                     {% endblock %}
197 |                 </div>
198 |             </div>
199 |         </div>
200 |     {% endblock %}
201 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/users/index.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load dashboard_tags %}
 3 | {% load i18n %}
 4 | {% load render_table from django_tables2 %}
 5 | 
 6 | {% block body_class %}{{ block.super }} users{% endblock %}
 7 | 
 8 | {% block title %}
 9 |     {% trans "Customers" %} | {{ block.super }}
10 | {% endblock %}
11 | 
12 | {% block header %}
13 |     <div class="page-header">
14 |         <h1>{% trans "Customers" %}</h1>
15 |     </div>
16 | {% endblock header %}
17 | 
18 | {% block breadcrumbs %}
19 |     <ul class="breadcrumb">
20 |         <li>
21 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
22 |         </li>
23 |         <li class="active">{% trans "Customers" %}</li>
24 |     </ul>
25 | {% endblock %}
26 | 
27 | {% block dashboard_content %}
28 |     <div class="table-header">
29 |         <h3><i class="icon-search icon-large"></i> {% trans "Search" %}</h3>
30 |     </div>
31 |     <div class="well">
32 |         <form method="get" class="form-inline">
33 |             {% include "oscar/dashboard/partials/form_fields_inline.html" with form=form %}
34 |             <button type="submit" name="search" class="btn btn-primary" data-loading-text="{% trans 'Searching...' %}">{% trans "Search" %}</button>
35 |             <a href="{% url 'dashboard:users-index' %}" class="btn btn-default">{% trans "Reset" %}</a>
36 |         </form>
37 |     </div>
38 | 
39 |     {% block users_list %}
40 |         {% if users.data %}
41 |           <form id="user_list_form" method="post" class="form-inline">
42 |             {% csrf_token %}
43 |             {% render_table users %}
44 |           </form>
45 |         {% else %}
46 |             <table class="table table-striped table-bordered table-hover">
47 |                 <caption>{{ queryset_description }}</caption>
48 |                 <tr><td>{% trans "No customers found." %}</td></tr>
49 |             </table>
50 |         {% endif %}
51 |     {% endblock %}
52 | 
53 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/users/table.html

 1 | {% extends 'oscar/dashboard/table.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block table.caption %}
 5 |   {{ block.super }}
 6 |   <div class="pull-right">
 7 |       <div class="form-inline">
 8 |           <i class="icon-refresh"></i> {% trans "Bulk Actions" %}
 9 |           <label for="inlineCheckboxes">{% trans "With selected customers:" %}</label>
10 |           <label>
11 |               <input type="radio" name="action" value="make_active" /> {% trans "Make active" %}
12 |           </label>
13 |           <label>
14 |               <input type="radio" name="action" value="make_inactive" /> {% trans "Make inactive" %}
15 |           </label>
16 |           <input type="submit" value="{% trans "Go!" %}" class="btn btn-primary" />
17 |       </div>
18 |   </div>
19 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/users/user_row_actions.html

1 | {% load i18n %}
2 | <a href="{% url 'dashboard:user-detail' pk=record.id %}" class="btn btn-info">{% trans "View" %}</a>


# File: oscardropship/templates/oscar/dashboard/users/user_row_checkbox.html

1 | <input type="checkbox" name="selected_user" class="selected_user" value="{{ record.id }}"/>


# File: oscardropship/templates/oscar/dashboard/vouchers/voucher_delete.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 6 | 
 7 | {% block title %}
 8 |     {% blocktrans with name=voucher.name %}Delete voucher '{{ name }}'?{% endblocktrans %} | {% trans "Vouchers" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:voucher-list' %}">{% trans "Vouchers" %}</a>
18 |         </li>
19 |         <li>
20 |             <a href="{% url 'dashboard:voucher-stats' pk=voucher.pk %}">{{ voucher }}</a>
21 |         </li>
22 |         <li class="active">{% trans "Delete?" %}</li>
23 |     </ul>
24 | {% endblock %}
25 | 
26 | {% block headertext %}
27 |     {% blocktrans with name=voucher.name %}Delete voucher '{{ name }}'?{% endblocktrans %}
28 | {% endblock %}
29 | 
30 | {% block dashboard_content %}
31 |     <div class="table-header">
32 |         <h2>{% trans "Voucher details" %}</h2>
33 |     </div>
34 |     <div class="well">
35 |         <table class="table table-striped table-bordered table-hover">
36 |             <tbody>
37 |                 <tr><th>{% trans "Name" %}</th><td>{{ voucher.name }}</td></tr>
38 |                 <tr><th>{% trans "Code" %}</th><td>{{ voucher.code }}</td></tr>
39 |                 <tr><th>{% trans "Start datetime" %}</th><td>{{ voucher.start_datetime }}</td></tr>
40 |                 <tr><th>{% trans "End datetime" %}</th><td>{{ voucher.end_datetime }}</td></tr>
41 |                 <tr><th>{% trans "Usage" %}</th><td>{{ voucher.usage }}</td></tr>
42 |                 <tr><th>{% trans "Discount" %}</th><td>{{ voucher.benefit.description|safe }}</td></tr>
43 |             </tbody>
44 |         </table>
45 |         <form method="post">
46 |             {% csrf_token %}
47 |             <div class="form-actions">
48 |                 <button class="btn btn-danger btn-lg" type="submit" data-loading-text="{% trans 'Deleting...' %}">{% trans "Delete" %}</button> {% trans "or" %}
49 |                 <a href="{% url 'dashboard:voucher-list' %}">{% trans "cancel" %}</a>
50 |             </div>
51 |         </form>
52 |     </div>
53 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/vouchers/voucher_detail.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block title %}
 6 |     {{ voucher }} | {% trans "Vouchers" %} | {{ block.super }}
 7 | {% endblock %}
 8 | 
 9 | {% block breadcrumbs %}
10 |     <ul class="breadcrumb">
11 |         <li>
12 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
13 |         </li>
14 |         <li>
15 |             <a href="{% url 'dashboard:voucher-list' %}">{% trans "Vouchers" %}</a>
16 |         </li>
17 |         <li class="active">{{ voucher }}</li>
18 |     </ul>
19 | {% endblock %}
20 | 
21 | {% block headertext %}
22 |     {{ voucher }}
23 | {% endblock %}
24 | 
25 | {% block dashboard_content %}
26 | 
27 |     <div class="table-header">
28 |         <h2>{% trans "Voucher details" %}</h2>
29 |     </div>
30 |     <table class="table table-striped table-bordered table-hover">
31 |         <tbody>
32 |             <tr><th>{% trans "Name" %}</th><td>{{ voucher.name }}</td></tr>
33 |             <tr><th>{% trans "Code" %}</th><td>{{ voucher.code }}</td></tr>
34 |             <tr><th>{% trans "Start datetime" %}</th><td>{{ voucher.start_datetime }}</td></tr>
35 |             <tr><th>{% trans "End datetime" %}</th><td>{{ voucher.end_datetime }}</td></tr>
36 |             <tr><th>{% trans "Usage" %}</th><td>{{ voucher.get_usage_display }}</td></tr>
37 |             <tr><th>{% trans "Discount" %}</th><td>{{ voucher.benefit.description|safe }}</td></tr>
38 |         </tbody>
39 |     </table>
40 | 
41 |     <div class="table-header">
42 |         <h2>{% trans "Voucher performance" %}</h2>
43 |     </div>
44 |     <table class="table table-striped table-bordered table-hover">
45 |         <tbody>
46 |             <tr><th>{% trans "Number of basket additions" %}</th><td>{{ voucher.num_basket_additions }}</td></tr>
47 |             <tr><th>{% trans "Number of orders" %}</th><td>{{ voucher.num_orders }}</td></tr>
48 |             <tr><th>{% trans "Total discount" %}</th><td>{{ voucher.total_discount|currency }}</td></tr>
49 |         </tbody>
50 |     </table>
51 | 
52 |     <div class="table-header">
53 |         <h2>{% trans "Recent orders" %}</h2>
54 |     </div>
55 | 
56 |     <table class="table table-striped table-bordered table-hover">
57 |         {% if not discounts %}
58 |             <tr><td>{% trans "No orders have been placed that use this voucher." %}</td></tr>
59 |         {% else %}
60 |             <thead>
61 |                 <tr>
62 |                     <th>{% trans "Order number" %}</th>
63 |                     <th>{% trans "Order total" %}</th>
64 |                     <th>{% trans "Discount" %}</th>
65 |                     <th>{% trans "Date placed" %}</th>
66 |                 </tr>
67 |             </thead>
68 |             <tbody>
69 |                 {% for discount in discounts %}
70 |                     {% with order=discount.order %}
71 |                         <tr>
72 |                             <td><a href="{% url "dashboard:order-detail" number=order.number %}">{{ order.number }}</a></td>
73 |                             <td>{{ order.total_incl_tax|currency:order.currency }}</td>
74 |                             <td>{{ discount.amount|currency:order.currency }}</td>
75 |                             <td>{{ order.date_placed }}</td>
76 |                         </tr>
77 |                     {% endwith %}
78 |                 {% endfor %}
79 |             </tbody>
80 |         {% endif %}
81 |     </table>
82 | 
83 |     <div class="form-actions">
84 |         <a class="btn btn-primary" href="{% url 'dashboard:voucher-update' pk=voucher.id %}">{% trans "Edit" %}</a> {% trans "or" %}
85 |         <a class="btn btn-danger" href="{% url 'dashboard:voucher-delete' pk=voucher.id %}">{% trans "Delete" %}</a> {% trans "or" %}
86 |         <a href="{% url 'dashboard:voucher-list' %}">{% trans "cancel" %}</a>
87 |     </div>
88 | 
89 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/vouchers/voucher_form.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 6 | 
 7 | {% block title %}
 8 |     {{ title }} | {% trans "Vouchers" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:voucher-list' %}">{% trans "Vouchers" %}</a>
18 |         </li>
19 |         {% if voucher %}
20 |         <li>
21 |             <a href="{% url 'dashboard:voucher-stats' pk=voucher.id %}">{{ voucher }}</a>
22 |         </li>
23 |     {% endif %}
24 |     <li class="active">{% trans "Edit" %}</li>
25 |     </ul>
26 | {% endblock %}
27 | 
28 | {% block headertext %}{{ title }}{% endblock %}
29 | 
30 | {% block dashboard_content %}
31 |     <div class="table-header">
32 |         <h2><i class="icon-money icon-large"></i>
33 |             {% if voucher %}
34 |                 {% trans "Edit voucher" %}
35 |             {% else %}
36 |                 {% trans "Create voucher" %}
37 |             {% endif %}
38 |         </h2>
39 |     </div>
40 |     <form method="post" class="well form-stacked">
41 |         {% csrf_token %}
42 |         {% include "oscar/dashboard/partials/form_fields.html" with form=form %}
43 |         {% block form_actions %}
44 |             <div class="form-actions">
45 |                 <button class="btn btn-primary btn-lg" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button> {% trans "or" %}
46 |                 <a href="{% url 'dashboard:voucher-list' %}">{% trans "cancel" %}</a>
47 |             </div>
48 |         {% endblock form_actions %}
49 |     </form>
50 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/vouchers/voucher_list.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load currency_filters %}
  3 | {% load sorting_tags %}
  4 | {% load i18n %}
  5 | 
  6 | {% block title %}
  7 |     {{ description }} | {{ block.super }}
  8 | {% endblock %}
  9 | 
 10 | {% block breadcrumbs %}
 11 |     <ul class="breadcrumb">
 12 |         <li>
 13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 14 |         </li>
 15 |         {% if form.is_bound %}
 16 |             <li>
 17 |                 <a href="{% url 'dashboard:voucher-list' %}">{% trans "Vouchers" %}</a>
 18 |             </li>
 19 |         {% endif %}
 20 |         <li class="active">{{ description }}</li>
 21 |     </ul>
 22 | {% endblock %}
 23 | 
 24 | {% block header %}
 25 |     <div class="page-header">
 26 |         <a href="{% url 'dashboard:voucher-create' %}" class="btn btn-primary btn-lg pull-right"><i class="icon-plus"></i> {% trans "Create new voucher" %}</a>
 27 |         <h1>{% trans "Vouchers" %}</h1>
 28 |     </div>
 29 | {% endblock header %}
 30 | 
 31 | 
 32 | {% block dashboard_content %}
 33 |     {% block page_head %}
 34 |         <div class="table-header">
 35 |             <h3><i class="icon-search icon-large"></i>{% trans "Search" %}</h3>
 36 |         </div>
 37 |         <div class="well">
 38 |             <form method="get" class="form-inline">
 39 |                 {% include 'oscar/dashboard/partials/form_fields_inline.html' with form=form %}
 40 |                 <button type="submit" class="btn btn-primary" data-loading-text="{% trans 'Searching...' %}">{% trans "Search" %}</button>
 41 |                 <a href="{% url 'dashboard:voucher-list' %}" class="btn btn-default">{% trans "Reset" %}</a>
 42 |             </form>
 43 |         </div>
 44 |     {% endblock page_head %}
 45 | 
 46 |     {% block voucher_table %}
 47 |         <table class="table table-striped table-bordered table-hover">
 48 |             <caption><i class="icon-money icon-large"></i>{{ description }}</caption>
 49 |             {% if vouchers %}
 50 |                 {% block table_head %}
 51 |                     <tr>
 52 |                         <th>{% trans "Name" %}</th>
 53 |                         <th>{% trans "Code" %}</th>
 54 |                         <th>{% trans "Status" %}</th>
 55 |                         <th>{% anchor 'num_basket_additions' _("Num baskets") %}</th>
 56 |                         <th>{% anchor 'num_orders' _("Num orders") %}</th>
 57 |                         <th>{% anchor 'date_created' _("Date created") %}</th>
 58 |                         <th></th>
 59 |                     </tr>
 60 |                 {% endblock table_head %}
 61 |                 {% for voucher in vouchers %}
 62 |                     {% block table_row %}
 63 |                         <tr>
 64 |                             <td><a href="{% url 'dashboard:voucher-stats' voucher.id %}">{{ voucher.name }}</a></td>
 65 |                             <td>
 66 |                                 <span class="label label-default">{{ voucher.code }}</span>
 67 |                             </td>
 68 |                             <td>
 69 |                                 {% if voucher.is_active %}
 70 |                                     <span class="label label-success">{% trans "Active" %}</span>
 71 |                                 {% else %}
 72 |                                     <span class="label label-default">{% trans "Inactive" %}</span>
 73 |                                 {% endif %}
 74 |                             </td>
 75 |                             <td>{{ voucher.num_basket_additions }}</td>
 76 |                             <td>{{ voucher.num_orders }}</td>
 77 |                             <td>{{ voucher.date_created }}</td>
 78 |                             <td>
 79 |                                 {% block row_actions %}
 80 |                                     <div class="btn-toolbar">
 81 |                                         <div class="btn-group">
 82 |                                             <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
 83 |                                                 {% trans "Actions" %}
 84 |                                                 <span class="caret"></span>
 85 |                                             </button>
 86 |                                             <ul class="dropdown-menu pull-right">
 87 |                                                 <li><a href="{% url 'dashboard:voucher-stats' pk=voucher.id %}">{% trans "Stats" %}</a></li>
 88 |                                                 <li><a href="{% url 'dashboard:voucher-update' pk=voucher.id %}">{% trans "Edit" %}</a></li>
 89 |                                                 <li><a href="{% url 'dashboard:voucher-delete' pk=voucher.id %}">{% trans "Delete" %}</a></li>
 90 |                                             </ul>
 91 |                                         </div>
 92 |                                     </div>
 93 |                                 {% endblock row_actions %}
 94 |                             </td>
 95 |                         </tr>
 96 |                     {% endblock table_row %}
 97 |                 {% endfor %}
 98 |             {% else %}
 99 |                 <tr><td>{% trans "No vouchers found." %}</td></tr>
100 |             {% endif %}
101 |         </table>
102 |     {% endblock voucher_table %}
103 | {% include "oscar/dashboard/partials/pagination.html" %}
104 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/vouchers/voucher_set_detail.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load currency_filters %}
  3 | {% load sorting_tags %}
  4 | {% load i18n %}
  5 | 
  6 | {% block title %}
  7 |     {{ description }} | {{ block.super }}
  8 | {% endblock %}
  9 | 
 10 | {% block breadcrumbs %}
 11 |     <ul class="breadcrumb">
 12 |         <li>
 13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
 14 |         </li>
 15 |         <li>
 16 |             <a href="{% url 'dashboard:voucher-set-list' %}">{% trans "Voucher sets" %}</a>
 17 |         </li>
 18 |         <li class="active">{{ description }}</li>
 19 |     </ul>
 20 | {% endblock %}
 21 | 
 22 | {% block header %}
 23 | <div class="page-header">
 24 |     <div class="pull-right">
 25 |     <a href="{% url 'dashboard:voucher-set-update' pk=voucher_set.pk %}" class="btn btn-primary btn-large "><i class="icon-plus"></i> {% trans "Update voucher set" %}</a>
 26 |     <a href="{% url 'dashboard:voucher-set-download' pk=voucher_set.pk %}" class="btn btn-primary btn-large "><i class="icon-plus"></i> {% trans "Download CSV" %}</a>
 27 |     </div>
 28 |     <h1>{% trans "Voucher set" %} '{{ voucher_set.name }}'</h1>
 29 | </div>
 30 | {% endblock header %}
 31 | 
 32 | 
 33 | {% block dashboard_content %}
 34 | <table class="table table-striped table-bordered">
 35 |     <caption>
 36 |         <h3>
 37 |             {% trans "Voucher set" %}
 38 |         </h3>
 39 |     </caption>
 40 |     <tbody>
 41 |         <tr>
 42 |             <th>{% trans "Title" %}</th>
 43 |             <td>{{ voucher_set.name }}</td>
 44 |         </tr>
 45 |         <tr>
 46 |             <th>{% trans "Start" %}</th>
 47 |             <td>{{ voucher_set.start_datetime }}</td>
 48 |         </tr>
 49 |         <tr>
 50 |             <th>{% trans "End" %}</th>
 51 |             <td>{{ voucher_set.end_datetime }}</td>
 52 |         </tr>
 53 |         <tr>
 54 |             <th>{% trans "Description" %}</th>
 55 |             <td>{{ voucher_set.description }}</td>
 56 |         </tr>
 57 |         <tr>
 58 |             <th>{% trans "Number of vouchers" %}</th>
 59 |             <td>{{ voucher_set.count }}</td>
 60 |         </tr>
 61 |         <tr>
 62 |             <th>{% trans "Created" %}</th>
 63 |             <td>{{ voucher_set.date_created }}</td>
 64 |         </tr>
 65 |     </tbody>
 66 | </table>
 67 | 
 68 | <div class="table-header">
 69 |     <h3><i class="icon-search icon-large"></i>{% trans "Search" %}</h3>
 70 | </div>
 71 | <div class="well">
 72 |     <form method="get" class="form-inline">
 73 | 		{% include 'oscar/partials/form_fields_inline.html' with form=form %}
 74 | 		<button type="submit" class="btn btn-primary">{% trans "Search" %}</button>
 75 | 		<a href="{% url 'dashboard:voucher-list' %}" class="btn">{% trans "Reset" %}</a>
 76 |     </form>
 77 | </div>
 78 | 
 79 | <table class="table table-striped table-bordered table-hover">
 80 |     {% if description != "All vouchers" %}
 81 |         <caption><i class="icon-money icon-large"></i>{{ description }}</caption>
 82 |     {% endif %}
 83 |     {% if vouchers %}
 84 |     <tr>
 85 |         <th>{% trans "Code" %}</th>
 86 |         <th>{% trans "Status" %}</th>
 87 |         <th>{% anchor 'num_basket_additions' _("Num baskets") %}</th>
 88 |         <th>{% anchor 'num_orders' _("Num orders") %}</th>
 89 |         <th>{% anchor 'date_created' _("Date created") %}</th>
 90 |         <th></th>
 91 |     </tr>
 92 |         {% for voucher in vouchers %}
 93 |         <tr>
 94 |             <td>
 95 |                 <span class="label label-default">{{ voucher.code }}</span>
 96 |             </td>
 97 |             <td>
 98 |                 {% if voucher.is_active %}
 99 |                     <span class="label label-success">{% trans "Active" %}</span>
100 |                 {% else %}
101 |                     <span class="label label-danger">{% trans "Inactive" %}</span>
102 |                 {% endif %}
103 |             </td>
104 |             <td>{{ voucher.num_basket_additions }}</td>
105 |             <td>{{ voucher.num_orders }}</td>
106 |             <td>{{ voucher.date_created }}</td>
107 |             <td>
108 |                 <div class="btn-toolbar">
109 |                     <div class="btn-group">
110 |                       <button class="btn dropdown-toggle" data-toggle="dropdown" href="#">
111 |                         {% trans "Actions" %}
112 |                         <span class="caret"></span>
113 |                       </button>
114 |                       <ul class="dropdown-menu pull-right">
115 |                           <li><a href="{% url 'dashboard:voucher-stats' pk=voucher.id %}">{% trans "Stats" %}</a></li>
116 |                           <li><a href="{% url 'dashboard:voucher-delete' pk=voucher.id %}">{% trans "Delete" %}</a></li>
117 |                       </ul>
118 |                     </div>
119 |                 </div>
120 |             </td>
121 |         </tr>
122 |         {% endfor %}
123 |     {% else %}
124 |     <tr><td>{% trans "No vouchers found." %}</td></tr>
125 |     {% endif %}
126 | </table>
127 | {% include "oscar/partials/pagination.html" %}
128 | {% endblock dashboard_content %}
129 | 


# File: oscardropship/templates/oscar/dashboard/vouchers/voucher_set_form.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block body_class %}{{ block.super }} create-page{% endblock %}
 6 | 
 7 | {% block title %}
 8 |     {{ title }} | {% trans "Voucher sets" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
15 |         </li>
16 |         <li>
17 |             <a href="{% url 'dashboard:voucher-list' %}">{% trans "Voucher sets" %}</a>
18 |         </li>
19 |         {% if voucher %}
20 |         <li>
21 |             <a href="{% url 'dashboard:voucher-set' pk=voucher.id %}">{{ voucher }}</a>
22 |         </li>
23 |     {% endif %}
24 |     <li class="active">{% trans "Edit" %}</li>
25 |     </ul>
26 | {% endblock %}
27 | 
28 | {% block headertext %}{{ title }}{% endblock %}
29 | 
30 | {% block dashboard_content %}
31 |     <div class="table-header">
32 |         <h2><i class="icon-money icon-large"></i>
33 |             {% if voucher %}
34 |                 {% trans "Edit voucher" %}
35 |             {% else %}
36 |                 {% trans "Create voucher" %}
37 |             {% endif %}
38 |         </h2>
39 |     </div>
40 |     <form method="post" class="well form-stacked">
41 |         {% csrf_token %}
42 |         {% include "oscar/dashboard/partials/form_fields.html" with form=form %}
43 |         {% block form_actions %}
44 |             <div class="form-actions">
45 |                 <button class="btn btn-primary btn-large" type="submit">{% trans "Save" %}</button> {% trans "or" %}
46 |                 <a href="{% url 'dashboard:voucher-set-list' %}">{% trans "cancel" %}</a>
47 |             </div>
48 |         {% endblock form_actions %}
49 |     </form>
50 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/vouchers/voucher_set_list.html

 1 | {% extends 'oscar/dashboard/layout.html' %}
 2 | {% load currency_filters %}
 3 | {% load sorting_tags %}
 4 | {% load i18n %}
 5 | 
 6 | {% block title %}
 7 |     {{ description }} | {{ block.super }}
 8 | {% endblock %}
 9 | 
10 | {% block breadcrumbs %}
11 |     <ul class="breadcrumb">
12 |         <li>
13 |             <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
14 |         </li>
15 |         <li class="active">{{ description }}</li>
16 |     </ul>
17 | {% endblock %}
18 | 
19 | {% block header %}
20 | <div class="page-header">
21 |     <a href="{% url 'dashboard:voucher-set-create' %}" class="btn btn-primary btn-large pull-right"><i class="icon-plus"></i> {% trans "Create new voucher set" %}</a>
22 |     <h1>{% trans "Voucher sets" %}</h1>
23 | </div>
24 | {% endblock header %}
25 | 
26 | 
27 | {% block dashboard_content %}
28 | 
29 | <table class="table table-striped table-bordered table-hover">
30 |     {% if description != "All vouchers" %}
31 |         <caption><i class="icon-money icon-large"></i>{{ description }}</caption>
32 |     {% endif %}
33 |     {% if vouchers %}
34 |     <tr>
35 |         <th>{% trans "Name" %}</th>
36 |         <th>{% trans "Num" %}</th>
37 |         <th>{% trans "Status" %}</th>
38 |         <th>{% anchor 'num_basket_additions' _("Num baskets") %}</th>
39 |         <th>{% anchor 'num_orders' _("Num orders") %}</th>
40 |         <th>{% anchor 'date_created' _("Date created") %}</th>
41 |         <th></th>
42 |     </tr>
43 |         {% for voucher in vouchers %}
44 |         <tr>
45 |             <td><a href="{% url 'dashboard:voucher-set' voucher.id %}">{{ voucher.name }}</a></td>
46 |             <td>{{ voucher.count }}</td>
47 |             <td>
48 |                 {% if voucher.is_active %}
49 |                     <span class="label label-success">{% trans "Active" %}</span>
50 |                 {% else %}
51 |                     <span class="label label-warning">{% trans "Inactive" %}</span>
52 |                 {% endif %}
53 |             </td>
54 |             <td>{{ voucher.num_basket_additions }}</td>
55 |             <td>{{ voucher.num_orders }}</td>
56 |             <td>{{ voucher.date_created }}</td>
57 |             <td>
58 |                 <div class="btn-toolbar">
59 |                     <div class="btn-group">
60 |                     <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
61 |                         {% trans "Actions" %}
62 |                         <span class="caret"></span>
63 |                       </button>
64 |                       <ul class="dropdown-menu pull-right">
65 |                           <li><a href="{% url 'dashboard:voucher-set' pk=voucher.id %}">{% trans "Stats" %}</a></li>
66 |                         <li><a href="{% url 'dashboard:voucher-set-update' pk=voucher.id %}">{% trans "Edit" %}</a></li>
67 |                       </ul>
68 |                     </div>
69 |                 </div>
70 |             </td>
71 |         </tr>
72 |         {% endfor %}
73 |     {% else %}
74 |     <tr><td>{% trans "No vouchers found." %}</td></tr>
75 |     {% endif %}
76 | </table>
77 | {% include "oscar/partials/pagination.html" %}
78 | {% endblock dashboard_content %}


# File: oscardropship/templates/oscar/dashboard/widgets/popup_response.html

 1 | {% load i18n static %}<!DOCTYPE html>
 2 | <html>
 3 |   <head><title>{% trans 'Popup closing...' %}</title></head>
 4 |   <body>
 5 |     <script type="text/javascript"
 6 |             id="oscar-popup-response-constants"
 7 |             src="{% static "oscar/js/oscar/popup_response.js" %}"
 8 |             data-popup-response="{{ popup_response_data }}">
 9 |     </script>
10 |   </body>
11 | </html>


# File: oscardropship/templates/oscar/dashboard/widgets/related_multiple_widget_wrapper.html

 1 | {% load i18n static %}
 2 | <div class="related-widget-wrapper multiple">
 3 |     {{ rendered_widget }}
 4 |     {% block links %}
 5 |         {% spaceless %}
 6 |         <div class="hidden">
 7 |             <a class="related-widget-wrapper-link change-related" id="change_id_{{ name }}"
 8 |                 data-href-template="{{ change_related_template_url }}?{{ url_params }}"
 9 |                 title="{% blocktrans %}Change selected {{ model }}{% endblocktrans %}">
10 |                 <i class="icon-pencil" aria-hidden="true"></i>
11 |             </a>
12 |             <a class="related-widget-wrapper-link delete-related" id="delete_id_{{ name }}"
13 |                 data-href-template="{{ delete_related_template_url }}?{{ url_params }}"
14 |                 title="{% blocktrans %}Delete selected {{ model }}{% endblocktrans %}">
15 |                 <i class="icon-remove" aria-hidden="true"></i>
16 |             </a>
17 |         </div>
18 |         <a class="related-widget-wrapper-link add-related" id="create_id_{{ name }}"
19 |             href="{{ add_related_url }}?{{ url_params }}"
20 |             title="{% blocktrans %}Add another {{ model }}{% endblocktrans %}">
21 |             <img src="{% static 'oscar/img/ui/icon-addlink.svg' %}" alt="{% trans 'Add' %}"/>
22 |         </a>
23 |         {% endspaceless %}
24 |     {% endblock %}
25 | </div>


# File: oscardropship/templates/oscar/dashboard/widgets/related_widget_wrapper.html

 1 | {% load i18n static %}
 2 | <div class="related-widget-wrapper single">
 3 |     {{ rendered_widget }}
 4 |     {% block links %}
 5 |         {% spaceless %}
 6 |         <a class="related-widget-wrapper-link change-related" id="change_id_{{ name }}"
 7 |             data-href-template="{{ change_related_template_url }}?{{ url_params }}"
 8 |             title="{% blocktrans %}Change selected {{ model }}{% endblocktrans %}">
 9 |             <img src="{% static 'oscar/img/ui/icon-changelink.svg' %}" alt="{% trans 'Change' %}"/>
10 |         </a>
11 |         <a class="related-widget-wrapper-link add-related" id="create_id_{{ name }}"
12 |             href="{{ add_related_url }}?{{ url_params }}"
13 |             title="{% blocktrans %}Add another {{ model }}{% endblocktrans %}">
14 |             <img src="{% static 'oscar/img/ui/icon-addlink.svg' %}" alt="{% trans 'Add' %}"/>
15 |         </a>
16 |         <a class="related-widget-wrapper-link delete-related" id="delete_id_{{ name }}"
17 |             data-href-template="{{ delete_related_template_url }}?{{ url_params }}"
18 |             title="{% blocktrans %}Delete selected {{ model }}{% endblocktrans %}">
19 |             <img src="{% static 'oscar/img/ui/icon-deletelink.svg' %}" alt="{% trans 'Delete' %}"/>
20 |         </a>
21 |         {% endspaceless %}
22 |     {% endblock %}
23 | </div>


# File: oscardropship/templates/oscar/dashboard/base.html

 1 | {% extends "oscar/base.html" %}
 2 | 
 3 | {% block extrahead %}
 4 |     {{ block.super }}
 5 | 
 6 |     <meta name="robots" content="NONE,NOARCHIVE">
 7 | {% endblock %}
 8 | 
 9 | 
10 | {% block tracking %}
11 |     {# By default there is no analytics tracking in the dashboard #}
12 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/index.html

  1 | {% extends 'oscar/dashboard/layout.html' %}
  2 | {% load currency_filters %}
  3 | {% load i18n %}
  4 | 
  5 | {% block body_class %}{{ block.super }} orders home{% endblock %}
  6 | 
  7 | {% block extrahead %}
  8 |     {{ block.super }}
  9 |     <meta http-equiv="refresh" content="300">
 10 | {% endblock %}
 11 | 
 12 | {% block breadcrumbs %}
 13 | {% endblock %}
 14 | 
 15 | {% block headertext %}
 16 | {% trans "Dashboard" %}
 17 | {% endblock %}
 18 | 
 19 | {% block dashboard_content %}
 20 | 
 21 | <div class="table-header">
 22 |     <i class="icon-signal icon-large"></i>{% trans "Your Store Statistics" %}
 23 | </div>
 24 | 
 25 | <div class="content-block">
 26 |     <div class="row">
 27 |         <aside class="col-md-3 order-graph-details">
 28 |             <label><span><i class="icon-shopping-cart"></i>{{ total_orders_last_day }}</span>{% trans "Total Orders" %}</label>
 29 |             <label><span><i class="icon-hand-right"></i>{{ total_customers_last_day }}</span>{% trans "New Customers" %}</label>
 30 |             <label><span><i class="icon-group"></i>{{ total_customers }}</span>{% trans "Total Customers" %}</label>
 31 |             <label><span><i class="icon-briefcase"></i>{{ total_products }}</span>{% trans "Total Products" %}</label>
 32 |         </aside>
 33 |         <div class="col-md-9">
 34 |             <div id="order_graph">
 35 |                 <div class="bar-caption"><h1>{% trans "Latest Orders (last 24 hours)" %}</h1></div>
 36 |                 <div class="bar-y-axis">
 37 |                     <ul>
 38 |                     {% for y_value in hourly_report_dict.y_range %}
 39 |                         <li><span>{{ y_value|currency }}</span></li>
 40 |                     {% endfor %}
 41 |                     </ul>
 42 |                 </div>
 43 |                 <dl class="bar-chart">
 44 |                     {% for item in hourly_report_dict.order_total_hourly %}
 45 |                         <dd class="bar-layer">
 46 |                             <em>{{ item.end_time|time }}</em>
 47 |                             <span style="height: {{ item.percentage }}%;" >
 48 |                                 <p{% if item.percentage == 0 %} style="display: none;"{% endif %}>{{ item.total_incl_tax|currency }}</p>
 49 |                             </span>
 50 |                         </dd>
 51 |                     {% endfor %}
 52 |                 </dl>
 53 |             </div>
 54 |         </div>
 55 |     </div>
 56 | </div>
 57 | 
 58 | 
 59 | <div class="row">
 60 |     <div class="col-md-4">
 61 |         <table class="table table-striped table-bordered table-hover">
 62 |             <caption><i class="icon-shopping-cart icon-large"></i>{% trans "Orders - Last 24 Hours" %}</caption>
 63 |             <tr>
 64 |                 <th class="col-md-10">{% trans "Total orders" %}</th>
 65 |                 <td class="col-md-2" >{{ total_orders_last_day }}</td>
 66 |             </tr>
 67 |             <tr>
 68 |                 <th class="col-md-10">{% trans "Total lines" %}</th>
 69 |                 <td class="col-md-2" >{{ total_lines_last_day }}</td>
 70 |             </tr>
 71 |             <tr>
 72 |                 <th class="col-md-10">{% trans "Total revenue" %}</th>
 73 |                 <td class="col-md-2" >{{ total_revenue_last_day|currency }}</td>
 74 |             </tr>
 75 |             <tr>
 76 |                 <th class="col-md-10">{% trans "Average order costs" %}</th>
 77 |                 <td class="col-md-2" >{{ average_order_costs|currency }}</td>
 78 |             </tr>
 79 |         </table>
 80 |     </div>
 81 | 
 82 |     <div class="col-md-4">
 83 |         <table class="table table-striped table-bordered table-hover">
 84 |             <caption>
 85 |                 <a href="{% url 'dashboard:order-list' %}" class="btn btn-default pull-right">
 86 |                     <i class="icon-shopping-cart"></i> {% trans "Manage" %}
 87 |                 </a>
 88 |                 <i class="icon-shopping-cart icon-large"></i>{% trans "Orders - All Time" %}
 89 |             </caption>
 90 |             <tr>
 91 |                 <th class="col-md-10">{% trans "Total orders" %}</th>
 92 |                 <td class="col-md-2" >{{ total_orders }}</td>
 93 |             </tr>
 94 |             <tr>
 95 |                 <th class="col-md-10">{% trans "Total lines" %}</th>
 96 |                 <td class="col-md-2" >{{ total_lines }}</td>
 97 |             </tr>
 98 |             <tr>
 99 |                 <th class="col-md-10">{% trans "Total revenue" %}</th>
100 |                 <td class="col-md-2" >{{ total_revenue|currency }}</td>
101 |             </tr>
102 |             <tr>
103 |                 <th class="col-md-10">{% trans "Total <em>open</em> baskets" %}</th>
104 |                 <td class="col-md-2" >{{ total_open_baskets }}</td>
105 |             </tr>
106 |         </table>
107 |     </div>
108 | 
109 |     <div class="col-md-4">
110 |         <table class="table table-striped table-bordered table-hover">
111 |             <caption><i class="icon-group icon-large"></i>{% trans "Customers" %}</caption>
112 |             <tr>
113 |                 <th class="col-md-10">{% trans "Total customers" %}</th>
114 |                 <td class="col-md-2" >{{ total_customers }}</td>
115 |             </tr>
116 |             <tr>
117 |                 <th class="col-md-10">{% trans "New customers" %}</th>
118 |                 <td class="col-md-2" >{{ total_customers_last_day }}</td>
119 |             </tr>
120 |             <tr>
121 |                 <th class="col-md-10">{% trans "Total <em>open</em> baskets" %}</th>
122 |                 <td class="col-md-2" >{{ total_open_baskets_last_day }}</td>
123 |             </tr>
124 |         </table>
125 |     </div>
126 | </div>
127 | 
128 | <div class="row">
129 |     <div class="col-md-6">
130 |         <table class="table table-striped table-bordered table-hover">
131 |             <caption>
132 |                 <div class="btn-toolbar pull-right">
133 |                   <div class="btn-group">
134 |                     <a href="{% url 'dashboard:catalogue-product-list' %}" class="btn btn-default">
135 |                         <i class="icon-sitemap"></i> {% trans "Manage" %}
136 |                     </a>
137 |                   </div>
138 |                   <div class="btn-group">
139 |                     <a href="{% url 'dashboard:stock-alert-list' %}" class="btn btn-default">
140 |                         <i class="icon-sitemap"></i> {% trans "View Stock Alerts" %}
141 |                     </a>
142 |                   </div>
143 |                 </div>
144 |                 <i class="icon-sitemap icon-large"></i>{% trans "Catalogue and stock" %}
145 |             </caption>
146 |             <tr>
147 |                 <th class="col-md-10">{% trans "Total products" %}</th>
148 |                     <td class="col-md-2" >{{ total_products }}</td>
149 |             </tr>
150 |             <tr>
151 |                 <th class="col-md-10">{% trans "<em>Open</em> stock alerts" %}</th>
152 |                     <td class="col-md-2" >{{ total_open_stock_alerts }}</td>
153 |             </tr>
154 |             <tr>
155 |                 <th class="col-md-10">{% trans "<em>Closed</em> stock alerts" %}</th>
156 |                     <td class="col-md-2" >{{ total_closed_stock_alerts }}</td>
157 |             </tr>
158 |         </table>
159 |     </div>
160 |     <div class="col-md-6">
161 |         {% if user.is_staff %}
162 |         <table class="table table-striped table-bordered table-hover">
163 |             <caption><i class="icon-gift icon-large"></i>{% trans "Offers, vouchers" %}</caption>
164 |             <tr>
165 |                 <th class="col-md-10">{% trans "Active <em>Site</em> Offers" %}</th>
166 |                 <td class="col-md-2" >{{ total_site_offers }}</td>
167 |             </tr>
168 |             <tr>
169 |                 <th class="col-md-10">{% trans "Active <em>Vouchers</em>" %}</th>
170 |                 <td class="col-md-2" >{{ total_vouchers }}</td>
171 |             </tr>
172 |         </table>
173 |         {% endif %}
174 |     </div>
175 | </div>
176 | 
177 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/layout.html

  1 | {% extends "oscar/dashboard/base.html" %}
  2 | 
  3 | {% load category_tags %}
  4 | {% load dashboard_tags %}
  5 | {% load i18n %}
  6 | {% load static %}
  7 | 
  8 | {% block styles %}
  9 |     {% if use_less %}
 10 |         <link rel="stylesheet/less" type="text/css" href="{% static "oscar/less/dashboard.less" %}" />
 11 |     {% else %}
 12 |         <link rel="stylesheet" type="text/css" href="{% static "oscar/css/dashboard.css" %}" />
 13 |     {% endif %}
 14 | {% endblock %}
 15 | 
 16 | {% block extrastyles %}
 17 |     {{ block.super }}
 18 |     <link rel="stylesheet" href="{% static "oscar/js/select2/select2.min.css" %}" />
 19 |     <link rel="stylesheet" href="{% static "oscar/css/select2-bootstrap.min.css" %}" />
 20 |     <link rel="stylesheet" href="{% static "oscar/js/bootstrap-datetimepicker/bootstrap-datetimepicker.min.css" %}" />
 21 |     <link rel="stylesheet" href="{% static "oscar/css/datetimepicker.css" %}" />
 22 | {% endblock %}
 23 | 
 24 | {% block title %}
 25 |     {% trans "Dashboard" %} | {{ block.super }}
 26 | {% endblock %}
 27 | 
 28 | {% block layout %}
 29 |     {% block navbar %}
 30 |     <nav class="navbar navbar-static-top navbar-inverse navbar-accounts">
 31 |         <div class="container-fluid">
 32 |             <div class="navbar-header">
 33 |                 <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".nav-accounts">
 34 |                     <span class="icon-bar"></span>
 35 |                     <span class="icon-bar"></span>
 36 |                     <span class="icon-bar"></span>
 37 |                 </button>
 38 |                 <span class="navbar-brand">{{ shop_name }}</span>
 39 |             </div>
 40 |             <div class="collapse navbar-collapse nav-accounts">
 41 |                 <ul class="nav navbar-nav navbar-right">
 42 |                     <li><span>{% trans "Welcome" %} <em>{{ user.get_full_name|default:request.user.email }}</em></span></li>
 43 |                     <li><a href="{{ homepage_url }}"><i class="icon-home"></i> {% trans "Return to site" %}</a></li>
 44 |                     <li><a href="{% url 'customer:summary' %}"><i class="icon-user"></i> {% trans "Account" %}</a></li>
 45 |                     <li><a href="{% url 'dashboard:logout' %}"><i class="icon-signout"></i> {% trans "Log out" %}</a></li>
 46 |                 </ul>
 47 |             </div>
 48 |         </div><!-- /navbar-inner -->
 49 |     </nav><!-- /navbar -->
 50 |     {% endblock navbar %}
 51 | 
 52 |     {% block dashboard_nav %}
 53 |         {% dashboard_navigation user as nav_items %}
 54 | 
 55 |         <nav class="navbar navbar-static-top navbar-inverse navbar-primary">
 56 |             <div class="container-fluid dashboard">
 57 |                 <div class="navbar-header">
 58 |                     <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".nav-primary">
 59 |                         <span class="icon-bar"></span>
 60 |                         <span class="icon-bar"></span>
 61 |                         <span class="icon-bar"></span>
 62 |                     </button>
 63 |                 </div>
 64 | 
 65 |                 <div class="collapse navbar-collapse nav-primary">
 66 |                     <ul class="nav navbar-nav dashboard">
 67 |                         {% for item in nav_items %}
 68 |                         <li class="dropdown">
 69 |                             {% if item.is_heading %}
 70 |                             <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
 71 |                                 {% if item.icon %}<i class="{{ item.icon }}"></i>{% endif %}
 72 |                                 {{ item.label }} <b class="caret"></b>
 73 |                             </a>
 74 |                             {% else %}
 75 |                             <a href="{{ item.url }}">
 76 |                                 {% if item.icon %}<i class="{{ item.icon }}"></i>{% endif %}
 77 |                                 {{ item.label }}
 78 |                             </a>
 79 |                             {% endif %}
 80 |                             {% if item.has_children %}
 81 |                             <ul class="dropdown-menu">
 82 |                                 {% for subitem in item.children %}
 83 |                                 <li>
 84 |                                     <a href="{{ subitem.url }}">
 85 |                                     {% if subitem.icon %}<i class="{{ subitem.icon }}"></i>{% endif %}
 86 |                                     {{ subitem.label }}
 87 |                                     </a>
 88 |                                 </li>
 89 |                                 {% endfor %}
 90 |                             </ul>
 91 |                             {% endif %}
 92 |                         </li>
 93 |                         {% endfor %}
 94 |                     </ul>
 95 |                 </div>
 96 |             </div>
 97 |         </nav>
 98 |     {% endblock %}
 99 | 
100 |     <div class="container-fluid dashboard">
101 |         {% block breadcrumbs %}
102 |         <ul class="breadcrumb">
103 |             <li><a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a></li>
104 |         </ul>
105 |         {% endblock %}
106 | 
107 |         <div class="content">
108 |             {% include 'oscar/dashboard/partials/alert_messages.html' %}
109 |             {% block header %}
110 |             <div class="page-header action">
111 |                 <h1>{% block headertext %}{% endblock %}</h1>
112 |             </div>
113 |             {% endblock %}
114 |             <div class="page-content">
115 |                 {% block content %}
116 |                     {% block dashboard_content %}{% endblock dashboard_content %}
117 |                 {% endblock content %}
118 |             </div>
119 |         </div>
120 |     </div><!-- /container -->
121 | 
122 | {% endblock %}
123 | 
124 | {% block cdn_scripts %}
125 |   {{ block.super }}
126 |   {% if use_less and debug %}
127 |     {# Load the on-the-fly less compiler. Never do this in production. #}
128 |     <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.9.0/less.min.js"></script>
129 |   {% endif %}
130 | {% endblock %}
131 | 
132 | {# Local scripts #}
133 | {% block scripts %}
134 |     <!-- Twitter Bootstrap -->
135 |     <script src="{% static "oscar/js/bootstrap3/bootstrap.min.js" %}"></script>
136 |     <!-- Oscar -->
137 |     <script src="{% static "oscar/js/oscar/ui.js" %}"></script>
138 | {% endblock %}
139 | 
140 | {% block extrascripts %}
141 |     {{ block.super }}
142 | 
143 |     {# jQuery plugins #}
144 |     <script src="{% static "oscar/js/mousewheel/jquery.mousewheel.js" %}"></script>
145 |     <script src="{% static "oscar/js/bootstrap-datetimepicker/bootstrap-datetimepicker.min.js" %}"></script>
146 |     <script src="{% static "oscar/js/bootstrap-datetimepicker/locales/bootstrap-datetimepicker.all.js" %}"></script>
147 |     <script src="{% static "oscar/js/inputmask/jquery.inputmask.min.js" %}"></script>
148 |     <script src="{% static "oscar/js/select2/select2.min.js" %}"></script>
149 |     <script src="{% static "oscar/js/jquery-sortable/jquery-sortable-min.js" %}"></script>
150 |     <script src="{% static "oscar/js/oscar/dashboard.js" %}"></script>
151 |     <script src="{% static "oscar/js/oscar/RelatedObjectLookups.js" %}"></script>
152 |     <script src="{% static "oscar/js/tinymce/tinymce.min.js" %}"></script>
153 |     <script src="{% static "oscar/js/tinymce/jquery.tinymce.min.js" %}"></script>
154 | {% endblock %}
155 | 
156 | {% block onbodyload %}
157 |     {{ block.super }}
158 | 
159 |     // Javascript to enable link to tab
160 |     var url = document.location.toString();
161 |     if (url.match('#')) {
162 |         $('.nav-list a[href="#' + url.split('#')[1] + '"]').tab('show');
163 |     }
164 | 
165 |     // Change hash for page-reload
166 |     $('.nav-list a').on('shown.bs.tab', function (e) {
167 |         window.location.hash = e.target.hash;
168 |     });
169 | 
170 |     options = {
171 |       'languageCode': '{{ LANGUAGE_CODE }}'
172 |     };
173 |     oscar.dashboard.init(options);
174 | {% endblock %}


# File: oscardropship/templates/oscar/dashboard/login.html

 1 | {% extends "oscar/dashboard/base.html" %}
 2 | {% load i18n %}
 3 | {% load static %}
 4 | {% load widget_tweaks %}
 5 | {% block styles %}
 6 |     {% if use_less %}
 7 |         <link rel="stylesheet/less" type="text/css" href="{% static "oscar/less/dashboard.less" %}" />
 8 |     {% else %}
 9 |         <link rel="stylesheet" type="text/css" href="{% static "oscar/css/dashboard.css" %}" />
10 |     {% endif %}
11 | {% endblock %}
12 | 
13 | {% block extrastyles %}
14 |     <style type="text/css">
15 |     </style>
16 | {% endblock %}
17 | {% block body_class %}dashboard-login{% endblock %}
18 | 
19 | {% block layout %}
20 |     <div class="panel col-sm-offset-4 col-sm-4">
21 |         <div class="panel-body">
22 |         <form method="post" novalidate>
23 |             <h1>{{ shop_name }}</h1>
24 |             <hr>
25 | 
26 |             {% if form.errors %}
27 |             <div class="alert alert-danger">
28 |             {% trans "Please enter a correct username and password. Note that both fields may be case-sensitive." %}
29 |         </div>
30 |             {% endif %}
31 | 
32 |             <div class="form-group{% if form.username.errors %} has-error{% endif %}">
33 |                 {{ form.username.label_tag }}
34 |                 {% render_field form.username class="form-control" %}
35 |             </div>
36 |             <div class="form-group{% if form.password.errors %} has-error{% endif %}">
37 |                 {{ form.password.label_tag }}
38 |                 {% render_field form.password class="form-control" %}
39 |             </div>
40 | 
41 |             <input type="submit" class="btn btn-primary col-sm-4 col-sm-offset-4" value="{% trans "Login" %}">
42 |             <input type="hidden" name="next" value="{{ next }}">
43 |             {% csrf_token %}
44 |         </form>
45 |     </div>
46 |     </div>
47 | {% endblock %}
48 | {% block onbodyload %}{% endblock %}


# File: oscardropship/templates/oscar/dashboard/table.html

 1 | {% extends 'django_tables2/table.html' %}
 2 | {% load django_tables2 %}
 3 | {% load i18n %}
 4 | 
 5 | {% block table.thead %}
 6 | <caption>
 7 |     {% block table.caption %}
 8 |         <h3 class="pull-left">
 9 |             {% if table.icon %}
10 |               <i class="icon-{{ table.icon }} icon-large"></i>
11 |             {% endif %}
12 |             {{ table.get_caption_display }}
13 |         </h3>
14 |     {% endblock %}
15 | </caption>
16 | <thead>
17 |     <tr>
18 |     {% for column in table.columns %}
19 |         {% if column.orderable %}
20 |         <th {{ column.attrs.th.as_html }}><a href="{% querystring table.prefixed_order_by_field=column.order_by_alias.next %}">{{ column.header }} <i class="icon-"></i></a></th>
21 |         {% else %}
22 |         <th {{ column.attrs.th.as_html }}>{{ column.header }}</th>
23 |         {% endif %}
24 |     {% endfor %}
25 |     </tr>
26 | </thead>
27 | {% endblock table.thead %}
28 | 
29 | {% block pagination %}
30 | {% with page_obj=table.page paginator=table.paginator %}
31 |     {% include "oscar/dashboard/partials/pagination.html" %}
32 | {% endwith %}
33 | {% endblock pagination %}


# File: oscardropship/templates/oscar/forms/widgets/date_time_picker.html

1 | <div class="form-inline">
2 |     <div class="input-group date" {% for name, value in div_attrs.items %}{{ name }}="{{ value|stringformat:'s' }}"{% endfor %}>
3 |         {% include "django/forms/widgets/input.html" %}
4 |         <span class="input-group-addon">
5 |             <i class="{{ icon_classes }}"></i>
6 |         </span>
7 |     </div>
8 | </div>


# File: oscardropship/templates/oscar/forms/widgets/image_input_widget.html

 1 | {% load i18n %}
 2 | {% load image_tags %}
 3 | 
 4 | <div id="{{ image_id }}" class="image-input">
 5 |     {% if image_url %}
 6 |         {% oscar_thumbnail image_url "200x200" upscale=False as thumb %}
 7 |         <img src="{{ thumb.url }}" alt="{% trans "thumbnail" %}" />
 8 |     {% else %}
 9 |         <img alt="{% trans "thumbnail" %}"
10 |             onload="$('#upload_button_{{ image_id }}').hide()"
11 |             onerror="$('#upload_button_{{ image_id }}').show(); alert('{% trans 'Unrecognized image type!' %}')" />
12 |         <button class="btn btn-primary" id="upload_button_{{ image_id }}">{% trans "Upload Image" %}</button>
13 |     {% endif %}
14 |     <div class="input-field">
15 |         {% include "django/forms/widgets/input.html" %}
16 |     </div>
17 | </div>


# File: oscardropship/templates/oscar/offer/detail.html

 1 | {% extends "oscar/layout.html" %}
 2 | 
 3 | 
 4 | {% load i18n %}
 5 | {% load product_tags %}
 6 | 
 7 | {% block title %}
 8 | {{ offer.name }} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 | <ul class="breadcrumb">
13 |     <li>
14 |         <a href="{{ homepage_url }}">{% trans "Home" %}</a>
15 |     </li>
16 |     <li>
17 |         <a href="{% url 'offer:list' %}">{% trans "Offers" %}</a>
18 |     </li>
19 |     <li class="active">{{ offer.name }}</li>
20 | </ul>
21 | {% endblock %}
22 | 
23 | {% block headertext %}{{ offer.name }}{% endblock %}
24 | 
25 | {% block content %}
26 | 
27 |     {% if not offer.is_available %}
28 |         <div class="alert alert-danger">{% trans " This offer is no longer available." %}</div>
29 |     {% endif %}
30 | 
31 |     {% if upsell_message %}
32 |     <div class="row">
33 |         {% if offer.description %}
34 |             <div class="col-sm-7">
35 |                 <p>{{ offer.description|safe }}</p>
36 |             </div>
37 |         {% endif %}
38 |             <div class="col-sm-5">
39 |                 <div class="well">
40 |                     <h2 class="h4"><i class="icon-exclamation-sign icon-large"></i> {% trans "What you need to do" %}</h2>
41 |                     <p>{{ upsell_message }}</p>
42 |                 </div>
43 |             </div>
44 |         </div>
45 |     </div>
46 |     {% endif %}
47 | 
48 |     {% if products %}
49 |         <section>
50 |             <div>
51 |                 {% include "oscar/partials/pagination.html" %}
52 |                 <ol class="row">
53 |                     {% for product in products %}
54 |                     <li class="col-xs-6 col-sm-4 col-md-3 col-lg-3">{% render_product product %}</li>
55 |                     {% endfor %}
56 |                 </ol>
57 |                 {% include "oscar/partials/pagination.html" %}
58 |             </div>
59 |         </section>
60 |     {% else %}
61 |     <p class="nonefound">{% trans "No products found." %}</p>
62 |     {% endif %}
63 | {% endblock content %}


# File: oscardropship/templates/oscar/offer/list.html

 1 | {% extends "oscar/layout.html" %}
 2 | 
 3 | 
 4 | {% load i18n %}
 5 | {% load product_tags %}
 6 | 
 7 | {% block title %}
 8 | {% trans "Offers" %} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 | <ul class="breadcrumb">
13 |     <li>
14 |         <a href="{{ homepage_url }}">{% trans "Home" %}</a>
15 |     </li>
16 |     <li class="active">{% trans "Offers" %}</li>
17 | </ul>
18 | {% endblock %}
19 | 
20 | {% block headertext %}
21 |     {% trans "Offers" %}
22 | {% endblock %}
23 | 
24 | {% block content %}
25 |     {% if not offers %}
26 |         <p>{% trans "There are no site offers at the moment." %}</p>
27 |     {% else %}
28 |         {% for offer in offers %}
29 |         <h2>{{ offer.name }}</h2>
30 |         {% if offer.description %}
31 |             <p>{{ offer.description|safe }}</p>
32 |         {% endif %}
33 |         {% if offer.has_products %}
34 |             <ul class="row">
35 |                 {% for product in offer.products|slice:":12" %}
36 |                 <li class="col-xs-6 col-sm-4 col-md-3 col-lg-3">{% render_product product %}</li>
37 |                 {% endfor %}
38 |             </ul>
39 |             <p>
40 |                 <a class="btn btn-default" href="{% url 'offer:detail' slug=offer.slug %}">{% trans "Browse products in offer" %}</a>
41 |             </p>
42 |         {% endif %}
43 |         <hr/>
44 |         {% endfor %}
45 |     {% endif %}
46 | {% endblock content %}


# File: oscardropship/templates/oscar/offer/range.html

 1 | {% extends "oscar/layout.html" %}
 2 | {% load basket_tags %}
 3 | {% load category_tags %}
 4 | {% load i18n %}
 5 | {% load product_tags %}
 6 | 
 7 | {% block title %}
 8 |     {{ range.name }} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <ul class="breadcrumb">
13 |         <li>
14 |             <a href="{{ homepage_url }}">{% trans "Home" %}</a>
15 |         </li>
16 |         <li class="active">{{ range.name }}</li>
17 |     </ul>
18 | {% endblock breadcrumbs %}
19 | 
20 | {% block headertext %}{{ range.name }}{% endblock %}
21 | 
22 | {% block content %}
23 |     {% if range.description %}
24 |         {{ range.description|safe }}
25 |     {% endif %}
26 |     {% if products %}
27 |         <section>
28 |             <div>
29 |                 <ol class="row">
30 |                     {% for product in products %}
31 |                         <li class="col-xs-6 col-sm-4 col-md-3 col-lg-3">{% render_product product %}</li>
32 |                     {% endfor %}
33 |                 </ol>
34 |                 {% include "oscar/partials/pagination.html" %}
35 |             </div>
36 |         </section>
37 |     {% else %}
38 |         <p class="nonefound">{% trans "No products found." %}</p>
39 |     {% endif %}
40 | {% endblock content %}


# File: oscardropship/templates/oscar/order/partials/basket_totals.html

  1 | {% load i18n %}
  2 | {% load currency_filters %}
  3 | 
  4 | <div id="basket_totals">
  5 |     <table class="table table-condensed">
  6 |         <tr>
  7 |             <th colspan="2"><h3>{% trans "Basket" %}</h3></th>
  8 |         </tr>
  9 |         {% with discounts=order.basket_discounts %}
 10 |             {% block discount_totals %}
 11 |                 {% if discounts %}
 12 |                     <tr>
 13 |                         <td>{% trans "Basket total (before discounts)" %}</td>
 14 |                         <td class="align-right">{{ order.basket_total_before_discounts_incl_tax|currency:order.currency }}</td>
 15 |                     </tr>
 16 |                     {% for discount in discounts %}
 17 |                         <tr>
 18 |                             <td><span class="label label-success">{% trans "Discount" %}</span> {{ discount.offer }}</td>
 19 |                             <td class="align-right">- {{ discount.amount|currency:order.currency }}</td>
 20 |                         </tr>
 21 |                     {% endfor %}
 22 |                 {% endif %}
 23 |             {% endblock discount_totals %}
 24 | 
 25 |             {% block basket_total %}
 26 |                 {% if discounts %}
 27 |                     <tr>
 28 |                         <th class="total">{% trans "Basket total (after discounts)" %}</th>
 29 |                         <th class="total align-right">{{ order.basket_total_incl_tax|currency:order.currency }}</th>
 30 |                     </tr>
 31 |                 {% else %}
 32 |                     <tr class="basket-items">
 33 |                         <th class="total">{% trans "Basket total" %}</th>
 34 |                         <th class="total align-right">
 35 |                             {% if show_tax_separately %}
 36 |                                 {{ order.basket_total_excl_tax|currency:order.currency }}
 37 |                             {% else %}
 38 |                                 {{ order.basket_total_incl_tax|currency:order.currency }}
 39 |                             {% endif %}
 40 |                         </th>
 41 |                     </tr>
 42 |                 {% endif %}
 43 |             {% endblock basket_total %}
 44 |         {% endwith %}
 45 | 
 46 |         {% block shipping_total %}
 47 |             <tr>
 48 |                 <th>&nbsp;</th>
 49 |                 <td></td>
 50 |             </tr>
 51 |             <tr>
 52 |                 <th colspan="2"><h3>{% trans "Shipping" %}</h3></th>
 53 |             </tr>
 54 |             <tr>
 55 |                 <td>{% trans "Shipping method" %}</td>
 56 |                 <td class="align-right">{{ order.shipping_method }}</td>
 57 |             </tr>
 58 |             {% if order.has_shipping_discounts %}
 59 |                 <tr>
 60 |                     <td>{% trans "Shipping charge (before discounts)" %}</td>
 61 |                     <td class="align-right">{{ order.shipping_before_discounts_incl_tax|currency:order.currency }}</td>
 62 |                 </tr>
 63 |                 {% for discount in order.shipping_discounts %}
 64 |                     <tr>
 65 |                         <td><span class="label label-success">{% trans "Discount" %}</span> {{ discount.offer }}</td>
 66 |                         <td class="align-right">- {{ discount.amount|currency:order.currency }}</td>
 67 |                     </tr>
 68 |                 {% endfor %}
 69 |                 <tr>
 70 |                     <th class="total">{% trans "Shipping charge (after discounts)" %}</th>
 71 |                     <th class="total align-right">{{ order.shipping_incl_tax|currency:order.currency }}</th>
 72 |                 </tr>
 73 |             {% else %}
 74 |                 <tr>
 75 |                     <th class="total">{% trans "Shipping charge" %}</th>
 76 |                     <th class="total align-right">
 77 |                         {% if show_tax_separately %}
 78 |                             {{ order.shipping_excl_tax|currency:order.currency }}
 79 |                         {% else %}
 80 |                             {{ order.shipping_incl_tax|currency:order.currency }}
 81 |                         {% endif %}
 82 |                     </th>
 83 |                 </tr>
 84 |             {% endif %}
 85 |         {% endblock shipping_total %}
 86 | 
 87 |         {% block surcharges %}
 88 |             {% with surcharges=order.surcharges.all %}
 89 |             {% if surcharges %}
 90 |                 <tr>
 91 |                     <th>&nbsp;</th>
 92 |                     <td></td>
 93 |                 </tr>
 94 |                 <tr>
 95 |                     <th colspan="2"><h3>{% trans "Surcharges" %}</h3></th>
 96 |                 </tr>
 97 |                 {% for charge in surcharges %}
 98 |                 <tr>
 99 |                         <th class="total">{{ charge.name }}</th>
100 |                         <th class="total align-right"> 
101 |                             {% if show_tax_separately %}
102 |                                 {{ charge.excl_tax|currency:order.currency }}
103 |                             {% else %}
104 |                                 {{ charge.incl_tax|currency:order.currency }}
105 |                             {% endif %}
106 |                         </th>
107 |                 </tr>
108 |                 {% endfor %}
109 |             {% endif %}
110 |             {% endwith %}
111 |         {% endblock %}
112 | 
113 |         {% if show_tax_separately %}
114 |             <tr>
115 |                 <th colspan="2">&nbsp;</th>
116 |             </tr>
117 |             <tr>
118 |                 <th class="total">{% trans "Order tax" %}</th>
119 |                 <th class="total align-right">
120 |                     {{ order.total_tax|currency:order.currency }}
121 |                 </th>
122 |             </tr>
123 |         {% endif %}
124 | 
125 |         {% block post_order_action_totals %}
126 |             {% with actions=order.post_order_actions %}
127 |                 {% if actions %}
128 |                     <tr>
129 |                         <th colspan="2">&nbsp;</th>
130 |                     </tr>
131 |                     <tr>
132 |                         <th colspan="2"><h3>{% trans "Post order actions" %}</h3></th>
133 |                     </tr>
134 |                     {% for action in order.post_order_actions %}
135 |                         <tr>
136 |                             <td class="total" colspan="2"><p>{{ action.message }}</p></td>
137 |                         </tr>
138 |                     {% endfor %}
139 |                 {% endif %}
140 |             {% endwith %}
141 |         {% endblock post_order_action_totals %}
142 | 
143 |         {% block order_total %}
144 |             <tr>
145 |                 <th colspan="2">&nbsp;</th>
146 |             </tr>
147 |             <tr>
148 |                 <td class="total"><h3>{% trans "Order total" %}</h3></td>
149 |                 <td class="total align-right"><h3 class="price_color">{{ order.total_incl_tax|currency:order.currency }}</h3></td>
150 |             </tr>
151 |         {% endblock order_total %}
152 |     </table>
153 | </div>


# File: oscardropship/templates/oscar/partials/alert_messages.html

 1 | {% load string_filters %}
 2 | 
 3 | {% comment %}
 4 | Use message tags to control these alerts.  Available tags include:
 5 | - safe: allow HTML in the message
 6 | - block: for longer messages - this adds extra padding
 7 | - noicon: don't show an icon
 8 | - error/success/info - these change the connotation of the alert
 9 | {% endcomment %}
10 | 
11 | <div id="messages">
12 | {% if messages %}
13 |     {% for message in messages %}
14 |     <div class="alert {% for tag in message.tags|split %}alert-{% if tag == 'error' %}danger{% else %}{{ tag }}{% endif %} {% endfor %} fade in">
15 |             <a class="close" data-dismiss="alert" href="#">&times;</a>
16 |             <div class="alertinner {% if 'noicon' not in message.tags %}wicon{% endif %}">
17 |                 {# Allow HTML to be embedded in messages #}
18 |                 {% if 'safe' in message.tags %}
19 |                     {{ message|safe }}
20 |                 {% else %}
21 |                     {{ message }}
22 |                 {% endif %}
23 | 
24 |                 {% if 'noicon' not in message.tags %}
25 |                     {# Include an icon by default #}
26 |                     {% if 'success' in message.tags %}
27 |                         <i class="icon-ok-sign"></i>
28 |                     {% elif 'info' in message.tags %}
29 |                         <i class="icon-info-sign"></i>
30 |                     {% elif 'warning' in message.tags %}
31 |                         <i class="icon-warning-sign"></i>
32 |                     {% elif 'danger' in message.tags or 'error' in message.tags %}
33 |                         <i class="icon-exclamation-sign"></i>
34 |                     {% endif %}
35 |                 {% endif %}
36 |             </div>
37 |         </div>
38 |     {% endfor %}
39 | {% endif %}
40 | </div>


# File: oscardropship/templates/oscar/partials/brand.html

1 | <div class="col-sm-7 h1">
2 |     <a href="{{ homepage_url }}">{% block brand_title %}{{ shop_name }}{% endblock %}</a><small> {{ shop_tagline }}</small>
3 | </div>


# File: oscardropship/templates/oscar/partials/extrascripts.html

1 | {% comment %}
2 |     This file exists so you can easily add your own Javascript without
3 |     having to fork layout.html etc. Instead, just override this file.
4 | {% endcomment %}


# File: oscardropship/templates/oscar/partials/footer.html

 1 | {% load i18n %}
 2 | <footer class="footer container-fluid">
 3 |     {% block footer %}
 4 |         {% comment %}
 5 |             Could be used for displaying links to privacy policy, terms of service, etc.
 6 |             We have a CSS class defined:
 7 |                 <ul class="footer_links inline">
 8 |                     ...
 9 |                 </ul>
10 |          {% endcomment %}
11 |     {% endblock %}
12 | </footer>


# File: oscardropship/templates/oscar/partials/footer_checkout.html

1 | <footer class="footer container-fluid">
2 |     {% block footer %}
3 |     {% endblock %}
4 | </footer>


# File: oscardropship/templates/oscar/partials/form.html

 1 | {% load i18n %}
 2 | 
 3 | <form {% if form_id %}id="{{ form_id }}"{% endif %} class="form-{{ style|default:"stacked" }} {{ class }}" method="{{ method|default:"post" }}"
 4 |     {% if action %}action="{{ action }}"{% endif %}
 5 |     {% if includes_files %}enctype="multipart/form-data"{% endif %}>
 6 | 
 7 |     {% if not method == "get" %}{% csrf_token %}{% endif %}
 8 |     {% include 'oscar/partials/form_fields.html' %}
 9 |     <div class="form-group">
10 |         <div class="{% if style == 'horizontal' %}col-sm-offset-4 col-sm-8{% endif %}">
11 |             <button class="btn btn-lg btn-primary" type="submit" data-loading-text="{% trans 'Saving...' %}">{% trans "Save" %}</button>
12 |             {% trans "or" %} <a href="#" onclick="window.history.go(-1);return false" >{% trans "cancel" %}</a>.
13 |         </div>
14 |     </div>
15 | </form>


# File: oscardropship/templates/oscar/partials/form_field.html

 1 | {% load form_tags %}
 2 | {% load widget_tweaks %}
 3 | 
 4 | {% if field.is_hidden %}
 5 |     {{ field }}
 6 | {% else %}
 7 |     {% comment %}
 8 |         Make the field widget type available to templates so we can mark-up
 9 |         checkboxes differently to other widgets.
10 |     {% endcomment %}
11 |     {% annotate_form_field field %}
12 | 
13 |     {% block control_group %}
14 |         <div class="form-group {% if field.errors %}has-error{% endif %}">
15 | 
16 |             {% block label %}
17 |                 {% if not nolabel and field.widget_type != 'CheckboxInput' %}
18 |                     <label for="{{ field.auto_id }}" class="{% if style|default:"stacked" != 'stacked' %}col-sm-4{% endif%} control-label{% if field.field.required %} required{% endif %}">
19 |                         {{ field.label|safe }}
20 |                     </label>
21 |                 {% endif %}
22 |             {% endblock %}
23 | 
24 |             {% block controls %}
25 |                 <div class="{% if style|default:"stacked" != 'stacked' %}col-sm-7{% endif %}">
26 |                     {% block widget %}
27 |                         {% if field.widget_type == 'CheckboxInput' %}
28 |                             <label for="{{ field.auto_id }}" class="checkbox {% if field.field.required %}required{% endif %}">
29 |                                 {{ field.label|safe }}
30 |                                 {% render_field field class+="form-control" %}
31 |                             </label>
32 |                         {% else %}
33 |                             {% render_field field class+="form-control" %}
34 |                         {% endif %}
35 |                     {% endblock %}
36 | 
37 |                     {% block errors %}
38 |                         {% for error in field.errors %}
39 |                             <span class="error-block"><i class="icon-exclamation-sign"></i> {{ error }}</span>
40 |                         {% endfor %}
41 |                     {% endblock %}
42 | 
43 |                     {% block help_text %}
44 |                         {% if field.help_text %}
45 |                             <span class='help-block'>
46 |                                 {# We allow HTML within form help fields #}
47 |                                 {{ field.help_text|safe }}
48 |                             </span>
49 |                         {% endif %}
50 |                     {% endblock %}
51 |                 </div>
52 |             {% endblock %}
53 |         </div>
54 |     {% endblock %}
55 | {% endif %}


# File: oscardropship/templates/oscar/partials/form_fields.html

 1 | {% load i18n %}
 2 | 
 3 | {% if form.is_bound and not form.is_valid %}
 4 |     <div class="alert alert-danger">
 5 |         <strong>{% trans "Oops! We found some errors" %}</strong> - {% trans "please check the error messages below and try again" %}
 6 |     </div>
 7 | {% endif %}
 8 | 
 9 | {% if form.non_field_errors %}
10 |     {% for error in form.non_field_errors %}
11 |         <div class="alert alert-danger">
12 |             <i class="icon-exclamation-sign"></i> {{ error }}
13 |         </div>
14 |     {% endfor %}
15 | {% endif %}
16 | 
17 | {% for field in form %}
18 |     {% include 'oscar/partials/form_field.html' with field=field style=style %}
19 | {% endfor %}


# File: oscardropship/templates/oscar/partials/form_fields_inline.html

 1 | <span class="error-block">{{ form.non_field_errors }}</span>
 2 | {% for field in form %}
 3 |     {% if field.is_hidden %}
 4 |         {{ field }}
 5 |     {% else %}
 6 |         <span class="form-group {% if field.errors %}error{% endif %}">
 7 |             {{ field.label_tag }}
 8 |             {{ field }}
 9 |             {% for error in field.errors %}
10 |                 <ul class="error-block">
11 |                     <li>{{ error }}</li>
12 |                 </ul>
13 |             {% endfor %}
14 |             {# No help text as it wraps #}
15 |         </span>
16 |     {% endif %}
17 | {% endfor %}


# File: oscardropship/templates/oscar/partials/google_analytics.html

 1 | {% if google_analytics_id %}
 2 |     <script async src="https://www.googletagmanager.com/gtag/js?id={{ google_analytics_id }}"></script>
 3 |     <script>
 4 |       window.dataLayer = window.dataLayer || [];
 5 |       function gtag(){dataLayer.push(arguments)};
 6 |       gtag('js', new Date());
 7 | 
 8 |       {% if user.is_authenticated %}
 9 |         gtag('config', "{{ google_analytics_id }}", { 'user_id': "{{ user.pk }}" });
10 |       {% else %}
11 |         gtag('config', "{{ google_analytics_id }}");
12 |       {% endif %}
13 |       {% block extratracking %}{% endblock %}
14 |     </script>
15 | {% endif %}


# File: oscardropship/templates/oscar/partials/google_analytics_transaction.html

 1 | {% extends "oscar/partials/google_analytics.html" %}
 2 | {% load l10n %}
 3 | 
 4 | {% block extratracking %}
 5 |     gtag('event', 'purchase', {
 6 |       "transaction_id": '{{ order.number|escapejs }}',
 7 |       "affiliation": '{{ shop_name|escapejs }}',
 8 |       "value": '{{ order.total_incl_tax|unlocalize|escapejs }}',
 9 |       "currency": '{{ order.currency|escapejs }}',
10 |       "tax": '{{ order.total_tax|unlocalize|escapejs }}',
11 |       "shipping": '{{ order.shipping_incl_tax|unlocalize|escapejs }}',
12 |       items: [
13 |           {% for line in order.lines.all %}
14 |           {
15 |             'id': '{{ line.partner_sku|escapejs }}',
16 |             'name': '{{ line.title|escapejs }}',
17 |             'category': '{{ line.category|default:"Uncategorised"|escapejs }}',
18 |             'price': '{{ line.unit_price_incl_tax|unlocalize|escapejs }}',
19 |             'quantity': '{{ line.quantity|escapejs }}'
20 |          }{% if not forloop.last %},{% endif %}
21 |           {% endfor %}
22 |       ]
23 |     });
24 | {% endblock %}


# File: oscardropship/templates/oscar/partials/mini_basket.html

 1 | {% load currency_filters %}
 2 | {% load i18n %}
 3 | 
 4 | <div class="basket-mini pull-right hidden-xs">
 5 |     <strong>{% trans "Basket total:" %}</strong>
 6 |     {% if request.basket.is_tax_known %}
 7 |         {{ request.basket.total_incl_tax|currency:request.basket.currency }}
 8 |     {% else %}
 9 |         {{ request.basket.total_excl_tax|currency:request.basket.currency }}
10 |     {% endif %}
11 | 
12 |     <span class="btn-group">
13 |         <a class="btn btn-default" href="{% url 'basket:summary' %}">{% trans "View basket" %}</a>
14 |         <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
15 |             <span class="caret"></span>
16 |         </button>
17 |         <ul class="dropdown-menu pull-right">
18 |             <li>{% include "oscar/basket/partials/basket_quick.html" %}</li>
19 |         </ul>
20 |     </span>
21 | </div>


# File: oscardropship/templates/oscar/partials/nav_accounts.html

 1 | {% load i18n %}
 2 | 
 3 | <div id="top_page" class="navbar navbar-default navbar-static-top accounts">
 4 |     {# This is used in mobile view #}
 5 |     <div class="navbar-header">
 6 |         <a class="btn btn-default navbar-toggle collapsed" data-toggle="collapse" data-target=".account-collapse">
 7 |             <span class="icon-bar"></span>
 8 |             <span class="icon-bar"></span>
 9 |             <span class="icon-bar"></span>
10 |         </a>
11 |     </div>
12 | 
13 |     <div class="navbar-collapse account-collapse collapse">
14 |         <div class="container-fluid">
15 |             {% block nav_account_languages %}
16 |             {% if LANGUAGES|length > 1 %}
17 |                 <form id="language_selector" class="navbar-left navbar-form" action="{% url 'set_language' %}" method="post">
18 |                     {% csrf_token %}
19 |                     <input name="next" type="hidden" value="{{ language_neutral_url_path }}" />
20 |                     <div class="form-group">
21 |                         <select name="language" class="form-control">
22 |                             {% get_language_info_list for LANGUAGES as languages %}
23 |                             {% for language in languages %}
24 |                                 <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE%} selected="selected"{% endif %}>
25 |                                     {{ language.name_local }}
26 |                                 </option>
27 |                             {% endfor %}
28 |                         </select>
29 |                     </div>
30 |                     <button class="btn btn-default" type="submit" data-loading-text="{% trans 'Submitting...' %}">{% trans "Go" %}</button>
31 |                 </form>
32 |             {% endif %}
33 |             {% endblock %}
34 |             <ul class="nav navbar-nav navbar-right">
35 |                 {% if user.is_authenticated %}
36 |                 {% block nav_account_navbar_authenticated %}
37 |                     <li>
38 |                         {% if num_unread_notifications > 0 %}
39 |                             {# If user has new notifications - we change account link to go to inbox #}
40 |                             <a href="{% url 'customer:notifications-inbox' %}">
41 |                                 <i class="icon-user"></i>
42 |                                 {% trans "Account" %}
43 |                                 <span class="label label-warning">{{ num_unread_notifications }}</span>
44 |                             </a>
45 |                         {% else %}
46 |                             <a href="{% url 'customer:summary' %}"><i class="icon-user"></i> {% trans "Account" %}</a>
47 |                         {% endif %}
48 |                     </li>
49 |                     {% if user.is_staff or perms.partner.dashboard_access %}
50 |                         <li><a href="{% url 'dashboard:index' %}"><i class="icon-list-ul"></i> {% trans "Dashboard" %}</a></li>
51 |                     {% endif %}
52 |                     <li><a id="logout_link" href="{% url 'customer:logout' %}"><i class="icon-signout"></i> {% trans "Logout" %}</a></li>
53 |                 {% endblock %}
54 |                 {% else %}
55 |                     <li><a id="login_link" href="{% url 'customer:login' %}"><i class="icon-signin"></i> {% trans "Login or register" %}</a></li>
56 |                 {% endif %}
57 |             </ul>
58 |         </div>
59 |     </div>
60 | </div>


# File: oscardropship/templates/oscar/partials/nav_checkout.html

 1 | 
 2 | <div class="navbar primary">
 3 |     {% load flatpages %}
 4 |     {% get_flatpages '/order/' as flatpages %}
 5 |     {% if flatpages %}
 6 |         <div class="navbar-inner">
 7 |             <div class="container" style="width: auto;">
 8 |                 <a class="btn navbar-btn" data-toggle="collapse" data-target=".navbar-collapse">
 9 |                     <span class="icon-bar"></span>
10 |                     <span class="icon-bar"></span>
11 |                     <span class="icon-bar"></span>
12 |                 </a>
13 |                 <a class="brand hidden" href="{{ homepage_url }}">{{ shop_name }}</a>
14 |                 <div class="navbar-collapse">
15 | 
16 |                     <ul class="nav">
17 |                         <!-- Links to modal flatpages -->
18 |                         {% for page in flatpages %}
19 |                             <li>
20 |                                 <a data-toggle="modal" href="#{{ page.title|slugify }}">{{ page.title }}</a>
21 |                             </li>
22 |                         {% endfor %}
23 |                         <!-- Delete this if other links present -->
24 |                         <li><a href="{{ homepage_url }}">&larr;</a></li>
25 |                     </ul>
26 |                 </div><!-- /.navbar-collapse -->
27 |             </div>
28 |         </div><!-- /navbar-inner -->
29 |     {% endif %}
30 | </div><!-- /navbar -->


# File: oscardropship/templates/oscar/partials/nav_primary.html

 1 | {% load currency_filters %}
 2 | {% load category_tags %}
 3 | {% load i18n %}
 4 | 
 5 | <div class="navbar primary navbar-static-top navbar-inverse">
 6 |     <div class="container-fluid">
 7 |         <div class="navbar-header pull-right">
 8 |             {# This is used in mobile view #}
 9 |             <a class="btn btn-default navbar-toggle collapsed" data-toggle="collapse" data-target=".primary-collapse">
10 |                 <span>
11 |                     <span class="icon-bar"></span>
12 |                     <span class="icon-bar"></span>
13 |                     <span class="icon-bar"></span>
14 |                 </span>
15 |             </a>
16 |         </div>
17 | 
18 |         <a class="btn btn-default navbar-btn btn-cart navbar-right visible-xs-inline-block" href="{% url 'basket:summary' %}">
19 |             <i class="icon-shopping-cart"></i>
20 |             {% trans "Basket" %}
21 |             {% if not request.basket.is_empty %}
22 |                 {% if request.basket.is_tax_known %}
23 |                     {% blocktrans with total=request.basket.total_incl_tax|currency:request.basket.currency %}
24 |                         Total: {{ total }}
25 |                     {% endblocktrans %}
26 |                 {% else %}
27 |                     {% blocktrans with total=request.basket.total_excl_tax|currency:request.basket.currency %}
28 |                         Total: {{ total }}
29 |                     {% endblocktrans %}
30 |                 {% endif %}
31 |             {% endif %}
32 |         </a>
33 | 
34 | 
35 |         <div class="navbar-collapse primary-collapse collapse">
36 |             {% block nav_dropdown %}
37 |                 <ul id="browse" class="nav navbar-nav">
38 |                     <li class="dropdown active {% if expand_dropdown %}open{% endif %}">
39 |                         <a href="#" class="dropdown-toggle" {% if not expand_dropdown %} data-toggle="dropdown"{% endif %}>
40 |                             {% trans "Browse store" %}
41 |                             <b class="caret"></b>
42 |                         </a>
43 |                         <ul class="dropdown-menu" data-navigation="dropdown-menu">
44 |                             {% category_tree depth=2 as tree_categories %}
45 |                             <li><a tabindex="-1" href="{% url 'catalogue:index' %}">{% trans "All products" %}</a></li>
46 |                             {% if tree_categories %}
47 |                                 <li class="divider"></li>
48 |                                 {% for tree_category in tree_categories %}
49 |                                     {% if tree_category.has_children %}
50 |                                         <li class="dropdown-submenu">
51 |                                             <a tabindex="-1" href="{{ tree_category.get_absolute_url }}">{{ tree_category.name }}</a>
52 |                                             <ul class="dropdown-menu">
53 |                                             {% else %}
54 |                                                 <li><a tabindex="-1" href="{{ tree_category.get_absolute_url }}">{{ tree_category.name }}</a></li>
55 |                                             {% endif %}
56 | 
57 |                                             {% for close in tree_category.num_to_close %}
58 |                                                 </ul></li>
59 |                                             {% endfor %}
60 |                                 {% endfor %}
61 |                             {% endif %}
62 |                             <li class="divider"></li>
63 |                             {% block nav_dropdown_extra_items %}
64 |                                 <li><a href="{% url 'offer:list' %}">{% trans "Offers" %}</a></li>
65 |                             {% endblock %}
66 |                         </ul>
67 |                     </li>
68 |                     {% block nav_extra %}
69 |                     {% endblock %}
70 |                 </ul>
71 |             {% endblock %}
72 |             {% include "oscar/partials/search.html" %}
73 |         </div><!-- /navbar-collapse -->
74 |     </div>
75 | </div><!-- /navbar -->


# File: oscardropship/templates/oscar/partials/pagination.html

 1 | {% load display_tags %}
 2 | {% load i18n %}
 3 | 
 4 | {% if paginator.num_pages > 1 %}
 5 |     <div>
 6 |         <ul class="pager">
 7 |             {% if page_obj.has_previous %}
 8 |                 <li class="previous"><a href="?{% get_parameters page %}page={{ page_obj.previous_page_number }}">{% trans "previous" %}</a></li>
 9 |             {% endif %}
10 |             <li class="current">
11 |             {% blocktrans with page_num=page_obj.number total_pages=paginator.num_pages %}
12 |                 Page {{ page_num }} of {{ total_pages }}
13 |             {% endblocktrans %}
14 |             </li>
15 |             {% if page_obj.has_next %}
16 |                 <li class="next"><a href="?{% get_parameters page %}page={{ page_obj.next_page_number }}">{% trans "next" %}</a></li>
17 |             {% endif %}
18 |         </ul>
19 |     </div>
20 | {% endif %}


# File: oscardropship/templates/oscar/partials/search.html

1 | {% load i18n %}
2 | 
3 | <form method="get" action="{% url 'search:search' %}" class="navbar-form navbar-right">
4 |     <div class="form-group">
5 |         {{ search_form.q }}
6 |     </div>
7 |     <input type="submit" value="{% trans "Search" %}" class="btn btn-default" />
8 | </form>


# File: oscardropship/templates/oscar/registration/password_reset_complete.html

 1 | {% extends 'oscar/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}{% trans 'Password reset complete' %} | {{ block.super }}{% endblock %}
 5 | 
 6 | {% block breadcrumbs %}
 7 | <ul class="breadcrumb">
 8 |     <li>
 9 |         <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
10 |     </li>
11 |         <li>
12 |             <a href="{% url 'password-reset' %}">{% trans 'Password reset' %}</a>
13 |         </li>
14 |     <li class="active">{% trans 'Complete' %}</li>
15 | </ul>
16 | {% endblock %}
17 | 
18 | {% block headertext %}{% trans "Password reset complete" %}{% endblock %}
19 | 
20 | {% block content %}
21 |     <p>{% trans "Your password has been set.  You may go ahead and log in now." %}</p>
22 |     <p><a href="{{ login_url }}" class="btn btn-lg btn-primary">{% trans 'Log in' %}</a></p>
23 | {% endblock %}


# File: oscardropship/templates/oscar/registration/password_reset_confirm.html

 1 | {% extends 'oscar/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}{% trans 'Enter a new password' %} | {{ block.super }}{% endblock %}
 5 | 
 6 | {% block breadcrumbs %}
 7 |     <ul class="breadcrumb">
 8 |         <li>
 9 |             <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
10 |         </li>
11 |         <li>
12 |             <a href="{% url 'password-reset' %}">{% trans 'Password reset' %}</a>
13 |         </li>
14 |         <li class="active">{% trans 'Enter a new password' %}</li>
15 |     </ul>
16 | {% endblock %}
17 | 
18 | {% block headertext %}{% trans "Enter a new password" %}{% endblock %}
19 | 
20 | {% block content %}
21 |     {% if validlink %}
22 |         <p>{% trans "Please enter your new password twice so we can verify you typed it in correctly." %}</p>
23 |         <form id="password_reset_form" method="post">
24 |             {% csrf_token %}
25 |             {% include 'oscar/partials/form_fields.html' %}
26 |             <div class="form-group form-actions">
27 |                 <button class="btn btn-primary btn-lg" type="submit" data-loading-text="{% trans 'Changing...' %}">{% trans 'Change my password' %}</button>
28 |             </div>
29 |         </form>
30 |     {% else %}
31 |         <h1>{% trans 'Password reset unsuccessful' %}</h1>
32 |         <p>{% trans "The password reset link was invalid, possibly because it has already been used.  Please request a new password reset." %}</p>
33 |     {% endif %}
34 | 
35 | {% endblock %}


# File: oscardropship/templates/oscar/registration/password_reset_done.html

 1 | {% extends 'oscar/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}{% trans 'Password reset email sent' %} | {{ block.super }}{% endblock %}
 5 | 
 6 | {% block breadcrumbs %}
 7 |     <ul class="breadcrumb">
 8 |         <li>
 9 |             <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
10 |         </li>
11 |         <li>
12 |             <a href="{% url 'password-reset' %}">{% trans 'Password reset' %}</a>
13 |         </li>
14 |         <li class="active">{% trans 'Email sent' %}</li>
15 |     </ul>
16 | {% endblock %}
17 | 
18 | {% block headertext %}{% trans "Email sent" %}{% endblock %}
19 | 
20 | {% block content %}
21 |     <p>
22 |     {% blocktrans %}
23 |         We've e-mailed you instructions for resetting your password. You should be receiving it shortly.
24 |     {% endblocktrans %}
25 |     </p>
26 |     <p>
27 |     {% blocktrans %}
28 |         If you don't receive an email, please make sure you've entered the address you registered with, and check
29 |         your spam folder.
30 |     {% endblocktrans %}
31 |     </p>
32 | {% endblock %}


# File: oscardropship/templates/oscar/registration/password_reset_form.html

 1 | {% extends 'oscar/layout.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}{% trans 'Password reset' %} | {{ block.super }}{% endblock %}
 5 | 
 6 | {% block breadcrumbs %}
 7 | <ul class="breadcrumb">
 8 |     <li>
 9 |         <a href="{{ homepage_url }}">{% trans 'Home' %}</a>
10 |     </li>
11 |     <li class="active">{% trans 'Password reset' %}</li>
12 | </ul>
13 | {% endblock %}
14 | 
15 | {% block headertext %}{% trans "Password reset" %}{% endblock %}
16 | 
17 | {% block content %}
18 | 
19 |     <form id="password_reset_form" method="post">
20 |         {% csrf_token %}
21 |         <p>{% trans "Forgotten your password? Enter your e-mail address below, and we'll e-mail instructions for setting a new one." %}</p>
22 |         {% include 'oscar/partials/form_fields.html' with style='stacked' %}
23 |         <div class="form-group form-actions">
24 |             <button type="submit" class="btn btn-primary btn-lg" data-loading-text="{% trans 'Sending...' %}">{% trans 'Send reset email' %}</button>
25 |         </div>
26 |     </form>
27 | 
28 | {% endblock %}


# File: oscardropship/templates/oscar/search/partials/facet.html

 1 | {% load i18n %}
 2 | 
 3 | <dl>
 4 |     <dt class="nav-header">{{ name }}</dt>
 5 |     {% for item in items %}
 6 |         <dd>
 7 |             {% if item.selected %}
 8 |                 <input class="facet_checkbox" type="checkbox" name="{{ item.name }}" checked />
 9 |                 <input class="facet_url" type="hidden" name="url_for_{{ item.name }}" value="{{ item.deselect_url }}" />
10 |                 <strong>{{ item.name }}</strong>
11 |             {% else %}
12 |                 {% if item.disabled %}
13 |                     <input type="checkbox" name="{{ item.name }}" disabled />
14 |                     {{ item.name }}
15 |                 {% else %}
16 |                     <input class="facet_checkbox" type="checkbox" name="{{ item.name }}" />
17 |                     <input class="facet_url" type="hidden" name="url_for_{{ item.name }}" value="{{ item.select_url }}" />
18 |                     <a href="{{ item.select_url }}">{{ item.name }}</a>
19 |                 {% endif %}
20 |             {% endif %}
21 |             {% if item.show_count %}
22 |                 ({{ item.count }})
23 |             {% endif %}
24 |         </dd>
25 |     {% endfor %}
26 | </dl>


# File: oscardropship/templates/oscar/search/partials/pagination.html

 1 | {% load display_tags %}
 2 | {% load i18n %}
 3 | 
 4 | {% if paginator.num_pages > 1 %}
 5 |     <div>
 6 |         <ul class="pager">
 7 |             {% if page.has_previous %}
 8 |                 <li class="previous"><a href="?{% get_parameters page %}page={{ page.previous_page_number }}">{% trans "previous" %}</a></li>
 9 |             {% endif %}
10 |             <li class="current">
11 |             {% blocktrans with page_num=page.number total_pages=paginator.num_pages %}
12 |                 Page {{ page_num }} of {{ total_pages }}
13 |             {% endblocktrans %}
14 |             </li>
15 |             {% if page.has_next %}
16 |                 <li class="next"><a href="?{% get_parameters page %}page={{ page.next_page_number }}">{% trans "next" %}</a></li>
17 |             {% endif %}
18 |         </ul>
19 |     </div>
20 | {% endif %}


# File: oscardropship/templates/oscar/search/results.html

 1 | {% extends "uikit/layout.html" %}
 2 | 
 3 | {% load currency_filters %}
 4 | {% load product_tags %}
 5 | {% load i18n %}
 6 | 
 7 | {% block title %}
 8 |     {{ query }} | {{ block.super }}
 9 | {% endblock %}
10 | 
11 | {% block breadcrumbs %}
12 |     <nav class="uk-child-width-expand uk-padding-large uk-padding-remove-vertical" uk-grid>
13 |         <div>
14 |             <ul class="uk-breadcrumb">
15 |                 <li>
16 |                     <a href="{{ homepage_url }}">{% trans "Home" %}</a>
17 |                 </li>
18 |                 <li class="active">{{ query }}</li>
19 |             </ul>
20 |         </div>
21 |     </nav>
22 | {% endblock %}
23 | 
24 | 
25 | {% block content_wrapper %}
26 | 
27 |     <div class="uk-child-width-auto uk-flex-center" uk-grid>
28 |         <div>
29 |             {% blocktrans with q=query %}
30 |                 <h1 class="uk-text-uppercase">SEARCH RESULTS FOR "{{ q }}"</h1>
31 |             {% endblocktrans %}
32 |         </div>
33 |     </div>
34 |         <section>
35 |             {% if page.object_list %}
36 |                 <ol class="uk-child-width-1-2@s uk-child-width-1-4@l" uk-grid>
37 |                     {% for result in page.object_list %}
38 |                         <li>
39 |                             {% include "uikit/wagtail/partials/product_small.html" with product=result.object %}
40 |                         </li>
41 |                     {% endfor %}
42 |                 </ol>
43 |             {% else %}
44 |                 <div class="uk-width-auto uk-flex-center" uk-grid>
45 |                     <div>
46 |                         <p>Your search returns no results.</p>
47 |                     </div>
48 |                 </div>
49 |             {% endif %}
50 |             
51 |             {% if paginator.num_pages > 1 %}
52 |                 <div class="uk-width-auto uk-flex-center" uk-grid>
53 |                     <div>
54 |                         {% include "oscar/partials/pagination.html" with page_obj=page %}
55 |                     </div>
56 |                 </div>
57 |             {% endif %}
58 |         </section>
59 | {% endblock %}


# File: oscardropship/templates/oscar/403.html

 1 | {% extends "oscar/error.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 |     {% trans 'Permission denied!' %} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block error_heading %}
 9 |     {% trans "Permission denied!" %}
10 | {% endblock %}
11 | 
12 | {% block error_message %}
13 |     <p>{% trans "We're sorry but you are not permitted to access this page." %}</p>
14 | {% endblock %}


# File: oscardropship/templates/oscar/404.html

 1 | {% extends "oscar/error.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block title %}
 5 | {% trans 'Page not found' %} | {{ block.super }}
 6 | {% endblock %}
 7 | 
 8 | {% block error_heading %}
 9 | {% trans "Page not found!" %}
10 | {% endblock %}
11 | 
12 | {% block error_message %}
13 | <p>{% trans "We're sorry but the page you are looking for can't be found." %}</p>
14 | {% endblock %}


# File: oscardropship/templates/oscar/500.html

 1 | <!DOCTYPE html>
 2 | <html>
 3 |     <head>
 4 |         <title>Server error!</title>
 5 | 
 6 |         <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
 7 |         <meta name="robots" content="NOARCHIVE,NOCACHE" />
 8 |     </head>
 9 | 
10 |     <body>
11 |         <h1>Server error!</h1>
12 |         <p>We're sorry but something went terribly wrong and we've been unable to generate the page you requested.</p>
13 |         <p>This incident has been logged and will be addressed by an engineer as soon as possible.</p>
14 |         <p>
15 |             <a onclick="javascript:history.go(-1);">Return to previous page</a><br>
16 |             <a href="{{ homepage_url }}">Go to homepage</a>
17 |         </p>
18 | 
19 |     </body>
20 | </html>


# File: oscardropship/templates/oscar/base.html

 1 | {% load i18n %}
 2 | {% load static %}
 3 | <!DOCTYPE html>
 4 | <html lang="{{ LANGUAGE_CODE|default:"en-gb" }}" class="{% block html_class %}no-js{% endblock %}">
 5 |     <head>
 6 |         <title>{% block title %}{{ shop_name }} - {{ shop_tagline }}{% endblock %}</title>
 7 | 
 8 |         <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
 9 |         <meta name="created" content="{% now "jS M Y h:i" %}" />
10 |         <meta name="description" content="{% block description %}{% endblock %}" />
11 |         <meta name="viewport" content="{% block viewport %}width=device-width{% endblock %}" />
12 |         <meta name="robots" content="NOARCHIVE,NOCACHE" />
13 |         {% block favicon %}
14 |             <link rel="shortcut icon" href="{% static "oscar/favicon.ico" %}" />
15 |         {% endblock %}
16 | 
17 |         {# Block where global CSS will go. #}
18 |         {% block styles %}{% endblock %}
19 | 
20 |         {# Additional CSS - specific to certain pages #}
21 |         {% block extrastyles %}{% endblock %}
22 | 
23 |         {% block extrahead %}{% endblock %}
24 | 
25 |         {% block tracking %}
26 |             {# Default to using Google analytics #}
27 |             {% include "oscar/partials/google_analytics.html" %}
28 |         {% endblock %}
29 |     </head>
30 | 
31 |     <body id="{% block body_id %}default{% endblock %}" class="{% block body_class %}default{% endblock %}">
32 |         {# Main content goes in this 'layout' block #}
33 |         {% block layout %}{% endblock %}
34 | 
35 |         {# Scripts loaded from a CDN. #}
36 |         {% block cdn_scripts %}
37 |             <!-- jQuery -->
38 |             <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
39 |             <script>window.jQuery || document.write('<script src="{% static "oscar/js/jquery/jquery.min.js" %}"><\/script>')</script>
40 |         {% endblock %}
41 | 
42 |         {# Local scripts #}
43 |         {% block scripts %}
44 |         {% endblock %}
45 | 
46 |         {# Additional JS scripts #}
47 |         {% block extrascripts %}{% endblock %}
48 | 
49 |         {# Block for body onload functions #}
50 |         <script>
51 |             $(function() {
52 |                 {% block onbodyload %}{% endblock %}
53 |             });
54 |         </script>
55 | 
56 |         {# Page meta-data - this is populated by the 'metadata' template context processor #}
57 |     </body>
58 | </html>


# File: oscardropship/templates/oscar/error.html

 1 | {% extends "oscar/layout.html" %}
 2 | {% load i18n %}
 3 | 
 4 | {% block layout %}
 5 | {% include "oscar/partials/nav_accounts.html" %}
 6 | 
 7 | <div class="container-fluid">
 8 |     <div class="jumbotron">
 9 |         <h1>{% block error_heading %}{% trans 'Sorry!' %}{% endblock %}</h1>
10 |         {% block error_message %}{% endblock %}
11 |         <p>
12 |             <a class="btn btn-primary btn-lg" onclick="javascript:history.go(-1);">{% trans 'Return to previous page' %}</a>
13 |             <a class="btn btn-primary btn-lg" href="{{ homepage_url }}">{% trans "Go to homepage" %}</a>
14 |         </p>
15 |     </div>
16 | </div>
17 | {% endblock %}


# File: oscardropship/templates/oscar/layout.html

 1 | {% extends "oscar/base.html" %}
 2 | {% load static %}
 3 | 
 4 | {% block styles %}
 5 |     {% comment %}
 6 |         If you are developing Oscar's CSS, or overriding Oscar's CSS
 7 |         files in your project, then set OSCAR_USE_LESS = True in your
 8 |         settings file. This will enable the on-the-fly less compiler.
 9 |     {% endcomment %}
10 |     {% if use_less %}
11 |         <link rel="stylesheet/less" type="text/css" href="{% static "oscar/less/styles.less" %}" />
12 |     {% else %}
13 |         <link rel="stylesheet" type="text/css" href="{% static "oscar/css/styles.css" %}" />
14 |     {% endif %}
15 | {% endblock %}
16 | 
17 | {% block layout %}
18 |     {# Top-horizontal bar with account, notifictions, dashboard links #}
19 |     {% include "oscar/partials/nav_accounts.html" %}
20 | 
21 |     {# Site logo/title, mini-basket, browse dropdown and searchbox #}
22 |     <header class="header container-fluid">
23 |         <div class="page_inner">
24 |             <div class="row">
25 |                 {% include "oscar/partials/brand.html" %}
26 |                 {# Mini-basket wrapped in a block so some templates can now display it #}
27 |                 {% block mini_basket %}{% include "oscar/partials/mini_basket.html" %}{% endblock %}
28 |             </div>
29 |         </div>
30 |         {% block navigation %}
31 |             {% include "oscar/partials/nav_primary.html" %}
32 |         {% endblock %}
33 |     </header>
34 | 
35 |     {# Main content of page - other layout templates may override this block #}
36 |     {% block content_wrapper %}
37 |         <div class="container-fluid page">
38 |             <div class="page_inner">
39 |                 {% block breadcrumbs %}{% endblock %}
40 |                 {% block header %}
41 |                     <div class="page-header action">
42 |                         <h1>{% block headertext %}{% endblock %}</h1>
43 |                     </div>
44 |                 {% endblock %}
45 |                 {% include "oscar/partials/alert_messages.html" %}
46 |                 {% block subnavigation %}{% endblock %}
47 |                 <div class="content">
48 |                     {% block subheader %}{% endblock subheader %}
49 | 
50 |                     {# Div exists for AJAX updates to entire content section #}
51 |                     <div id="content_inner">{% block content %}{% endblock %}</div>
52 |                 </div>
53 |             </div>
54 |         </div>
55 |     {% endblock %}
56 | 
57 |     {% include "oscar/partials/footer.html" %}
58 | {% endblock %}
59 | 
60 | {% block cdn_scripts %}
61 |   {{ block.super }}
62 |   {% if use_less and debug %}
63 |     {# Load the on-the-fly less compiler. Never do this in production. #}
64 |     <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.9.0/less.min.js"></script>
65 |   {% endif %}
66 | {% endblock %}
67 | 
68 | {# Local scripts #}
69 | {% block scripts %}
70 |     {{ block.super }}
71 |     <!-- Twitter Bootstrap -->
72 |     <script src="{% static "oscar/js/bootstrap3/bootstrap.min.js" %}"></script>
73 |     <!-- Oscar -->
74 |     <script src="{% static "oscar/js/oscar/ui.js" %}"></script>
75 | {% endblock %}
76 | 
77 | {% block extrascripts %}
78 |     {% include "oscar/partials/extrascripts.html" %}
79 |     {{ block.super }}
80 | {% endblock %}
81 | 
82 | {% block onbodyload %}
83 |     {{ block.super }}
84 |     oscar.init();
85 | {% endblock %}


# File: oscardropship/templates/oscar/layout_2_col.html

 1 | {% extends "oscar/layout.html" %}
 2 | 
 3 | {% comment %}
 4 | Keep the same header and footer as the standard layout template but override the 
 5 | main content area to split it into a sidebar and a content block
 6 | {% endcomment %}
 7 | {% block content_wrapper %}
 8 | <div class="container-fluid page">
 9 |     <div class="page_inner">
10 |         {% block breadcrumbs %}{% endblock %}
11 |         <div class="row">
12 | 
13 |             <aside class="sidebar col-sm-4 col-md-3">
14 |                 {% block column_left %}{% endblock %}
15 |             </aside>
16 | 
17 |             <div class="col-sm-8 col-md-9">
18 |                 {% block header %}
19 |                 <div class="page-header action">
20 |                     <h1>{% block headertext %}{% endblock %}</h1>
21 |                 </div>
22 |                 {% endblock %}
23 | 
24 |                 {% include "oscar/partials/alert_messages.html" %}
25 | 
26 |                 {% block content %}{% endblock %}
27 |             </div>
28 | 
29 |         </div><!-- /row -->
30 |     </div><!-- /page_inner -->
31 | </div><!-- /container-fluid -->
32 | {% endblock %}


# File: oscardropship/templates/oscar/layout_3_col.html

 1 | {% extends "oscar/layout.html" %}
 2 | 
 3 | {% block content_wrapper %}
 4 |     <div class="container-fluid page">
 5 |         <div class="page_inner">
 6 |             {% block breadcrumbs %}{% endblock %}
 7 | 
 8 |             <div class="row">
 9 | 
10 |                 <aside class="col-sm-3">
11 |                     {% block column_left %} 
12 |                     {% endblock %}
13 |                 </aside>
14 | 
15 |                 <div class="col-sm-6">
16 |                     {% block header %}
17 |                     <div class="page-header action">
18 |                         <h1>{% block headertext %}{% endblock %}</h1>
19 |                     </div>
20 |                     {% endblock %}
21 |                     {% include "oscar/partials/alert_messages.html" %}
22 | 
23 |                     {% block content %}{% endblock %}
24 |                 </div>
25 | 
26 |                 <aside class="col-sm-3">
27 |                     {% block column_right %} 
28 |                     {% endblock %}
29 |                 </aside>
30 | 
31 |             </div><!-- /row -->
32 | 
33 |         </div><!-- /page_inner -->
34 |     </div><!-- /container-fluid -->
35 | {% endblock %}


# File: oscardropship/templates/oscar/login_forbidden.html

1 | {% extends "oscar/403.html" %}
2 | {% load i18n %}
3 | 
4 | {% block error_message %}
5 |     <p>{% trans "This page is only available to users who aren't logged in." %}</p>
6 | {% endblock %}


# File: oscardropship/templates/uikit/catalogue/partials/stock_record.html

 1 | {% load currency_filters %}
 2 | {% load i18n %}
 3 | {% load purchase_info_tags %}
 4 | 
 5 | {% purchase_info_for_product request product as session %}
 6 | 
 7 | {% if session.price.exists %}
 8 |     {% if session.price.excl_tax == 0 %}
 9 |         <p class="price_color">{% trans "Free" %}</p>
10 |     {% elif session.price.is_tax_known %}
11 |         <p class="price_color">{{ session.price.incl_tax|currency:session.price.currency }}</p>
12 |     {% else %}
13 |         <p class="price_color">{{ session.price.excl_tax|currency:session.price.currency }}</p>
14 |     {% endif %}
15 | {% else %}
16 |     <p class="price_color">&nbsp;</p>
17 | {% endif %}
18 | <p class="{{ session.availability.code }} availability">
19 |     <span uk-icon="icon: {% if session.availability.is_available_to_buy %}check{% else %}close{% endif %}"></span>
20 |     {% if verbose %}
21 |         {{ session.availability.message }}
22 |     {% else %}
23 |         {{ session.availability.short_message }}
24 |     {% endif %}
25 |         {{ session.availability.num_available }}
26 | </p>


# File: oscardropship/templates/uikit/catalogue/reviews/partials/review_stars.html

 1 | {% load reviews_tags %}
 2 | {% load i18n %}
 3 | 
 4 | {% if product.rating != None %}
 5 |     <p class="star-rating {{ product.rating|as_stars }}">
 6 |         <i uk-icon="icon: star"></i>
 7 |         <i uk-icon="icon: star"></i>
 8 |         <i uk-icon="icon: star"></i>
 9 |         <i uk-icon="icon: star"></i>
10 |         <i uk-icon="icon: star"></i>
11 | 
12 |         <small><a href="{% url 'catalogue:reviews-list' product_slug=product.slug product_pk=product.id %}">
13 |                 {% blocktrans count product.num_approved_reviews as num_reviews %}
14 |                     {{ num_reviews }} customer review
15 |                 {% plural %}
16 |                     {{ num_reviews }} customer reviews
17 |                 {% endblocktrans %}
18 |         </a></small>
19 |         &nbsp;
20 | {% else %}
21 |     <p> No reviews. 
22 | {% endif %}
23 | 
24 | {% if product|is_review_permitted:user %}
25 |     <a id="write_review" href="{% url 'catalogue:reviews-add' product_slug=product.slug product_pk=product.id %}#addreview" class="btn btn-success btn-sm">
26 |         {% trans "Write a review" %}
27 |     </a>
28 | {% endif %}
29 | </p>


# File: oscardropship/templates/uikit/checkout/payment_details.html

 1 | {% extends 'oscar/checkout/payment_details.html' %}
 2 | {% load i18n %}
 3 | 
 4 | {% block payment_details %}
 5 |       <script src="https://www.paypal.com/sdk/js?client-id={{ PAYPAL_CLIENT_ID }}"></script>
 6 |     <div class="well">
 7 |         <div class="sub-header">
 8 |             <h3>{% trans "PayPal Express" %}</h3>
 9 |         </div>
10 |         <p>{% trans "Click on the below icon to use Express Checkout but where the shipping address and method is already chosen on the merchant site." %}</p>
11 |         <div id="paypal-button-container"></div>
12 | 
13 |         <script>
14 |             paypal.Buttons({
15 |                 createOrder: function(data, actions) {
16 |                   // This function sets up the details of the transaction, including the amount and line item details.
17 |                   return actions.order.create({
18 |                     purchase_units: [{
19 |                       amount: {
20 |                         value: '0.01'
21 |                       },
22 |                     }],
23 |                     application_context: {
24 |                       brand_name: 'Django Oscar',
25 |                       user_action: "PAY_NOW"
26 |                       
27 |                     }
28 |                   });
29 |                 },
30 |                 onApprove: function(data, actions) {
31 |                   // This function captures the funds from the transaction.
32 |                   return actions.order.capture().then(function(details) {
33 |                     // This function shows a transaction success message to your buyer.
34 |                     alert('Transaction completed by ' + details.payer.name.given_name);
35 |                     console.log(details);
36 |                     console.log(data)
37 |                   });
38 |                 }
39 |             }).render('#paypal-button-container');
40 |         </script>
41 |     </div>
42 | 
43 |     <form action="">
44 |         <input type="hidden" name="action" value="place_order">
45 |     </form>
46 | 
47 | {% endblock %}


# File: oscardropship/templates/uikit/checkout/preview.html

 1 | {% extends 'oscar/checkout/preview.html' %}
 2 | {% load currency_filters %}
 3 | {% load i18n %}
 4 | 
 5 | {% block payment_method %}
 6 |     <div class="span6">
 7 |     <div class="sub-header">
 8 |         <h2>{% trans "Payment" %}</h2>
 9 |     </div>
10 |     <div class="well well-success">
11 | 
12 |         <p>{% blocktrans with amount=order_total.incl_tax|currency %}<strong>{{ amount }}</strong> will be debited from your bankcard.{% endblocktrans %}</p>
13 |         <div class="alert-actions">
14 |             <p>Your payment will be processed via Paypal upon clicking "Place Order" below.</p>
15 |         </div>
16 |     </div>
17 | </div>
18 | {% endblock %}


# File: oscardropship/templates/uikit/partials/alert_messages.html

 1 | {% comment %}
 2 | Use message tags to control these alerts.  Available tags include:
 3 | - safe: allow HTML in the message
 4 | - block: for longer messages - this adds extra padding
 5 | - noicon: don't show an icon
 6 | - error/success/info - these change the connotation of the alert
 7 | {% endcomment %}
 8 | 
 9 | <div class="uk-child-width-1-1" uk-grid>
10 | 	<div>
11 | 		{% for message in messages %}
12 | 			<div class="uk-alert-primary" uk-alert>
13 | 			    <a class="uk-alert-close" uk-close></a>
14 | 			    <p>{{ message }}</p>
15 | 			</div>
16 | 		{% endfor %}
17 | 	</div>
18 | </div>


# File: oscardropship/templates/uikit/partials/breadcrumbs.html

 1 | {% if breadcrumbs %}
 2 | 	<nav class="uk-child-width-expand" uk-grid>
 3 | 	    <div>
 4 | 	        <ul class="uk-breadcrumb">
 5 | 	        	{% for breadcrumb in breadcrumbs %}
 6 | 	            <li><a href="{{ breadcrumb.url }}">{{ breadcrumb.text }}</a></li>
 7 | 	        	{% endfor %}
 8 | 	        </ul>
 9 | 	    </div>
10 | 	</nav>
11 | {% endif %}


# File: oscardropship/templates/uikit/partials/footer.html

  1 | <!-- Social -->
  2 | <nav class="uk-navbar-container uk-navbar-transparent uk-background-primary uk-padding-small uk-padding-remove-vertical uk-visible@m" uk-navbar>
  3 | 
  4 |     <div class="uk-navbar-left">
  5 | 
  6 |         <span class="uk-navbar-item">BE IN TOUCH WITH US:</span>
  7 |     </div>
  8 | 
  9 |     <div class="uk-navbar-center">
 10 |         <form  enctype="multipart/form-data" action="{{ settings.multisite.NewsletterSetting.default_newsletter.subscribe_url }}" method="post">
 11 |           {% csrf_token %}
 12 |           <div uk-form-custom="target: true">
 13 |               <input class="uk-input uk-form-width-large" type="email" placeholder="Enter your email address" name="email_field" required>
 14 |           </div>
 15 |           <button class="uk-button uk-button-secondary">SUBSCRIBE NOW!</button>
 16 |         </form>
 17 |     </div>
 18 | 
 19 |     <div class="uk-navbar-right">
 20 |       <ul class="uk-iconnav uk-text-muted">
 21 |         {% include "uikit/partials/social_media_links.html" %}
 22 |       </ul>
 23 |     </div>
 24 | </nav>
 25 | 
 26 | {% with settings.multisite.FooterSettings as footer_settings %}
 27 |   <!-- Main Footer -->
 28 |   <section class="uk-child-width-expand@s  uk-padding-small uk-padding-remove-vertical" uk-grid>
 29 |     <div>
 30 |       <nav>
 31 |         <ul class="uk-nav uk-nav-default">
 32 |           <li class="uk-nav-header"><h3>COLLECTIONS</h3></li>
 33 |           {% for link in footer_settings.category_links %}
 34 |             <li><a class="uk-link-reset" href="{{ link.link }}">{{ link.title }}</a></li>
 35 |           {% endfor %}
 36 |         </ul>
 37 |       </nav>
 38 |     </div>
 39 | 
 40 |     <div>
 41 |       <nav>
 42 |         <ul class="uk-nav uk-nav-default">
 43 |           <li class="uk-nav-header"><h3>BUY WITH US</h3></li>
 44 |           {% for link in footer_settings.non_category_links %}
 45 |             <li><a class="uk-link-reset" href="{{ link.link }}">{{ link.title }}</a></li>
 46 |           {% endfor %}
 47 |         </ul>
 48 |       </nav>
 49 |     </div>
 50 | 
 51 |     <div>
 52 |       <article>
 53 |         <h3>ABOUT</h3>
 54 |         <p>{{ footer_settings.about }}</p>
 55 |       </article>
 56 |     </div>
 57 |     <div>
 58 |       <article>
 59 |         <ul class="uk-nav uk-nav-default">
 60 |           <li class="uk-nav-header"><h3>CONTACT US</h3></li>
 61 |           {% if organisation_settings.simple_address %}
 62 |             <li><label>Address</label>: <address style="display: inline;">{{ organisation_settings.simple_address }}</address></li>
 63 |           {% endif %}
 64 |           {% if organisation_settings.phone_number %}
 65 |             <li><a class="uk-link-reset" href="tel:{{ organisation_settings.phone_number }}"><label>Phone</label>: {{ organisation_settings.phone_number }}</a></li>
 66 |           {% endif %}
 67 |           {% if organisation_settings.email %}
 68 |             <li><a class="uk-link-reset" href="mailto:{{ organisation_settings.email }}"><label>Email</label>: {{ organisation_settings.email }}</a></li>
 69 |           {% endif %}
 70 |         </ul>
 71 |       </article>
 72 |     </div>
 73 |   </section>
 74 | 
 75 | <!-- Micro Footer -->
 76 | <nav class="uk-visible@m uk-navbar-container uk-padding-small uk-padding-remove-vertical" style="background-color: black;" uk-navbar>
 77 | 
 78 |     <div class="uk-navbar-left">
 79 | 
 80 |         <span class="uk-navbar-item uk-text-large uk-text-primary uk-text-lowercase" href="#"><strong>{{ organisation_settings.name }}</strong></span>
 81 |         <span class="uk-navbar-item uk-text-muted" href="#">© {{ organisation_settings.name }} {% now 'Y' %}. All Rights Reserved</span>
 82 |     </div>
 83 | 
 84 |     <div class="uk-navbar-right">
 85 |         <ul class="uk-iconnav uk-text-muted" uk-tooltip="Your security is our priority. 🔒">
 86 |           {% for authority in footer_settings.footer_authority_items.all %}
 87 |             <li><img {% if authority.height  %}style="height: {{ authority.height}}"{% endif %} data-src="{{ authority.image_link }}" alt="{{ authority.name }}" uk-img></li>
 88 |           {% endfor %}
 89 |         </ul>
 90 |     </div>
 91 | </nav>
 92 | <nav class="uk-hidden@m uk-child-width-1-1 uk-padding-small" style="background-color: black;" uk-grid>
 93 |     <div>
 94 |         <p class="uk-text-large uk-text-primary uk-text-lowercase" href="#"><strong>{{ organisation_settings.name }}</strong></p>
 95 |         <p class="uk-text-muted" href="#">© {{ organisation_settings.name }} {% now 'Y' %}. All Rights Reserved</p>
 96 |     </div>
 97 | 
 98 |     <div>
 99 |         <ul class="uk-iconnav uk-text-muted" uk-tooltip="Your security is our priority. 🔒">
100 |           {% for authority in footer_settings.footer_authority_items.all %}
101 |             <li><img {% if authority.height  %}style="height: {{ authority.height}}"{% endif %} data-src="{{ authority.image_link }}" alt="{{ authority.name }}" uk-img></li>
102 |           {% endfor %}
103 |         </ul>
104 |     </div>
105 | </nav>
106 | {% endwith %}


# File: oscardropship/templates/uikit/partials/home_banner.html




# File: oscardropship/templates/uikit/partials/information_bar.html

 1 | <nav class="uk-visible@m uk-navbar-container uk-navbar-transparent uk-padding-small uk-background-primary uk-light uk-text-uppercase" uk-navbar>
 2 |     <!-- Contact -->
 3 |     <div class="uk-navbar-left">
 4 |         <a class="uk-padding-small uk-padding-remove-vertical uk-link-reset" href="mailto:{{ organisation_settings.email }}" target="_blank"><span class="uk-margin-small-right" uk-icon="icon: mail"></span> {{ organisation_settings.email }}</a>
 5 |         <a class="uk-padding-small uk-padding-remove-vertical uk-link-reset" href="{{ organisation_settings.messenger_url }}" target="_blank"><span class="uk-margin-small-right" uk-icon="icon: comment"></span> Messenger</a>
 6 |     </div>
 7 |     <!-- Social Media Icons -->
 8 |     <div class="uk-navbar-right">
 9 |       <ul class="uk-iconnav uk-link-reset">
10 |         {% include "uikit/partials/social_media_links.html" %}
11 |       </ul>
12 |     </div>
13 | </nav>
14 | 
15 | <nav class="uk-hidden@m uk-flex-center uk-background-primary uk-light uk-padding-small uk-text-uppercase" uk-grid>
16 |     <div>
17 |         <div class="uk-child-width-1-1 uk-flex-center" uk-grid>
18 |             <div class="uk-text-center">
19 |                 <a class="uk-padding-small uk-padding-remove-vertical uk-link-reset" href="mailto:{{ organisation_settings.email }}" target="_blank"><span class="uk-margin-small-right" uk-icon="icon: mail"></span> {{ organisation_settings.email }}</a>
20 |             </div>
21 |             <div class="uk-text-center uk-margin-small-top">
22 |                 <a class="uk-padding-small uk-padding-remove-vertical uk-link-reset" href="{{ organisation_settings.messenger_url }}" target="_blank"><span class="uk-margin-small-right" uk-icon="icon: comment"></span> Messenger</a>
23 |             </div>
24 |         </div>
25 |     </div>
26 |     <div class="uk-margin-small-top">
27 |       <ul class="uk-iconnav uk-link-reset">
28 |         {% include "uikit/partials/social_media_links.html" %}
29 |       </ul>
30 |     </div>
31 | </nav>


# File: oscardropship/templates/uikit/partials/nav_accounts.html

 1 | {% load i18n %}
 2 | {% load wagtailcore_tags %}
 3 | 
 4 | <nav id="top_page" class="uk-navbar-container accounts" uk-navbar>
 5 |     {# This is used in mobile view #}
 6 |     <div class="uk-navbar-right">
 7 |                 {% block nav_account_languages %}
 8 |         {% if LANGUAGES|length > 1 %}
 9 |             <form id="language_selector" class="navbar-left navbar-form" action="{% url 'set_language' %}" method="post">
10 |                 {% csrf_token %}
11 |                 <input name="next" type="hidden" value="{{ language_neutral_url_path }}" />
12 |                 <div class="form-group">
13 |                     <select name="language" class="form-control">
14 |                         {% get_language_info_list for LANGUAGES as languages %}
15 |                         {% for language in languages %}
16 |                             <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE%} selected="selected"{% endif %}>
17 |                                 {{ language.name_local }}
18 |                             </option>
19 |                         {% endfor %}
20 |                     </select>
21 |                 </div>
22 |                 <button class="btn btn-default" type="submit" data-loading-text="{% trans 'Submitting...' %}">{% trans "Go" %}</button>
23 |             </form>
24 |         {% endif %}
25 |                 {% endblock %}
26 |         <ul class="uk-navbar-nav uk-visible@l">
27 |             {% if user.is_authenticated %}
28 |                 {% block nav_account_navbar_authenticated %}
29 |                     <li>
30 |                         {% if num_unread_notifications > 0 %}
31 |                             {# If user has new notifications - we change account link to go to inbox #}
32 |                             <a href="{% url 'customer:notifications-inbox' %}">
33 |                                 <i class="uk-padding-small uk-padding-remove-vertical" uk-icon="icon: user"></i>
34 |                                 {% trans "Account" %}
35 |                                 <span class="label label-warning">{{ num_unread_notifications }}</span>
36 |                             </a>
37 |                         {% else %}
38 |                             <a href="{% url 'customer:summary' %}"><i class="uk-padding-small uk-padding-remove-vertical" uk-icon="icon: user"></i> {% trans "Account" %}</a>
39 |                         {% endif %}
40 |                     </li>
41 |                     {% if user.is_staff or perms.partner.dashboard_access %}
42 |                         <li><a href="{% url 'dashboard:index' %}"><i class="uk-padding-small uk-padding-remove-vertical" uk-icon="icon: home"></i> {% trans "Dashboard" %}</a></li>
43 |                     {% endif %}
44 | 
45 |                     {% if user.is_staff and page %}
46 |                         <li><a href="{% url 'wagtailadmin_pages:edit' page.pk %}"><i class="uk-padding-small uk-padding-remove-vertical" uk-icon="icon: pencil"></i> {% trans "Edit this page" %}</a></li>
47 |                     {% endif %}
48 | 
49 |                     <li><a id="logout_link" href="{% url 'customer:logout' %}"><i class="uk-padding-small uk-padding-remove-vertical" uk-icon="icon: sign-out"></i> {% trans "Logout" %}</a></li>
50 |                 {% endblock %}
51 |             {% else %}
52 |                 <li><a id="login_link" href="{% url 'customer:login' %}"><i class="uk-padding-small uk-padding-remove-vertical" uk-icon="icon: sign-in"></i> {% trans "Login or register" %}</a></li>
53 |             {% endif %}
54 |         </ul>
55 | 
56 |         <a class="uk-navbar-toggle uk-hidden@m" uk-toggle="target: #offcanvas-nav" href="#">
57 |             <span uk-navbar-toggle-icon></span>
58 |         </a>
59 |     </div>
60 | </nav>
61 | 
62 | <div id="offcanvas-nav" uk-offcanvas="overlay: true">
63 |     <div class="uk-offcanvas-bar">
64 | 
65 |         <ul class="uk-nav uk-nav-default">
66 |             {% if user.is_authenticated %}
67 |             {% block nav_account_navbar_authenticated_offcanvas %}
68 |                 <li>
69 |                     {% if num_unread_notifications > 0 %}
70 |                         {# If user has new notifications - we change account link to go to inbox #}
71 |                         <a href="{% url 'customer:notifications-inbox' %}">
72 |                             <i class="icon-user"></i>
73 |                             {% trans "Account" %}
74 |                             <span class="label label-warning">{{ num_unread_notifications }}</span>
75 |                         </a>
76 |                     {% else %}
77 |                         <a href="{% url 'customer:summary' %}"><i class="icon-user"></i> {% trans "Account" %}</a>
78 |                     {% endif %}
79 |                 </li>
80 |                 {% if user.is_staff or perms.partner.dashboard_access %}
81 |                     <li><a href="{% url 'dashboard:index' %}"><i class="icon-list-ul"></i> {% trans "Dashboard" %}</a></li>
82 |                 {% endif %}
83 |                 <li><a id="logout_link" href="{% url 'customer:logout' %}"><i class="icon-signout"></i> {% trans "Logout" %}</a></li>
84 |                     {% endblock %}
85 |             {% else %}
86 |                 <li><a id="login_link" href="{% url 'customer:login' %}"><i class="icon-signin"></i> {% trans "Login or register" %}</a></li>
87 |             {% endif %}
88 |         </ul>
89 | 
90 |     </div>
91 | </div>


# File: oscardropship/templates/uikit/partials/nav_checkout.html

 1 | 
 2 | <div class="navbar primary">
 3 |     {% load flatpages %}
 4 |     {% get_flatpages '/order/' as flatpages %}
 5 |     {% if flatpages %}
 6 |         <div class="navbar-inner">
 7 |             <div class="container" style="width: auto;">
 8 |                 <a class="btn navbar-btn" data-toggle="collapse" data-target=".navbar-collapse">
 9 |                     <span class="icon-bar"></span>
10 |                     <span class="icon-bar"></span>
11 |                     <span class="icon-bar"></span>
12 |                 </a>
13 |                 <a class="brand hidden" href="{{ homepage_url }}">{{ shop_name }}</a>
14 |                 <div class="navbar-collapse">
15 | 
16 |                     <ul class="nav">
17 |                         <!-- Links to modal flatpages -->
18 |                         {% for page in flatpages %}
19 |                             <li>
20 |                                 <a data-toggle="modal" href="#{{ page.title|slugify }}">{{ page.title }}</a>
21 |                             </li>
22 |                         {% endfor %}
23 |                         <!-- Delete this if other links present -->
24 |                         <li><a href="{{ homepage_url }}">&larr;</a></li>
25 |                     </ul>
26 |                 </div><!-- /.navbar-collapse -->
27 |             </div>
28 |         </div><!-- /navbar-inner -->
29 |     {% endif %}
30 | </div><!-- /navbar -->


# File: oscardropship/templates/uikit/partials/nav_primary.html

 1 | {% load currency_filters %}
 2 | {% load category_tags %}
 3 | {% load i18n %}
 4 | 
 5 | <div class="navbar primary navbar-static-top navbar-inverse">
 6 |     <div class="container-fluid">
 7 |         <div class="navbar-header pull-right">
 8 |             {# This is used in mobile view #}
 9 |             <a class="btn btn-default navbar-toggle collapsed" data-toggle="collapse" data-target=".primary-collapse">
10 |                 <span>
11 |                     <span class="icon-bar"></span>
12 |                     <span class="icon-bar"></span>
13 |                     <span class="icon-bar"></span>
14 |                 </span>
15 |             </a>
16 |         </div>
17 | 
18 |         <a class="btn btn-default navbar-btn btn-cart navbar-right visible-xs-inline-block" href="{% url 'basket:summary' %}">
19 |             <i class="icon-shopping-cart"></i>
20 |             {% trans "Basket" %}
21 |             {% if not request.basket.is_empty %}
22 |                 {% if request.basket.is_tax_known %}
23 |                     {% blocktrans with total=request.basket.total_incl_tax|currency:request.basket.currency %}
24 |                         Total: {{ total }}
25 |                     {% endblocktrans %}
26 |                 {% else %}
27 |                     {% blocktrans with total=request.basket.total_excl_tax|currency:request.basket.currency %}
28 |                         Total: {{ total }}
29 |                     {% endblocktrans %}
30 |                 {% endif %}
31 |             {% endif %}
32 |         </a>
33 | 
34 | 
35 |         <div class="navbar-collapse primary-collapse collapse">
36 |             {% block nav_dropdown %}
37 |                 <ul id="browse" class="nav navbar-nav">
38 |                     <li class="dropdown active {% if expand_dropdown %}open{% endif %}">
39 |                         <a href="#" class="dropdown-toggle" {% if not expand_dropdown %} data-toggle="dropdown"{% endif %}>
40 |                             {% trans "Browse store" %}
41 |                             <b class="caret"></b>
42 |                         </a>
43 |                         <ul class="dropdown-menu" data-navigation="dropdown-menu">
44 |                             {% category_tree depth=2 as tree_categories %}
45 |                             <li><a tabindex="-1" href="{% url 'catalogue:index' %}">{% trans "All products" %}</a></li>
46 |                             {% if tree_categories %}
47 |                                 <li class="divider"></li>
48 |                                 {% for tree_category in tree_categories %}
49 |                                     {% if tree_category.has_children %}
50 |                                         <li class="dropdown-submenu">
51 |                                             <a tabindex="-1" href="{{ tree_category.get_absolute_url }}">{{ tree_category.name }}</a>
52 |                                             <ul class="dropdown-menu">
53 |                                             {% else %}
54 |                                                 <li><a tabindex="-1" href="{{ tree_category.get_absolute_url }}">{{ tree_category.name }}</a></li>
55 |                                             {% endif %}
56 | 
57 |                                             {% for close in tree_category.num_to_close %}
58 |                                                 </ul></li>
59 |                                             {% endfor %}
60 |                                 {% endfor %}
61 |                             {% endif %}
62 |                             <li class="divider"></li>
63 |                             {% block nav_dropdown_extra_items %}
64 |                                 <li><a href="{% url 'offer:list' %}">{% trans "Offers" %}</a></li>
65 |                             {% endblock %}
66 |                         </ul>
67 |                     </li>
68 |                     {% block nav_extra %}
69 |                     {% endblock %}
70 |                 </ul>
71 |             {% endblock %}
72 |             {% include "oscar/partials/search.html" %}
73 |         </div><!-- /navbar-collapse -->
74 |     </div>
75 | </div><!-- /navbar -->


# File: oscardropship/templates/uikit/partials/navbar.html

  1 | {% load i18n %}
  2 | <nav class="uk-visible@m uk-navbar-container uk-padding-small" uk-sticky="top: 20vh" uk-navbar>
  3 | 
  4 |     <div class="nav-overlay uk-navbar-left">
  5 | 
  6 |         <a class="uk-navbar-item uk-logo uk-text-primary uk-text-lowercase" href="{{ homepage_url }}"><strong>{% block brand_title %}{{ organisation_settings.name }}{% endblock %}</strong></a>
  7 | 
  8 |         <ul class="uk-navbar-nav">
  9 |             {% include "uikit/partials/navbar_primary.html" %}
 10 |         </ul>
 11 | 
 12 |     </div>
 13 | 
 14 |     <div class="nav-overlay uk-navbar-right">
 15 |         <ul class="uk-iconnav">
 16 |             <li uk-tooltip="Search">
 17 |                 <a
 18 |                     class="uk-padding-remove-horizontal"
 19 |                     uk-icon="icon: search"
 20 |                     uk-toggle="target: .nav-overlay; animation: uk-animation-slide-top"
 21 |                     href="#"></a>
 22 |             </li>
 23 |             <li class="uk-inline" uk-tooltip="My Account">
 24 |                 <a href="#" uk-icon="icon: user"></a>
 25 |                 <div uk-dropdown>
 26 |                     <ul class="uk-nav uk-dropdown-nav">
 27 |                         {% include "uikit/partials/navbar_accounts.html" %}
 28 |                     </ul>
 29 |                 </div>
 30 |             </li>
 31 |             <li uk-tooltip="Cart"><a href="{% url 'basket:summary' %}" uk-icon="icon: cart"></a></li>
 32 |         </ul>
 33 |     </div>
 34 | 
 35 |     <div class="nav-overlay uk-navbar-left uk-flex-1" hidden>
 36 | 
 37 |         <div class="uk-navbar-item uk-width-expand">
 38 |             {% include "uikit/partials/search.html" %}
 39 |         </div>
 40 | 
 41 |         <a class="uk-navbar-toggle" uk-close uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
 42 | 
 43 |     </div>
 44 | </nav>
 45 | 
 46 | <nav class="uk-hidden@m uk-flex-center uk-padding-small" style="z-index: 980;" uk-sticky="top: 20vh" uk-grid>
 47 |     {# navigation links #}
 48 |     <div class="uk-width-1-1 nav-overlay">
 49 |         <div class="uk-flex-around uk-flex">
 50 |             <div>
 51 |                 <a href="#" uk-toggle="target: #offcanvas-nav-primary" uk-icon="icon: menu"></a>
 52 |             </div>
 53 |             <div>
 54 |                 <a
 55 |                     class="uk-padding-remove-horizontal"
 56 |                     uk-icon="icon: search"
 57 |                     uk-toggle="target: .nav-overlay; animation: uk-animation-slide-top"
 58 |                     href="#"></a>
 59 |             </div>
 60 |             <div>
 61 |                 <a href="#" uk-toggle="target: #offcanvas-nav-account" uk-icon="icon: user"></a>
 62 |             </div>
 63 |             <div>
 64 |                 <a href="{% url 'basket:summary' %}" uk-icon="icon: cart"></a>
 65 |             </div>
 66 |         </div>
 67 |     </div>
 68 | 
 69 |     <div class="nav-overlay uk-width-1-1" hidden>
 70 |         <div uk-grid>
 71 |             <div class="uk-width-5-6">
 72 |                 {% include "uikit/partials/search.html" %}
 73 |             </div>
 74 |             <div class="uk-width-expand">
 75 |                 <a uk-close uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
 76 |             </div>
 77 |         </div>
 78 | 
 79 | 
 80 |     </div>
 81 | </nav>
 82 | <div class="uk-hidden@m uk-padding-small" uk-grid>
 83 |     {# logo #}
 84 |     <div class="uk-width-1-1 uk-text-center">
 85 |         <a class="uk-logo uk-text-primary uk-text-lowercase" href="{{ homepage_url }}"><strong>{{ organisation_settings.name }}</strong></a>
 86 |     </div>
 87 | </div>
 88 | 
 89 | <nav id="offcanvas-nav-primary" uk-offcanvas="overlay: true">
 90 |     <div class="uk-offcanvas-bar uk-flex uk-flex-column">
 91 | 
 92 |         <ul class="uk-nav uk-nav-primary uk-nav-center uk-margin-auto-vertical">
 93 |             {% include "uikit/partials/navbar_primary.html" %}
 94 |         </ul>
 95 | 
 96 |     </div>
 97 | </nav>
 98 | 
 99 | <nav id="offcanvas-nav-account" uk-offcanvas="overlay: true">
100 |     <div class="uk-offcanvas-bar uk-flex uk-flex-column">
101 | 
102 |         <ul class="uk-nav uk-nav-default uk-nav-center uk-margin-auto-vertical">
103 |             {% include "uikit/partials/navbar_accounts.html" %}
104 |         </ul>
105 | 
106 |     </div>
107 | </nav>


# File: oscardropship/templates/uikit/partials/navbar_accounts.html

 1 | {% load i18n %}
 2 | 
 3 | {% if user.is_authenticated %}
 4 |     <li>
 5 |         {% if num_unread_notifications > 0 %}
 6 |             {# If user has new notifications - we change account link to go to inbox #}
 7 |             <a href="{% url 'customer:notifications-inbox' %}">
 8 |                 <i class="uk-margin-small-right" uk-icon="icon: user"></i>
 9 |                 {% trans "Account" %}
10 |                 <span class="label label-warning">{{ num_unread_notifications }}</span>
11 |             </a>
12 |         {% else %}
13 |             <a href="{% url 'customer:summary' %}"><i class="uk-margin-small-right" uk-icon="icon: user"></i> {% trans "Account" %}</a>
14 |         {% endif %}
15 |     </li>
16 |     {% if user.is_staff or perms.partner.dashboard_access %}
17 |         <li><a href="{% url 'dashboard:index' %}"><i class="uk-margin-small-right" uk-icon="icon: home"></i> {% trans "Dashboard" %}</a></li>
18 |     {% endif %}
19 | 
20 |     <li><a id="logout_link" href="{% url 'customer:logout' %}"><i class="uk-margin-small-right" uk-icon="icon: sign-out"></i> {% trans "Logout" %}</a></li>
21 | {% else %}
22 |     <li><a id="login_link" href="{% url 'customer:login' %}"><i class="uk-margin-small-right" uk-icon="icon: sign-in"></i> {% trans "Login or register" %}</a></li>
23 | {% endif %}
24 | <li><a href="{% url 'basket:summary' %}"><i class="uk-margin-small-right" uk-icon="icon: cart"></i> View Cart</a></li>


# File: oscardropship/templates/uikit/partials/navbar_primary.html

1 | <li class="uk-active"><a href="{{ homepage_url }}">Home</a></li>
2 | <li><a href="{{ organisation_settings.contact_page.get_url|default_if_none:'#' }}">Contact us</a></li>
3 | <li><a href="{{ organisation_settings.about_page.get_url|default_if_none:'#' }}">About</a></li>
4 | <li><a href="{% url 'catalogue:index' %}">Shop</a></li>


# File: oscardropship/templates/uikit/partials/pagination.html

 1 | {% load display_tags %}
 2 | {% load i18n %}
 3 | 
 4 | {% if paginator.num_pages > 1 %}
 5 |     <ul class="uk-pagination uk-flex-center">
 6 |         {% if page_obj.has_previous %}
 7 |             <li><a href="?{% get_parameters page %}page={{ page_obj.previous_page_number }}"><i class="uk-margin-small-right" uk-icon="icon: chevron-left"></i>{% trans "previous" %}</a></li>
 8 |         {% endif %}
 9 |         <li>
10 |         {% blocktrans with page_num=page_obj.number total_pages=paginator.num_pages %}
11 |             Page {{ page_num }} of {{ total_pages }}
12 |         {% endblocktrans %}
13 |         </li>
14 |         {% if page_obj.has_next %}
15 |             <li class="next"><a href="?{% get_parameters page %}page={{ page_obj.next_page_number }}"><i class="uk-margin-small-right" uk-icon="icon: chevron-right"></i>{% trans "next" %}</a></li>
16 |         {% endif %}
17 |     </ul>
18 | {% endif %}


# File: oscardropship/templates/uikit/partials/search.html

1 | {% load i18n %}
2 | 
3 | <form action="{% url 'search:search' %}" class="uk-search uk-search-navbar uk-width-1-1">
4 |     <label class="uk-text-muted uk-visible@m" for="id_q"><small>What are you looking for?</small></label>
5 |     <button type="submit" class="uk-search-icon-flip" uk-search-icon></button>
6 |     <input class="uk-search-input uk-text-uppercase" type="search" placeholder="{% trans "SEARCH PRODUCTS..." %}" name="q" id="id_q" autofocus required>
7 | </form>


# File: oscardropship/templates/uikit/partials/social_media_links.html

 1 | {% if organisation_settings.instagram_url %}
 2 |   <li class="uk-padding-small uk-padding-remove-vertical"><a style="color: black;" href="{{ organisation_settings.instagram_url }}" uk-icon="icon: instagram" target="_blank"></a></li>
 3 | {% endif %}
 4 | {% if organisation_settings.pinterest_url %}
 5 |   <li class="uk-padding-small uk-padding-remove-vertical"><a style="color: black;" href="{{ organisation_settings.pinterest_url }}" uk-icon="icon: pinterest" target="_blank"></a></li>
 6 | {% endif %}
 7 | {% if organisation_settings.twitter_url %}
 8 |   <li class="uk-padding-small uk-padding-remove-vertical"><a style="color: black;" href="{{ organisation_settings.twitter_url }}" uk-icon="icon: twitter" target="_blank"></a></li>
 9 | {% endif %}
10 | {% if organisation_settings.facebook_url %}
11 |   <li class="uk-padding-small uk-padding-remove-vertical"><a style="color: black;" href="{{ organisation_settings.facebook_url }}" uk-icon="icon: facebook" target="_blank"></a></li>
12 | {% endif %}


# File: oscardropship/templates/uikit/wagtail/blocks/banner.html

1 | {% load wagtailimages_tags %}
2 | 
3 | {% image value.background_image original as image %}
4 | <div class="uk-height-viewport uk-flex uk-flex-center uk-flex-middle uk-background-cover uk-dark uk-text-right" style="background-image: url({{ image.url }})" uk-parallax="bgy: -200">
5 | 		<div>
6 |     	<{{ value.title_tag }}>{{ value.title }}</{{ value.title_tag }}>
7 |     	<p><a class="uk-button uk-button-primary" href="{{ value.cta_href }}">{{ value.cta_text }}</a></p>
8 | 		</div>
9 | </div>


# File: oscardropship/templates/uikit/wagtail/partials/product_small.html

 1 | {% load easy_thumbnails_tags %}
 2 | 
 3 | <div class="uk-card uk-card-default">
 4 |     <div class="uk-card-media-top">
 5 |         <a href="{{ product.get_absolute_url }}">
 6 |             <img alt="{{ product.primary_image }}" data-src="{% thumbnail product.primary_image.original 265x328 %}" uk-img>
 7 |         </a>
 8 |     </div>
 9 |     <div class="uk-card-body uk-padding-small">
10 |         <div class=" uk-flex-around" uk-grid>
11 |             <div class="uk-width-1-3">
12 |                 <span class="uk-text-meta uk-align-left">Medical</span>
13 |             </div>
14 |             <div class="uk-width-expand">
15 |                 <span class="uk-align-right">
16 |                     <a href="" uk-icon="icon: star; ratio: 0.5"></a>
17 |                     <a href="" uk-icon="icon: star; ratio: 0.5"></a>
18 |                     <a href="" uk-icon="icon: star; ratio: 0.5"></a>
19 |                     <a href="" uk-icon="icon: star; ratio: 0.5"></a>
20 |                     <a href="" uk-icon="icon: star; ratio: 0.5"></a>
21 |                 </span>
22 |             </div>
23 |             <div class="uk-width-1-1 uk-margin-remove">
24 |                 <h3><a href="{{ product.get_absolute_url }}" class="uk-link-heading"><small>{{ product.get_title }}</small></a></h3>
25 |             </div>
26 |         </div>
27 |     </div>
28 | </div>


# File: oscardropship/templates/uikit/base.html

 1 | {% load i18n %}
 2 | {% load static %}
 3 | 
 4 | {% with settings.multisite.Organisation as organisation_settings %}
 5 |     <!DOCTYPE html>
 6 |     <html lang="{{ LANGUAGE_CODE|default:"en-gb" }}" class="{% block html_class %}no-js{% endblock %}">
 7 |         <head>
 8 |             <title>{% block title %}{{ organisation_settings.name }}{% endblock %}</title>
 9 | 
10 |             <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
11 |             <meta name="created" content="{% now "jS M Y h:i" %}" />
12 |             <meta name="description" content="{% block description %}{% endblock %}" />
13 |             <meta name="viewport" content="{% block viewport %}width=device-width, initial-scale=1{% endblock %}" />
14 |             <meta name="robots" content="NOARCHIVE,NOCACHE" />
15 |             {% block favicon %}
16 |                 <link rel="shortcut icon" href="{% static "favicon.ico" %}" />
17 |             {% endblock %}
18 | 
19 |             {# Block where global CSS will go. #}
20 |             {% block styles %}{% endblock %}
21 | 
22 |             {# Additional CSS - specific to certain pages #}
23 |             {% block extrastyles %}{% endblock %}
24 | 
25 |             {% block extrahead %}{% endblock %}
26 | 
27 |             <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
28 |             {% block tracking %}
29 |                 {# Default to using Google analytics #}
30 |                 {% include "oscar/partials/google_analytics.html" %}
31 |             {% endblock %}
32 |         </head>
33 | 
34 |         <body id="{% block body_id %}default{% endblock %}" class="{% block body_class %}default{% endblock %} uk-background-muted">
35 |             {# Main content goes in this 'layout' block #}
36 |             {% block layout %}{% endblock %}
37 | 
38 |             {# Scripts loaded from a CDN. #}
39 |             {% block cdn_scripts %}
40 |                 <!-- jQuery -->
41 |                 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
42 |                 <script>window.jQuery || document.write('<script src="{% static "oscar/js/jquery/jquery.min.js" %}"><\/script>')</script>
43 |             {% endblock %}
44 | 
45 |             {# Local scripts #}
46 |             {% block scripts %}
47 |             {% endblock %}
48 | 
49 |             {# Additional JS scripts #}
50 |             {% block extrascripts %}{% endblock %}
51 | 
52 |             {# Block for body onload functions #}
53 |             <script>
54 |                 $(function() {
55 |                     {% block onbodyload %}{% endblock %}
56 |                 });
57 |             </script>
58 | 
59 |             {# Page meta-data - this is populated by the 'metadata' template context processor #}
60 |         </body>
61 |     </html>
62 | {% endwith %}


# File: oscardropship/templates/uikit/home.html

  1 | {% extends "uikit/layout.html" %}
  2 | 
  3 | {% load basket_tags %}
  4 | {% load category_tags %}
  5 | {% load i18n %}
  6 | {% load product_tags %}
  7 | {% load wagtailcore_tags %}
  8 | {% load easy_thumbnails_tags %}
  9 | 
 10 | {% block title %}
 11 |     {% if summary %}{{ summary }} |{% endif %} {{ block.super }}
 12 | {% endblock %}
 13 | 
 14 | {% block content_wrapper %}
 15 |     <!-- Banner -->
 16 |     <div class="uk-child-width-expand@s" uk-grid>
 17 |         <div>
 18 |             {% include_block page.banner  %}
 19 |         </div>
 20 |     </div>
 21 | 
 22 |     <!-- Collections -->
 23 |     <div class="uk-child-width-expand@s" uk-grid>
 24 |         {% for category_item in page.category_items.all %}
 25 |             {% with category_item.category as category %}
 26 |                 <div>
 27 |                     <div class="uk-height-large uk-flex uk-flex-center uk-flex-middle uk-background-cover" data-src="{{ category.image.url }}" uk-img>
 28 |                         <h3><a class="uk-button uk-button-secondary" href="{{ category.get_absolute_url }}">{{ category.name }}</a></h3>
 29 |                     </div>
 30 |                 </div>
 31 |             {% endwith %}
 32 |         {% endfor %}
 33 |     </div>
 34 | 
 35 |     <!-- Featured Items -->
 36 |     <div
 37 |         x-data="{ tab: 'new-arivals', showSeeAll: true, }"
 38 |         x-init="$watch('tab', function(value) { showSeeAll = (value in ['new-arivals', 'specials']) ? true : false ; })"
 39 |         class="uk-child-width-1-1@s" uk-grid>
 40 |         <div>
 41 |             <ul class="uk-flex-center" uk-tab>
 42 |                 <li><a @click="tab = 'new-arivals'; showSeeAll = true" href="#new-arivals">NEW ARRIVALS</a></li>
 43 |                 <li><a @click="tab = 'specials'; showSeeAll = true" href="#specials">SPECIALS</a></li>
 44 |                 <li><a @click="tab = 'bestsellers'; showSeeAll = false" href="#bestsellers">BESTSELLERS</a></li>
 45 |                 <li><a @click="tab = 'most-viewed'; showSeeAll = false" href="#most-viewed">MOST VIEWED</a></li>
 46 |                 <li><a @click="tab = 'featured-products'; showSeeAll = false" href="#featured-products">FEATURED PRODUCTS</a></li>
 47 |             </ul>
 48 |         </div>
 49 | 
 50 |         {# new arrivals #}
 51 |         <template x-if="tab == 'new-arivals'">
 52 |             <div>
 53 |                 <div
 54 |                     class="uk-child-width-1-4@l uk-child-width-1-2@m uk-grid-match uk-grid-small uk-flex-center"
 55 |                     uk-grid
 56 |                     uk-height-match="target: > div > div > .uk-card-media-top">
 57 |                     {% for new_product in new_arrivals %}
 58 |                         <div class="uk-padding-remove-horizontal">
 59 |                             {% include "uikit/wagtail/partials/product_small.html" with product=new_product %}
 60 |                         </div>
 61 |                     {% endfor %}
 62 |                 </div>
 63 |             </div>
 64 |         </template>
 65 | 
 66 |         {# specials #}
 67 |         <template x-if="tab == 'specials'">
 68 |             <div>
 69 |                 <div
 70 |                     class="uk-child-width-1-4@l uk-child-width-1-2@m uk-grid-match uk-grid-small uk-flex-center"
 71 |                     uk-grid
 72 |                     uk-height-match="target: > div > div > .uk-card-media-top">
 73 |                     {% for special_product in page.special_products.all %}
 74 |                         <div class="uk-padding-remove-horizontal">
 75 |                             {% include "uikit/wagtail/partials/product_small.html" with product=special_product.product %}
 76 |                         </div>
 77 |                     {% endfor %}
 78 |                 </div>
 79 |             </div>
 80 |         </template>
 81 | 
 82 |         {# most viewed products #}
 83 |         <template x-if="tab == 'most-viewed'">
 84 |             <div>
 85 |                 <div
 86 |                     uk-slider
 87 |                     uk-height-match="target: > div > ul > li > div > .uk-card-media-top">
 88 |                     <div class="uk-position-relative uk-visible-toggle" tabindex="-1">
 89 |                         <ul class="uk-slider-items uk-child-width-1-4@l uk-child-width-1-2@s uk-grid uk-grid-match uk-grid-small">
 90 |                             {% for most_viewed_product in most_viewed_products %}
 91 |                                 <li>
 92 |                                     {% include "uikit/wagtail/partials/product_small.html" with product=most_viewed_product.product %}
 93 |                                 </li>
 94 |                             {% endfor %}
 95 |                         </ul>
 96 |                         <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous uk-slider-item="previous"></a>
 97 |                         <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" uk-slidenav-next uk-slider-item="next"></a>
 98 |                     </div>
 99 |                 </div>
100 |             </div>
101 |         </template>
102 | 
103 |         {# best selling products #}
104 |         <template x-if="tab == 'bestsellers'">
105 |             <div>
106 |                 <div
107 |                     uk-slider
108 |                     uk-height-match="target: > div > ul > li > div > .uk-card-media-top">
109 |                     <div class="uk-position-relative uk-visible-toggle" tabindex="-1">
110 |                         <ul class="uk-slider-items uk-child-width-1-4@l uk-child-width-1-2@s uk-grid uk-grid-match uk-grid-small">
111 |                             {% for best_selling_product in best_selling_products %}
112 |                                 <li>
113 |                                     {% include "uikit/wagtail/partials/product_small.html" with product=best_selling_product.product %}
114 |                                 </li>
115 |                             {% endfor %}
116 |                         </ul>
117 |                         <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous uk-slider-item="previous"></a>
118 |                         <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" uk-slidenav-next uk-slider-item="next"></a>
119 |                     </div>
120 |                 </div>
121 |             </div>
122 |         </template>
123 | 
124 |         {# featured products #}
125 |         <template x-if="tab == 'featured-products'">
126 |             <div>
127 |                 <div
128 |                     uk-slider
129 |                     uk-height-match="target: > div > ul > li > div > .uk-card-media-top">
130 |                     <div class="uk-position-relative uk-visible-toggle" tabindex="-1">
131 |                         <ul class="uk-slider-items uk-child-width-1-4@l uk-child-width-1-2@s uk-grid uk-grid-match uk-grid-small">
132 |                             {% for featured_product in page.featured_products.all %}
133 |                                 <li>
134 |                                     {% include "uikit/wagtail/partials/product_small.html" with product=featured_product.product %}
135 |                                 </li>
136 |                             {% endfor %}
137 |                         </ul>
138 |                         <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous uk-slider-item="previous"></a>
139 |                         <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" uk-slidenav-next uk-slider-item="next"></a>
140 |                     </div>
141 |                 </div>
142 |             </div>
143 |         </template>
144 | 
145 |         <template x-if="showSeeAll">
146 |             <div>
147 |                 <div class="uk-width-expand uk-flex-center" uk-grid>
148 |                     <div>
149 |                         <a class="uk-button uk-button-default" href="{% url 'catalogue:index' %}">SEE ALL</a>
150 |                     </div>
151 |                 </div>
152 |             </div>
153 |         </template>
154 |     </div>
155 | 
156 |     <!-- About -->
157 |     <div class="uk-child-width-expand@s" uk-grid>
158 |         <div>
159 |             <section class="uk-text-center uk-article">
160 |                 <h2 class="uk-article-title">ABOUT OUR STORE!</h2>
161 |                 {{ page.about|richtext }}
162 |             </section>
163 |         </div>
164 |     </div>
165 | 
166 |     <!-- Featured blog posts -->
167 |     <div class="uk-child-width-expand@s" uk-grid>
168 |         <div>
169 |             <section class="uk-text-center uk-article">
170 |                 <h2 class="uk-article-title">LATEST FROM BLOG</h2>
171 |                 <p class="uk-article-meta">THE FRESHEST AND MOST EXCITING NEWS</p>
172 | 
173 |                 <div class="uk-grid-match" uk-grid>
174 |                     {% for blog_post in latest_blog_posts %}
175 |                         {% with blog_post as post %}
176 |                             <div class="uk-width-1-1@s uk-width-1-3@m">
177 |                                 <div class="uk-inline">
178 | 
179 |                                     <a href="{{ post.url }}"><img data-src="{% thumbnail post.header_image.file 500x353 %}" alt="" uk-img></a>
180 |                                     <div class="uk-position-bottom uk-overlay uk-overlay-default">
181 |                                         <h3><a href="{{ post.url }}" class="uk-link-heading">{{ post.title }}</a></h3>
182 |                                     </div>
183 |                                 </div>
184 |                             </div>
185 |                         {% endwith %}
186 |                     {% endfor %}
187 |                 </div>
188 |             </section>
189 |         </div>
190 |     </div> 
191 | {% endblock content_wrapper %}


# File: oscardropship/templates/uikit/layout.html

 1 | {% extends "uikit/base.html" %}
 2 | {% load static %}
 3 | 
 4 | {% block styles %}
 5 |     {% comment %}
 6 |         If you are developing Oscar's CSS, or overriding Oscar's CSS
 7 |         files in your project, then set OSCAR_USE_LESS = True in your
 8 |         settings file. This will enable the on-the-fly less compiler.
 9 |     {% endcomment %}
10 |     {% if use_less %}
11 |         <link rel="stylesheet/less" type="text/css" href="{% static "oscar/less/styles.less" %}" />
12 |     {% else %}
13 |         <!--
14 |         <link rel="stylesheet" type="text/css" href="{% static "oscar/css/styles.css" %}" />
15 |         -->
16 |         <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
17 |         <link rel="stylesheet" href="{% static "thestoreineed.css" %}" />
18 |         <script src="{% static "uikit-3.5.6/js/uikit.min.js" %}"></script>
19 |         <script src="{% static "uikit-3.5.6/js/uikit-icons.min.js" %}"></script>
20 |     {% endif %} 
21 | {% endblock %}
22 | 
23 | {% block layout %}
24 | 
25 |     {# Site logo/title, mini-basket, browse dropdown and searchbox #}
26 |     <header class="uk-container uk-padding-remove-horizontal">
27 |         <!-- Information Bar -->
28 |         {% include "uikit/partials/information_bar.html" %}
29 | 
30 |         <!-- Navbar -->
31 |         {% include "uikit/partials/navbar.html" %}
32 | 
33 |         <!-- Breadcrumbs -->
34 |         {% block breadcrumbs %}{% endblock %}
35 |     </header>
36 | 
37 |     {# Main content of page - other layout templates may override this block #}
38 |     <main class="uk-container uk-padding-small uk-padding-remove-horizontal">
39 |         {% include "uikit/partials/alert_messages.html" %}
40 |         {% block content_wrapper %}{% endblock %}
41 |     </main>
42 | 
43 |     <footer class="uk-container uk-padding-remove-horizontal">{% include "uikit/partials/footer.html" %}</footer>
44 | {% endblock %}
45 | 
46 | {% block cdn_scripts %}
47 |   {{ block.super }}
48 |   {% if use_less and debug %}
49 |     {# Load the on-the-fly less compiler. Never do this in production. #}
50 |     <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.9.0/less.min.js"></script>
51 |   {% endif %}
52 | {% endblock %}
53 | 
54 | {# Local scripts #}
55 | {% block scripts %}
56 |     {{ block.super }}
57 |     <!-- Twitter Bootstrap -->
58 |     <script src="{% static "oscar/js/bootstrap3/bootstrap.min.js" %}"></script>
59 |     <!-- Oscar -->
60 |     <script src="{% static "oscar/js/oscar/ui.js" %}"></script>
61 | 
62 | {% endblock %}
63 | 
64 | {% block extrascripts %}
65 |     {% include "oscar/partials/extrascripts.html" %}
66 |     {{ block.super }}
67 | {% endblock %}
68 | 
69 | {% block onbodyload %}
70 |     {{ block.super }}
71 |     oscar.init();
72 | {% endblock %}


# File: oscardropship/templates/uikit/layout_2_col.html

 1 | {% extends "uikit/layout.html" %}
 2 | 
 3 | {% block title %}
 4 |     {% if summary %}{{ summary }} |{% endif %} {{ block.super }}
 5 | {% endblock %}
 6 | 
 7 | {% block content_wrapper %}
 8 | <div uk-grid>
 9 |     <aside class="uk-width-1-4@l">
10 |         {% block side_nav %}{% endblock side_nav %}
11 |     </aside>
12 | 
13 |     <section class="uk-width-expand">
14 |         {% block content %}{% endblock content %}
15 |     </section>
16 |     
17 | </div>
18 | {% endblock %}


# File: oscardropship/wagtail_pages/__init__.py




# File: oscardropship/wagtail_pages/admin.py

1 | from django.contrib import admin
2 | 
3 | # Register your models here.


# File: oscardropship/wagtail_pages/apps.py

 1 | from django.apps import AppConfig
 2 | 
 3 | 
 4 | def store_as_webp(sender, **kwargs):
 5 |     webp_path = sender.storage.path('.'.join([sender.name, 'webp']))
 6 |     sender.image.save(webp_path, 'webp')
 7 | 
 8 | 
 9 | class WagtailPagesConfig(AppConfig):
10 |     name = 'wagtail_pages'
11 | 
12 |     def ready(self):
13 |         super().ready()
14 | 
15 |         from easy_thumbnails.signals import thumbnail_created
16 |         thumbnail_created.connect(store_as_webp)


# File: oscardropship/wagtail_pages/blocks.py

 1 | from wagtail.core import blocks
 2 | from wagtail.images.blocks import ImageChooserBlock
 3 | 
 4 | 
 5 | class BannerBlock(blocks.StructBlock):
 6 |     title = blocks.CharBlock()
 7 |     title_tag = blocks.ChoiceBlock(
 8 |         default='h1',
 9 |         choices=(
10 |             ('h1', 'h1'),
11 |             ('p', 'p'),
12 |             ('h2', 'h2'),
13 |             ('h3', 'h3'),
14 |             ('h4', 'h4'),
15 |             ('h5', 'h5'),
16 |             ('h6', 'h6'),
17 |         )
18 |     )
19 |     cta_text = blocks.CharBlock(
20 |         required=False,
21 |         help="Call to Action - Text"
22 |     )
23 |     cta_href = blocks.CharBlock(
24 |         required=False,
25 |         default='#',
26 |         help="Call to Action - Target Link"
27 |     )
28 |     background_image = ImageChooserBlock(required=False)
29 | 
30 |     class Meta:
31 |         template = 'uikit/wagtail/blocks/banner.html'


# File: oscardropship/wagtail_pages/models.py

  1 | from django.db import models
  2 | 
  3 | from modelcluster.fields import ParentalKey
  4 | from oscar.core.loading import get_model
  5 | from puput.models import BlogPage
  6 | from wagtail.admin.edit_handlers import (
  7 |     FieldPanel, InlinePanel, StreamFieldPanel, 
  8 | )
  9 | from wagtail.core.fields import StreamField, RichTextField
 10 | from wagtail.core.models import Page, Orderable
 11 | 
 12 | from .blocks import BannerBlock
 13 | 
 14 | Category = get_model('catalogue', 'Category')
 15 | Product = get_model('catalogue', 'Product')
 16 | ProductRecord = get_model('analytics', 'ProductRecord')
 17 | 
 18 | 
 19 | class HomePage(Page):
 20 |     banner = StreamField(
 21 |         [
 22 |             ('banner', BannerBlock())
 23 |         ],
 24 |         blank=True,
 25 |         null=True,
 26 |     )
 27 |     about = RichTextField(blank=True)
 28 | 
 29 |     content_panels = Page.content_panels + [
 30 |         StreamFieldPanel('banner', classname='full'),
 31 |         FieldPanel('about', classname='full'),
 32 |         InlinePanel(
 33 |             'category_items',
 34 |             label='Category Items',
 35 |         ),
 36 |         InlinePanel(
 37 |             'special_products',
 38 |             label='Special Products',
 39 |         ),
 40 |         InlinePanel(
 41 |             'featured_products',
 42 |             label='Featured Products',
 43 |         ),
 44 |     ]
 45 | 
 46 |     def get_template(request, *args, **kwargs):
 47 |         return 'uikit/home.html'
 48 | 
 49 |     def get_most_viewed_products(self):
 50 |         queryset = ProductRecord.objects.filter(product__parent__isnull=True)
 51 |         queryset = queryset.prefetch_related('product__images')
 52 |         queryset = queryset.order_by('-num_views')[:10]
 53 |         return queryset
 54 | 
 55 |     def get_best_selling_products(self):
 56 |         queryset = ProductRecord.objects.filter(product__parent__isnull=True)
 57 |         queryset = queryset.prefetch_related('product__images')
 58 |         queryset = queryset.order_by('-num_purchases', '-num_views')[:10]
 59 |         return queryset
 60 | 
 61 |     def get_newly_arrived_products(self):
 62 |         queryset = Product.objects.browsable().filter(parent__isnull=True)
 63 |         queryset = queryset.prefetch_related('images')[:6]
 64 |         return queryset
 65 | 
 66 |     def get_latest_blog_posts(self):
 67 |         blog = BlogPage.objects.first()
 68 |         queryset = blog.get_entries().select_related('header_image')[:3]
 69 |         return queryset
 70 | 
 71 |     def get_context(self, request):
 72 |         context = super().get_context(request)
 73 | 
 74 |         # Add extra variables and return the updated context
 75 |         context['new_arrivals'] = self.get_newly_arrived_products()
 76 |         context['most_viewed_products'] = self.get_most_viewed_products()
 77 |         context['best_selling_products'] = self.get_best_selling_products()
 78 |         context['latest_blog_posts'] = self.get_latest_blog_posts()
 79 |         return context
 80 | 
 81 | 
 82 | class HomePageCategory(Orderable, models.Model):
 83 |     page = ParentalKey(
 84 |         'wagtail_pages.HomePage',
 85 |         on_delete=models.CASCADE,
 86 |         related_name='category_items')
 87 |     category = models.ForeignKey(
 88 |         Category,
 89 |         on_delete=models.CASCADE,
 90 |         related_name='in_home_page')
 91 | 
 92 |     panels = [
 93 |         FieldPanel('category')
 94 |     ]
 95 | 
 96 | 
 97 | class HomePageSpecialProduct(Orderable, models.Model):
 98 |     page = ParentalKey(
 99 |         'wagtail_pages.HomePage',
100 |         on_delete=models.CASCADE,
101 |         related_name='special_products')
102 |     product = models.ForeignKey(
103 |         Product,
104 |         on_delete=models.CASCADE,
105 |         related_name='home_page_specials')
106 | 
107 |     panels = [
108 |         FieldPanel('product')
109 |     ]
110 | 
111 | 
112 | class HomePageFeaturedProduct(Orderable, models.Model):
113 |     page = ParentalKey(
114 |         'wagtail_pages.HomePage',
115 |         on_delete=models.CASCADE,
116 |         related_name='featured_products')
117 |     product = models.ForeignKey(
118 |         Product,
119 |         on_delete=models.CASCADE,
120 |         related_name='home_page_featured')
121 | 
122 |     panels = [
123 |         FieldPanel('product')
124 |     ]
125 | 
126 | 
127 | class HomePageBlogPost(Orderable, models.Model):
128 |     page = ParentalKey(
129 |         'wagtail_pages.HomePage',
130 |         on_delete=models.CASCADE,
131 |         related_name='blog_posts')
132 |     blog_post = models.ForeignKey(
133 |         BlogPage,
134 |         on_delete=models.CASCADE,
135 |         related_name='home_page_posts')
136 | 
137 |     panels = [
138 |         FieldPanel('product')
139 |     ]


# File: oscardropship/wagtail_pages/schemas.py

  1 | import json
  2 | import stringcase
  3 | 
  4 | 
  5 | class Thing:
  6 |     CONTEXT = 'https://schema.org/'
  7 | 
  8 |     def __init__(
  9 |             self, name='', description='', url=None, image=None, same_as=None):
 10 |         self.name = name
 11 |         self.description = description
 12 |         self.url = url
 13 |         self.image = image
 14 |         self.same_as = same_as
 15 | 
 16 |         self.attributes_to_get = self.get_thing_attributes_to_get()
 17 |         self.optional_attributes = self.get_thing_optional_attributes()
 18 | 
 19 |     def __str__(self):
 20 |         return self.as_python_dict
 21 | 
 22 |     @classmethod
 23 |     def get_item_type(cls):
 24 |         return '{}{}'.format(cls.CONTEXT, cls.__name__)
 25 | 
 26 |     @classmethod
 27 |     def get_thing_optional_attributes(cls):
 28 |         return ['url', 'image', 'same_as']
 29 | 
 30 |     @classmethod
 31 |     def get_thing_attributes_to_get(cls):
 32 |         return ['name', 'description']
 33 | 
 34 |     @property
 35 |     def header_python_dict(self):
 36 |         return {
 37 |             '@context': self.CONTEXT,
 38 |             '@type': self.__class__.__name__,
 39 |         }
 40 | 
 41 |     @property
 42 |     def as_thing_python_dict(self):
 43 |         value = self.header_python_dict
 44 |         value = self.compute_value(value, self.get_thing_attributes_to_get())
 45 |         value = self.compute_value(
 46 |             value, self.get_thing_optional_attributes(), True)
 47 | 
 48 |         return value
 49 | 
 50 |     @property
 51 |     def as_thing_json(self):
 52 |         return json.dumps(self.as_thing_python_dict)
 53 | 
 54 |     @property
 55 |     def as_python_dict(self):
 56 |         value = self.header_python_dict
 57 |         value = self.compute_value(value, self.attributes_to_get)
 58 |         value = self.compute_value(
 59 |             value, self.optional_attributes, True)
 60 | 
 61 |         return value
 62 | 
 63 |     @property
 64 |     def as_json(self):
 65 |         return json.dumps(self.as_python_dict)
 66 | 
 67 |     def compute_value(self, value, attributes, optionals=False):
 68 |         for attribute in attributes:
 69 |             if optionals:
 70 |                 if hasattr(self, attribute) and getattr(self, attribute):
 71 |                     value[stringcase.camelcase(attribute)] = getattr(
 72 |                         self, attribute)
 73 |             else:
 74 |                 value[stringcase.camelcase(attribute)] = getattr(
 75 |                     self, attribute)
 76 |         return value
 77 | 
 78 | 
 79 | class PostalAddress(Thing):
 80 | 
 81 |     def __init__(
 82 |             self, address_country, address_locality, address_region,
 83 |             postal_code, street_address, *args, **kwargs):
 84 |         super().__init__(*args, **kwargs)
 85 |         self.address_country = address_country
 86 |         self.address_locality = address_locality
 87 |         self.address_region = address_region
 88 |         self.postal_code = postal_code
 89 |         self.street_address = street_address
 90 | 
 91 |         self.attributes_to_get += [
 92 |             'address_country', 'address_locality', 'address_region',
 93 |             'postal_code', 'street_address'
 94 |         ]
 95 | 
 96 | 
 97 | class Organization(Thing):
 98 | 
 99 |     def __init__(self, address, email, telephone, same_as, *args, **kwargs):
100 |         super().__init__(*args, **kwargs)
101 |         self.address = address.as_python_dict
102 |         self.email = email
103 |         self.telephone = telephone
104 |         self.same_as = same_as
105 | 
106 |         self.attributes_to_get += ['email', 'telephone', 'same_as']
107 | 
108 | 
109 | class Person(Thing):
110 | 
111 |     def __init__(self, email, affiliation, *args, **kwargs):
112 |         super().__init__(*args, **kwargs)
113 |         self.affiliation = affiliation.as_python_dict
114 |         self.email = email
115 | 
116 |         self.attributes_to_get += ['email', 'affiliation']
117 | 
118 | 
119 | class WebContent(Thing):
120 | 
121 |     def __init__(
122 |             self, about, author, date_published, date_modified,
123 |             *args, **kwargs):
124 |         super().__init__(*args, **kwargs)
125 |         self.about = about.as_thing_python_dict
126 |         self.author = author.as_python_dict
127 |         self.date_published = date_published
128 |         self.date_modified = date_modified
129 | 
130 |         self.attributes_to_get += [
131 |             'about', 'author', 'date_published',
132 |             'date_modified'
133 |         ]
134 | 
135 | 
136 | class Offer(Thing):
137 | 
138 |     def __init__(
139 |             self, price, price_currency, *args, **kwargs):
140 |         super().__init__(*args, **kwargs)
141 |         self.price = price
142 |         self.price_currency = price_currency
143 | 
144 |         self.attributes_to_get += ['price', 'price_currency']
145 | 
146 | 
147 | class Product(Thing):
148 | 
149 |     def __init__(
150 |             self, audience, manufacturer, brand, sku, offer, *args, **kwargs):
151 |         super().__init__(*args, **kwargs)
152 |         self.audience = audience.as_python_dict
153 |         self.manufacturer = manufacturer.as_python_dict
154 |         self.brand = brand.as_python_dict  # organization
155 |         self.sku = sku
156 |         self.offers = offer.as_python_dict
157 | 
158 |         self.attributes_to_get += [
159 |             'audience', 'manufacturer', 'brand', 'sku', 'offers']
160 | 
161 | 
162 | SCHEMAS = [Thing, PostalAddress, Organization, Person, WebContent]
163 | ITEM_TYPES_AS_CHOICES = [(s.get_item_type(), s.__name__)for s in SCHEMAS]


# File: oscardropship/wagtail_pages/tests.py

1 | from django.test import TestCase
2 | 
3 | # Create your tests here.


# File: oscardropship/wagtail_pages/views.py

1 | from django.shortcuts import render
2 | 
3 | # Create your views here.


# File: oscardropship/__init__.py




# File: oscardropship/settings.py

  1 | """
  2 | Django settings for oscardropship project.
  3 | 
  4 | Generated by 'django-admin startproject' using Django 2.2.12.
  5 | 
  6 | For more information on this file, see
  7 | https://docs.djangoproject.com/en/2.2/topics/settings/
  8 | 
  9 | For the full list of settings and their values, see
 10 | https://docs.djangoproject.com/en/2.2/ref/settings/
 11 | """
 12 | 
 13 | import os
 14 | 
 15 | # Build paths inside the project like this: os.path.join(BASE_DIR, ...)
 16 | BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
 17 | 
 18 | 
 19 | # Quick-start development settings - unsuitable for production
 20 | # See https://docs.djangoproject.com/en/2.2/howto/deployment/checklist/
 21 | 
 22 | # SECURITY WARNING: keep the secret key used in production secret!
 23 | SECRET_KEY = 'ii0s$m*qt)adakw(_s@e0!^hmt&&o12)i$gifk&-f^gcd8=7+!'
 24 | 
 25 | # SECURITY WARNING: don't run with debug turned on in production!
 26 | DEBUG = True
 27 | 
 28 | ALLOWED_HOSTS = []
 29 | 
 30 | 
 31 | # Application definition
 32 | 
 33 | INSTALLED_APPS = [
 34 |     'django.contrib.admin',
 35 |     'django.contrib.auth',
 36 |     'django.contrib.contenttypes',
 37 |     'django.contrib.sessions',
 38 |     'django.contrib.messages',
 39 |     'django.contrib.staticfiles',
 40 | ]
 41 | 
 42 | MIDDLEWARE = [
 43 |     'django.middleware.security.SecurityMiddleware',
 44 |     'django.contrib.sessions.middleware.SessionMiddleware',
 45 |     'django.middleware.common.CommonMiddleware',
 46 |     'django.middleware.csrf.CsrfViewMiddleware',
 47 |     'django.contrib.auth.middleware.AuthenticationMiddleware',
 48 |     'django.contrib.messages.middleware.MessageMiddleware',
 49 |     'django.middleware.clickjacking.XFrameOptionsMiddleware',
 50 | ]
 51 | 
 52 | ROOT_URLCONF = 'oscardropship.urls'
 53 | 
 54 | TEMPLATES = [
 55 |     {
 56 |         'BACKEND': 'django.template.backends.django.DjangoTemplates',
 57 |         'DIRS': [],
 58 |         'APP_DIRS': True,
 59 |         'OPTIONS': {
 60 |             'context_processors': [
 61 |                 'django.template.context_processors.debug',
 62 |                 'django.template.context_processors.request',
 63 |                 'django.contrib.auth.context_processors.auth',
 64 |                 'django.contrib.messages.context_processors.messages',
 65 |             ],
 66 |         },
 67 |     },
 68 | ]
 69 | 
 70 | WSGI_APPLICATION = 'oscardropship.wsgi.application'
 71 | 
 72 | 
 73 | # Database
 74 | # https://docs.djangoproject.com/en/2.2/ref/settings/#databases
 75 | 
 76 | DATABASES = {
 77 |     'default': {
 78 |         'ENGINE': 'django.db.backends.sqlite3',
 79 |         'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
 80 |     }
 81 | }
 82 | 
 83 | 
 84 | # Password validation
 85 | # https://docs.djangoproject.com/en/2.2/ref/settings/#auth-password-validators
 86 | 
 87 | AUTH_PASSWORD_VALIDATORS = [
 88 |     {
 89 |         'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
 90 |     },
 91 |     {
 92 |         'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
 93 |     },
 94 |     {
 95 |         'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
 96 |     },
 97 |     {
 98 |         'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
 99 |     },
100 | ]
101 | 
102 | 
103 | # Internationalization
104 | # https://docs.djangoproject.com/en/2.2/topics/i18n/
105 | 
106 | LANGUAGE_CODE = 'en-us'
107 | 
108 | TIME_ZONE = 'UTC'
109 | 
110 | USE_I18N = True
111 | 
112 | USE_L10N = True
113 | 
114 | USE_TZ = True
115 | 
116 | 
117 | # Static files (CSS, JavaScript, Images)
118 | # https://docs.djangoproject.com/en/2.2/howto/static-files/
119 | 
120 | STATIC_URL = '/static/'


# File: oscardropship/urls.py

 1 | """oscardropship URL Configuration
 2 | 
 3 | The `urlpatterns` list routes URLs to views. For more information please see:
 4 |     https://docs.djangoproject.com/en/2.2/topics/http/urls/
 5 | Examples:
 6 | Function views
 7 |     1. Add an import:  from my_app import views
 8 |     2. Add a URL to urlpatterns:  path('', views.home, name='home')
 9 | Class-based views
10 |     1. Add an import:  from other_app.views import Home
11 |     2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')
12 | Including another URLconf
13 |     1. Import the include() function: from django.urls import include, path
14 |     2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))
15 | """
16 | from django.contrib import admin
17 | from django.urls import path
18 | 
19 | urlpatterns = [
20 |     path('admin/', admin.site.urls),
21 | ]


# File: oscardropship/wsgi.py

 1 | """
 2 | WSGI config for oscardropship project.
 3 | 
 4 | It exposes the WSGI callable as a module-level variable named ``application``.
 5 | 
 6 | For more information on this file, see
 7 | https://docs.djangoproject.com/en/2.2/howto/deployment/wsgi/
 8 | """
 9 | 
10 | import os
11 | 
12 | from django.core.wsgi import get_wsgi_application
13 | 
14 | os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'oscardropship.settings')
15 | 
16 | application = get_wsgi_application()


# File: manage.py

 1 | #!/usr/bin/env python
 2 | """Django's command-line utility for administrative tasks."""
 3 | import os
 4 | import sys
 5 | 
 6 | 
 7 | def main():
 8 |     os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings.production')
 9 |     try:
10 |         from django.core.management import execute_from_command_line
11 |     except ImportError as exc:
12 |         raise ImportError(
13 |             "Couldn't import Django. Are you sure it's installed and "
14 |             "available on your PYTHONPATH environment variable? Did you "
15 |             "forget to activate a virtual environment?"
16 |         ) from exc
17 | 
18 |     current_path = os.path.dirname(os.path.abspath(__file__))
19 |     sys.path.append(os.path.join(current_path, 'oscardropship'))
20 |     execute_from_command_line(sys.argv)
21 | 
22 | 
23 | if __name__ == '__main__':
24 |     main()